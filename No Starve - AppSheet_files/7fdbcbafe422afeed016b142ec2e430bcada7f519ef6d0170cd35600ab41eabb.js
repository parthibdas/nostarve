(self.webpackChunkappsheet_app=self.webpackChunkappsheet_app||[]).push([["scripts__shared_models_datalayer_AppModel_ts"],{238435:e=>{e.exports='"use strict";\n\n// http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerwithlabel/docs/reference.html\n\n/* eslint-disable */\nfunction inherits(e, t) {\n  function i() {}\n\n  i.prototype = t.prototype, e.superClass_ = t.prototype, e.prototype = new i(), e.prototype.constructor = e;\n}\n\nfunction MarkerLabel_(e, t, i) {\n  this.marker_ = e, this.handCursorURL_ = e.handCursorURL, this.labelDiv_ = document.createElement("div"), this.labelDiv_.style.cssText = "position: absolute; overflow: hidden;", this.eventDiv_ = document.createElement("div"), this.eventDiv_.style.cssText = this.labelDiv_.style.cssText, this.eventDiv_.setAttribute("onselectstart", "return false;"), this.eventDiv_.setAttribute("ondragstart", "return false;"), this.crossDiv_ = MarkerLabel_.getSharedCross(t);\n}\n\nfunction MarkerWithLabel(e) {\n  e = e || {}, e.labelContent = e.labelContent || "", e.labelAnchor = e.labelAnchor || new google.maps.Point(0, 0), e.labelClass = e.labelClass || "markerLabels", e.labelStyle = e.labelStyle || {}, e.labelInBackground = e.labelInBackground || !1, "undefined" == typeof e.labelVisible && (e.labelVisible = !0), "undefined" == typeof e.raiseOnDrag && (e.raiseOnDrag = !0), "undefined" == typeof e.clickable && (e.clickable = !0), "undefined" == typeof e.draggable && (e.draggable = !1), "undefined" == typeof e.optimized && (e.optimized = !1), e.crossImage = e.crossImage || "http" + ("https:" === document.location.protocol ? "s" : "") + "://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png", e.handCursor = e.handCursor || "http" + ("https:" === document.location.protocol ? "s" : "") + "://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur", e.optimized = !1, this.label = new MarkerLabel_(this, e.crossImage, e.handCursor), google.maps.Marker.apply(this, arguments);\n}\n\ninherits(MarkerLabel_, google.maps.OverlayView), MarkerLabel_.getSharedCross = function (e) {\n  var t;\n  return "undefined" == typeof MarkerLabel_.getSharedCross.crossDiv && (t = document.createElement("img"), t.style.cssText = "position: absolute; z-index: 1000002; display: none;", t.style.marginLeft = "-8px", t.style.marginTop = "-9px", t.src = e, MarkerLabel_.getSharedCross.crossDiv = t), MarkerLabel_.getSharedCross.crossDiv;\n}, MarkerLabel_.prototype.onAdd = function () {\n  var e,\n      t,\n      i,\n      s,\n      a,\n      r,\n      o,\n      l = this,\n      n = !1,\n      g = !1,\n      p = 20,\n      _ = "url(" + this.handCursorURL_ + ")",\n      h = function h(e) {\n    e.preventDefault && e.preventDefault(), e.cancelBubble = !0, e.stopPropagation && e.stopPropagation();\n  },\n      v = function v() {\n    l.marker_.setAnimation(null);\n  };\n\n  this.getPanes().overlayImage.appendChild(this.labelDiv_), this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_), "undefined" == typeof MarkerLabel_.getSharedCross.processed && (this.getPanes().overlayImage.appendChild(this.crossDiv_), MarkerLabel_.getSharedCross.processed = !0), this.listeners_ = [google.maps.event.addDomListener(this.eventDiv_, "mouseover", function (e) {\n    (l.marker_.getDraggable() || l.marker_.getClickable()) && (this.style.cursor = "pointer", google.maps.event.trigger(l.marker_, "mouseover", e));\n  }), google.maps.event.addDomListener(this.eventDiv_, "mouseout", function (e) {\n    !l.marker_.getDraggable() && !l.marker_.getClickable() || g || (this.style.cursor = l.marker_.getCursor(), google.maps.event.trigger(l.marker_, "mouseout", e));\n  }), google.maps.event.addDomListener(this.eventDiv_, "mousedown", function (e) {\n    g = !1, l.marker_.getDraggable() && (n = !0, this.style.cursor = _), (l.marker_.getDraggable() || l.marker_.getClickable()) && (google.maps.event.trigger(l.marker_, "mousedown", e), h(e));\n  }), google.maps.event.addDomListener(document, "mouseup", function (t) {\n    var i;\n\n    if (n && (n = !1, l.eventDiv_.style.cursor = "pointer", google.maps.event.trigger(l.marker_, "mouseup", t)), g) {\n      if (a) {\n        i = l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()), i.y += p, l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(i));\n\n        try {\n          l.marker_.setAnimation(google.maps.Animation.BOUNCE), setTimeout(v, 1406);\n        } catch (r) {}\n      }\n\n      l.crossDiv_.style.display = "none", l.marker_.setZIndex(e), s = !0, g = !1, t.latLng = l.marker_.getPosition(), google.maps.event.trigger(l.marker_, "dragend", t);\n    }\n  }), google.maps.event.addListener(l.marker_.getMap(), "mousemove", function (s) {\n    var _;\n\n    n && (g ? (s.latLng = new google.maps.LatLng(s.latLng.lat() - t, s.latLng.lng() - i), _ = l.getProjection().fromLatLngToDivPixel(s.latLng), a && (l.crossDiv_.style.left = _.x + "px", l.crossDiv_.style.top = _.y + "px", l.crossDiv_.style.display = "", _.y -= p), l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(_)), a && (l.eventDiv_.style.top = _.y + p + "px"), google.maps.event.trigger(l.marker_, "drag", s)) : (t = s.latLng.lat() - l.marker_.getPosition().lat(), i = s.latLng.lng() - l.marker_.getPosition().lng(), e = l.marker_.getZIndex(), r = l.marker_.getPosition(), o = l.marker_.getMap().getCenter(), a = l.marker_.get("raiseOnDrag"), g = !0, l.marker_.setZIndex(1e6), s.latLng = l.marker_.getPosition(), google.maps.event.trigger(l.marker_, "dragstart", s)));\n  }), google.maps.event.addDomListener(document, "keydown", function (e) {\n    g && 27 === e.keyCode && (a = !1, l.marker_.setPosition(r), l.marker_.getMap().setCenter(o), google.maps.event.trigger(document, "mouseup", e));\n  }), google.maps.event.addDomListener(this.eventDiv_, "click", function (e) {\n    (l.marker_.getDraggable() || l.marker_.getClickable()) && (s ? s = !1 : (google.maps.event.trigger(l.marker_, "click", e), h(e)));\n  }), google.maps.event.addDomListener(this.eventDiv_, "dblclick", function (e) {\n    (l.marker_.getDraggable() || l.marker_.getClickable()) && (google.maps.event.trigger(l.marker_, "dblclick", e), h(e));\n  }), google.maps.event.addListener(this.marker_, "dragstart", function (e) {\n    g || (a = this.get("raiseOnDrag"));\n  }), google.maps.event.addListener(this.marker_, "drag", function (e) {\n    g || a && (l.setPosition(p), l.labelDiv_.style.zIndex = 1e6 + (this.get("labelInBackground") ? -1 : 1));\n  }), google.maps.event.addListener(this.marker_, "dragend", function (e) {\n    g || a && l.setPosition(0);\n  }), google.maps.event.addListener(this.marker_, "position_changed", function () {\n    l.setPosition();\n  }), google.maps.event.addListener(this.marker_, "zindex_changed", function () {\n    l.setZIndex();\n  }), google.maps.event.addListener(this.marker_, "visible_changed", function () {\n    l.setVisible();\n  }), google.maps.event.addListener(this.marker_, "labelvisible_changed", function () {\n    l.setVisible();\n  }), google.maps.event.addListener(this.marker_, "title_changed", function () {\n    l.setTitle();\n  }), google.maps.event.addListener(this.marker_, "labelcontent_changed", function () {\n    l.setContent();\n  }), google.maps.event.addListener(this.marker_, "labelanchor_changed", function () {\n    l.setAnchor();\n  }), google.maps.event.addListener(this.marker_, "labelclass_changed", function () {\n    l.setStyles();\n  }), google.maps.event.addListener(this.marker_, "labelstyle_changed", function () {\n    l.setStyles();\n  })];\n}, MarkerLabel_.prototype.onRemove = function () {\n  var e;\n\n  for (this.labelDiv_.parentNode.removeChild(this.labelDiv_), this.eventDiv_.parentNode.removeChild(this.eventDiv_), e = 0; e < this.listeners_.length; e++) {\n    google.maps.event.removeListener(this.listeners_[e]);\n  }\n}, MarkerLabel_.prototype.draw = function () {\n  this.setContent(), this.setTitle(), this.setStyles();\n}, MarkerLabel_.prototype.setContent = function () {\n  var e = this.marker_.get("labelContent");\n  "undefined" == typeof e.nodeType ? (this.labelDiv_.innerHTML = e, this.eventDiv_.innerHTML = this.labelDiv_.innerHTML) : (this.labelDiv_.innerHTML = "", this.labelDiv_.appendChild(e), e = e.cloneNode(!0), this.eventDiv_.appendChild(e));\n}, MarkerLabel_.prototype.setTitle = function () {\n  this.eventDiv_.title = this.marker_.getTitle() || "";\n}, MarkerLabel_.prototype.setStyles = function () {\n  var e, t;\n  this.labelDiv_.className = this.marker_.get("labelClass"), this.eventDiv_.className = this.labelDiv_.className, this.labelDiv_.style.cssText = "", this.eventDiv_.style.cssText = "", t = this.marker_.get("labelStyle");\n\n  for (e in t) {\n    t.hasOwnProperty(e) && (this.labelDiv_.style[e] = t[e], this.eventDiv_.style[e] = t[e]);\n  }\n\n  this.setMandatoryStyles();\n}, MarkerLabel_.prototype.setMandatoryStyles = function () {\n  this.labelDiv_.style.position = "absolute", this.labelDiv_.style.overflow = "hidden", "undefined" != typeof this.labelDiv_.style.opacity && "" !== this.labelDiv_.style.opacity && (this.labelDiv_.style.MsFilter = \'"progid:DXImageTransform.Microsoft.Alpha(opacity=\' + 100 * this.labelDiv_.style.opacity + \')"\', this.labelDiv_.style.filter = "alpha(opacity=" + 100 * this.labelDiv_.style.opacity + ")"), this.eventDiv_.style.position = this.labelDiv_.style.position, this.eventDiv_.style.overflow = this.labelDiv_.style.overflow, this.eventDiv_.style.opacity = .01, this.eventDiv_.style.MsFilter = \'"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"\', this.eventDiv_.style.filter = "alpha(opacity=1)", this.setAnchor(), this.setPosition(), this.setVisible();\n}, MarkerLabel_.prototype.setAnchor = function () {\n  var e = this.marker_.get("labelAnchor");\n  this.labelDiv_.style.marginLeft = -e.x + "px", this.labelDiv_.style.marginTop = -e.y + "px", this.eventDiv_.style.marginLeft = -e.x + "px", this.eventDiv_.style.marginTop = -e.y + "px";\n}, MarkerLabel_.prototype.setPosition = function (e) {\n  var t = this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());\n  "undefined" == typeof e && (e = 0), this.labelDiv_.style.left = Math.round(t.x) + "px", this.labelDiv_.style.top = Math.round(t.y - e) + "px", this.eventDiv_.style.left = this.labelDiv_.style.left, this.eventDiv_.style.top = this.labelDiv_.style.top, this.setZIndex();\n}, MarkerLabel_.prototype.setZIndex = function () {\n  var e = this.marker_.get("labelInBackground") ? -1 : 1;\n  "undefined" == typeof this.marker_.getZIndex() ? (this.labelDiv_.style.zIndex = parseInt(this.labelDiv_.style.top, 10) + e, this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex) : (this.labelDiv_.style.zIndex = this.marker_.getZIndex() + e, this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex);\n}, MarkerLabel_.prototype.setVisible = function () {\n  this.marker_.get("labelVisible") ? this.labelDiv_.style.display = this.marker_.getVisible() ? "block" : "none" : this.labelDiv_.style.display = "none", this.eventDiv_.style.display = this.labelDiv_.style.display;\n}, inherits(MarkerWithLabel, google.maps.Marker), MarkerWithLabel.prototype.setMap = function (e) {\n  google.maps.Marker.prototype.setMap.apply(this, arguments), this.label.setMap(e);\n};\n/* eslint-enable */\n// need this explicitly because use-strict prevents $.globalEval from modifying global namespace\n\nwindow.google.maps.MarkerWithLabel = MarkerWithLabel;'},368142:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(627424)),i=r(n(856690)),a=r(n(689728)),l=r(n(861655)),u=r(n(994993)),s=r(n(73808)),c=r(n(496486)),d=r(n(667294)),p=r(n(236377)),f=r(n(314247)),g=r(n(593186)),h=r(n(190644)),m=n(365914),y=r(n(571524)),v=r(n(498967)),b=n(46239),O=n(166089),w=n(235049);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var T=!1,A=b.ImageMapType.CACHE_MAX_ZOOM-1,k={"far fa-search":"fal fa-search"},E=function(e){(0,l.default)(n,e);var t=S(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).onMount=function(e){r.domNode=e},r.repaint=function(){var e=f.default.getMapInstance(r.state.mountId);e&&e.repaint()},r.onCustomMapReady=function(e){null==e&&r.setState(r.state)},r.onMountCallback=function(e){e.map&&!c.default.isEmpty(e.map.mapTypes)&&r.updateMap(e)},r.state={mountId:Math.random()},r}return(0,a.default)(n,[{key:"name",get:function(){return"ClusterMapPane"}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.repaint),this.componentDidUpdate()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.repaint),this.stopWatchingLocation(),f.default.unmountMap(this.state.mountId)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.showMap,n=e.table,r=e.mapColumn,o=e.customMapType;if(!1!==t&&this.domNode){var i=n&&n.name(),a=this.onMountCallback;f.default.mountMap(this.domNode,this.state.mountId,{tableName:i,mapColumn:r,callback:a,isXY:!!o})}else this.componentWillUnmount()}},{key:"render",value:function(){var e;return this.props.blockLinkToMaps&&(e=d.default.createElement("div",{className:"GoogleMapPane__link-blocker"})),d.default.createElement("div",{className:"GoogleMapPane"},d.default.createElement("div",{className:"GoogleMapPane__map-parent",ref:this.onMount}),e)}},{key:"updateMarkerClustererOptions",value:function(e){var t=this.props,n=t.mapMode,r=t.minimumClusterSize,o=t.customMapType;e.zoomOnClick_="fixed"!==n,o?e.setMaxZoom(A):e.setMaxZoom(18),r&&e.getMinClusterSize()!==r&&(e.setMinClusterSize(r),e.resetViewport())}},{key:"updateMap",value:function(e){var t=this,n=e.map,r=f.default.api;this.repaint();var o=this.props,i=o.appModel,a=o.table,l=o.mapColumn,u=o.customMapType,s=o.hidePointsOfInterest,d=o.selectedItem,p=o.draggablePinCoordinates,g=this.props,v=g.zoom,S=g.minimumClusterSize;if(i&&a){this.mapInstance=e;var A,k=this.props.layers||[],E=this.props.mapEventHandlers||{},C=this.props.items||[],x=this.props.mapType||r.maps.MapTypeId.ROADMAP,D=this.props.mapOptions,R=a.name(),I={disableDefaultUI:!!d,draggableCursor:null};1===S&&(S=2),null!=S&&S<1&&(S=1e6),u?(A=u.id(),n.mapTypes.set(A,u.definition(r)),u.isReady()||u.whenReady(this.onCustomMapReady)):A=f.default.normalizeMapType(x),n.mapTypeId!==A&&(I.mapTypeId=A),s&&(I.styles=[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]}]);var N=a&&l&&a.tableSchema.findAttributeByName(l);N&&N.auxData()&&N.auxData().KMLFileUrl?(e.kmlLayer&&e.kmlLayer.url!==N.auxData().KMLFileUrl&&(e.kmlLayer.setMap(null),e.kmlLayer=null),e.kmlLayer||(e.kmlLayer=new r.maps.KmlLayer(N.auxData().KMLFileUrl,{suppressInfoWindows:!1,preserveViewport:!0,map:n}))):e.kmlLayer&&(e.kmlLayer.setMap(null),e.kmlLayer=null),e.clearListeners();var L,_,M=function(t){var o=E[t],i=n.addListener(t,(function(e){o(e,n,r)}));e.registerListener(i)};for(var G in E)M(G);for(var F=!1,B=0,V=c.default.concat(C,c.default.flatMap(k,(function(e){return e.mapItems})));null==L||null==_;){switch(B){case 0:L=h.default.normalizeLatOrLng(this.props.centerLat),_=h.default.normalizeLatOrLng(this.props.centerLng);break;case 1:d&&(L=h.default.normalizeLatOrLng(d.Latitude),_=h.default.normalizeLatOrLng(d.Longitude));break;case 2:V.length>0&&(L=V[0].Latitude,_=V[0].Longitude,F=V.length>1);break;case 3:null==h.default.lastPosition||u||(L=h.default.lastPosition.coords.latitude,_=h.default.lastPosition.coords.longitude,F=V.length>1);break;case 4:L=f.default.defaultLat,_=f.default.defaultLng,null!=v&&v>2&&(v=2);break;default:L=0,_=0}B++}var U=f.default.getMountedPins(e.id);T;var H=O.AppGlobals.ViewManager.theme.getThemeColor("themeMainColor"),q={tableName:R,mapColumn:l,mapItems:C,defaultFormatting:{color:P(H,-.2),scale:6,noMarkerWithLabel:!0}},W=F;this.filterAndSortLayerItems(q,L,_,W);var z=this.updatePins(U,q),Y=z.pinsToAdd,J=z.pinsToShow,K=z.selectedPin,Q=H;k.forEach((function(e){e.defaultFormatting={color:P(Q,.3),scale:6,noMarkerWithLabel:!0},Q=e.defaultFormatting.color,t.filterAndSortLayerItems(e,L,_,W);var n=t.updatePins(U,e);K=K||n.selectedPin,Y=c.default.union(Y,n.pinsToAdd),J=c.default.union(J,n.pinsToShow)}));var $=c.default.values(U);T,f.default.unmountPins(e.id,U);var X=c.default.union(Y,J);setTimeout((function(){var n,r;t.showPins(X),t.hidePins($),(n={pinsToAdd:Y,pinsToHide:$,pinsToShow:J},r=new m.NestedStore,c.default.keys(n).forEach((function(e){n[e].forEach((function(t){var n=j(t);r.for(n).push(e,t)}))})),r).forEach((function(n,r){var o=e.initMarkerClusterer(n);t.updateMarkerClustererOptions(o);var i=r.toSimpleObject(),a=i.pinsToAdd,l=void 0===a?[]:a,u=i.pinsToHide,s=void 0===u?[]:u,c=i.pinsToShow,d=void 0===c?[]:c;o.getTotalMarkers()!==d.length+s.length?(o.clearMarkers(),o.addMarkers(l),o.addMarkers(d)):(s.length||l.length)&&(o.removeMarkers(s),o.addMarkers(l))}))}),0);var Z=e.state.activePin;if(null!=K?null!=Z?Z.map===n&&Z.position===K.position||Z.setOptions({position:K.position,map:n}):Z=new r.maps.Marker({map:n,position:K.position,draggable:!1}):null!=Z&&Z.setMap(null),e.setState({activePin:Z}),F){var ee=new r.maps.LatLngBounds;X.map((function(e){return e.position})).forEach((function(e){return ee.extend(e)}));var te=ee.getNorthEast();!te||te.equals(ee.getSouthWest())?F=!1:n.fitBounds(ee)}if(F||(I.center={lat:L,lng:_},null!=v&&v!==n.getZoom()&&(I.zoom=v)),y.default.InMobileWebView()&&i.AppTemplate.Behavior.FullOfflineCaching){var ne=!navigator.onLine||!(0,w.isConnected)();I.maxZoom=ne&&u?b.ImageMapType.CACHE_MAX_ZOOM:u?b.ImageMapType.MAX_ZOOM:22}this.updateCurrentLocation(e),p&&this.updateDraggablePins(p,e),this.updateDraggablePin(e),n.setOptions(c.default.extend(I,D))}}},{key:"maxPins",value:function(e){var t=e.maxPins;if(null==t){try{t=e.appModel.AppTemplate.Presentation.MapPinMax}catch(e){g.default.ReportErrorOnce({errorMessage:"null reference from nextProps.appModel.AppTemplate.Presentation.MapPinMax"})}null==t&&(t=y.default.InMobileWebView()?250:1e3)}return t}},{key:"hidePins",value:function(e){null!=e&&(e=null!=e.length?e:[e]).forEach((function(e){null!=e&&null!=e.map&&"function"==typeof e.setVisible&&e.setVisible(!1)}))}},{key:"showPins",value:function(e){var t=this,n=this.mapInstance.map;if(null!=e&&null!=n){var r=this.props.selectedItem;(e=null!=e.length?e:[e]).forEach((function(e){t.formatPin(e),r&&r.Id===e.appsheetItem.Id?e.setVisible(!1):e.visible||e.setVisible(!0)}))}}},{key:"formatPin",value:function(e){var t=j(e),n=function(e){var t=e.appsheetFormatting;return t&&t.icon&&t.icon[0]}(e);null==e.icon&&(n?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3?arguments[3]:void 0,o=[e,n,t].join(", "),i=N[o];if(null==i){T,N[o]=[r];var a=new Image,l=I(t,n);a.src=l,a.onload=function(){var t=document.createElement("i");e.match(/^fa[rls]?\s/)||(e="fas "+e),e=k[e]||e,t.className=e,document.body.appendChild(t);var r=window.getComputedStyle(t,":before"),i=r.content.replace(/'|"/g,"").charCodeAt(0),l=r.fontWeight;document.body.removeChild(t);var u=a.height,s=x(n,u),c=s.getContext("2d");c.drawImage(a,0,0,n,u),c.fillStyle="white",c.font="".concat(l,' 9px "Font Awesome 5 Pro"'),c.textAlign="center",c.fillText(String.fromCharCode(i),.5*n,.51*u);var d=s.toDataURL(),p=new f.default.api.maps.Size(n,u),g={url:d,size:p,scaledSize:p},h=N[o];Array.isArray(h)&&h.forEach((function(e){return e(g)})),N[o]=g},a.onerror=function(){var e=N[o];Array.isArray(e)&&e.forEach((function(e){return e(l)})),N[o]=l}}else Array.isArray(i)?i.push(r):r(i)}(n,t,20,(function(t){return e.setIcon(t)})):e.setIcon(I(t,12)))}},{key:"stopWatchingLocation",value:function(){null!=this.locationUpdateListener&&(h.default.removeListener(this.locationUpdateListener),this.locationUpdateListener=null)}},{key:"updateCurrentLocation",value:function(e){var t=e.state.currentLocMarker,n=e.map,r=this.props;if(r.showCurrentLocation){null==t&&(t=new f.default.api.maps.Marker({icon:{path:f.default.api.maps.SymbolPath.CIRCLE,scale:7,fillOpacity:1,fillColor:"#2B6FF6",strokeColor:"white",strokeWeight:2},draggable:!1,map:n}),e.setState({currentLocMarker:t}));var o=function(e,r){var o=t.position;t.map!==n&&t.setOptions({map:n}),null!=o&&o.lat()===e&&o.lng()===r||t.setOptions({position:new f.default.api.maps.LatLng(e,r)}),f.default.getCenterLat(n)===f.default.defaultLat&&f.default.getCenterLng(n)===f.default.defaultLng&&n.setCenter(new f.default.api.maps.LatLng(e,r))};"High"===r.locationMode?this.locationUpdateListener||(this.locationUpdateListener=h.default.addListener({interval:200,maximumAge:200,enableHighAccuracy:!0,callback:function(e){return o(e.coords.latitude,e.coords.longitude)}})):(h.default.fetchLatLong(o),this.stopWatchingLocation())}else null!=t&&t.setMap(null)}},{key:"updateDraggablePins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.props,r=t.state.pendingPins||[],i=n.draggablePinEventHandlers||{},a=[];c.default.zip(e,r).forEach((function(e,r){var l=(0,o.default)(e,2),u=l[0],s=l[1];u?function(){var e=c.default.extend({draggable:!0,map:t.map,position:u},n.draggablePinOptions),o=s||new f.default.api.maps.Marker;o.setOptions(e),f.default.api.maps.event.clearInstanceListeners(o);var l=function(e){var n=i[e],a=o.addListener(e,(function(e){n(e,o,t.map,f.default.api,r)}));t.registerListener(a)};for(var d in n.draggablePinEventHandlers)l(d);a.push(o)}():s.setMap(null)})),t.setState({pendingPins:a})}},{key:"updateDraggablePin",value:function(e){var t=this.props,n=e.state.draggablePin,r=t.draggablePinEventHandlers,o=t.draggablePinCoordinates,i=t.draggablePinOptions||{},a=e.map;if(r&&!o){if(null==n){var l={url:"https://www.appsheet.com/content/img/pageart/draggable-pin-white-2x.png",size:new f.default.api.maps.Size(44,78),scaledSize:new f.default.api.maps.Size(33,58.5),anchor:new f.default.api.maps.Point(16.5,58.5)};n=new f.default.api.maps.Marker({icon:l,animation:f.default.api.maps.Animation.BOUNCE,position:a.center,draggable:!0,map:a}),e.setState({draggablePin:n})}null!=i.latitude&&null!=i.longitude&&n.setPosition(new f.default.api.maps.LatLng(i.latitude,i.longitude));var u=function(t){var o=r[t],i=n.addListener(t,(function(e){o(e,n,a,f.default.api)}));e.registerListener(i)};for(var s in r)u(s)}else null!=n&&(n.setMap(null),e.setState({draggablePin:null}),n=null)}},{key:"filterAndSortLayerItems",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(c.default.get(e,"mapItems.length"),new Map);if(!o){var a=this.mapInstance.map.getBounds(),l=a.getNorthEast();r=1.5*C(t,n,l.lat(),l.lng())}e.mapItems=e.mapItems.filter((function(e){var o=C(t,n,e.Latitude,e.Longitude);return(!r||o<r)&&(i.set(e,o),!0)}));var u=function(e,t){var n=i.get(e),r=i.get(t);return n>r?1:n<r?-1:0};v.default.sort(e.mapItems,u)}},{key:"updatePins",value:function(e,t){for(var n=this,r=this.props,o=r.appModel||O.AppGlobals.AppModel,i=t.tableName,a=t.mapColumn,l=t.mapItems,u=t.defaultFormatting,s=o&&o.findTableCollection(i).table,d=r.selectedItem,g=d?d.Id:null,m=r.pinEventHandlers||{},y={},v={},b=0;b<l.length&&b<this.maxPins(r);b++){var w=l[b];y[w.Id]=w;var S=void 0;w.Hash in v&&(S=v[w.Hash]||(0,p.default)(w.Hash),w.Latitude+=3e-4*(S()-.5),w.Longitude+=3e-4*(S()-.5),w.Hash=h.default.hashLatLng(w.Latitude,w.Longitude)),v[w.Hash]=S}var T,A=[],k=[],E=r.selectedTable||(r.table?r.table.name():""),P=r.selectedColumn||r.mapColumn,C=function(t){var r=y[t],o=s&&s.lookupTableRow(t),l=o&&o.getColumnFormatting(a),d=c.default.extend({},u,l),p=h.default.normalizeLatOrLng(r.Latitude),v=h.default.normalizeLatOrLng(r.Longitude),b=f.default.makePinCacheKey(i,a,t,d),O=e[b];if(O)delete e[b],A.push(O);else{var w=f.default.getPin(d,r);O=w.pin,w.created,f.default.cacheMountedPin(n.mapInstance.id,b,O),k.push(O)}null==p||null==v||null!=O.position&&O.position.lat()===p&&O.position.lng()===v||O.setPosition({lat:p,lng:v});var S=function(e){var t=m[e],r=O.addListener(e,(function(e){t(e,O,f.default.api)}));n.mapInstance.registerListener(r)};for(var C in m)S(C);O.appsheetItem=r,null!=g&&g===t&&E===i&&P===a&&(T=O)};for(var x in y)C(x);return{pinsToAdd:k,pinsToShow:A,selectedPin:T}}}]),n}(d.default.Component);function P(e,t){var n=parseInt(e.slice(1),16),r=t<0?0:255,o=t<0?-1*t:t,i=n>>16,a=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((r-i)*o)+i)+256*(Math.round((r-a)*o)+a)+(Math.round((r-l)*o)+l)).toString(16).slice(1)}function C(e,t,n,r){var o=Math.abs(r-t),i=Math.min(o,360-o);return Math.pow(n-e,2)+Math.pow(i,2)}function x(e,t,n){if(!n){var r=document.createElement("canvas").getContext("2d");n=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)}var o=document.createElement("canvas");return o.width=e*n,o.height=t*n,o.style.width=e+"px",o.style.height=t+"px",o.getContext("2d").setTransform(n,0,0,n,0,0),o}function D(e,t){return"data:image/svg+xml;base64,"+window.btoa('\n        <svg\n        xmlns:dc="http://purl.org/dc/elements/1.1/"\n        xmlns:cc="http://creativecommons.org/ns#"\n        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n        xmlns:svg="http://www.w3.org/2000/svg"\n        xmlns="http://www.w3.org/2000/svg"\n        id="svg8"\n        version="1.1"\n        viewBox="0 0 5.2916665 7.2680725"\n        height="'.concat(1.373494*t,'"\n        width="').concat(t,'">\n        <defs id="defs2">\n        </defs>\n        <g\n            transform="translate(-99.991578,-200.12094)"\n            id="layer1">\n    <path\n       d="m 103.704,205.33857 c 0.63411,-0.57806 1.35611,-1.33382 1.35611,-2.41032 0,-1.40729 -1.08027,-2.54809 -2.42268,-2.54809 -1.34243,0 -2.4227,1.1408 -2.4227,2.54809 0,1.0765 0.722,1.83226 1.35611,2.41032 1.10843,1.01046 0.62534,1.81113 1.06659,1.81113 0.44124,0 -0.0418,-0.80067 1.06657,-1.81113 z"\n       style="opacity:1;fill:').concat(e,';fill-opacity:0.98016998;stroke:#ffffff;stroke-width:0.26;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       id="path879" />\n        </g>\n        </svg>\n    '))}E.defaultProps={labelSize:22,mapOptions:{},showCurrentLocation:!0};var R={};function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=t+e;return R[n]=R[n]||D(e,t),R[n]}var N={};function j(e){var t=e.appsheetFormatting;return t?t.highlightColor||t.textColor||t.color:O.AppGlobals.ViewManager.theme.getThemeColor("actionIcon")}var L=E;t.default=L},685650:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.preloadForOffline=function(){d.default.whenReady((function(){h||(h=new p.default({state:{appModel:f.AppGlobals.AppModel,appState:f.AppGlobals.AppState},render:function(e){return s.default.createElement(m,e)}}),setTimeout((function(){h.setState({showMap:!0})}),1e3),setTimeout((function(){h.setState({showMap:!1})}),3e3),$("body").append(h.$el))}))};var o=r(n(856690)),i=r(n(689728)),a=r(n(861655)),l=r(n(994993)),u=r(n(73808)),s=r(n(667294)),c=r(n(368142)),d=r(n(314247)),p=r(n(523930)),f=n(166089);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var h,m=function(e){(0,a.default)(n,e);var t=g(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){return s.default.createElement("div",{className:"PreloadGoogleMap"},s.default.createElement(c.default,Object.assign({},this.props,{showCurrentLocation:!1})))}}]),n}(s.default.Component)},50295:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.Toasts=t.MLKitWarningToast=t.MLKitUnsupportedToast=t.DeprecationWarningToast=void 0;var o=r(n(667294)),i=n(697211),a=r(n(572063)),l=r(n(21870)),u=n(202079),s=n(56749),c=n(400078),d=r(n(571524)),p=r(n(587191)),f=n(351101),g=function(){return d.default.InAndroidWebView()?"https://play.google.com/store/apps/details?id=x1Trackmaster.x1Trackmaster":d.default.InIOSWebView()?"https://apps.apple.com/us/app/appsheet/id732548900":""},h=(0,i.makeStyles)({alert:{padding:"8px 32px 16px 16px",width:"480px",maxWidth:"90vw",fontSize:"0.9rem"},header:{fontSize:"1.2rem"},alertDialog:{width:"320px",maxWidth:"90vw",fontSize:"0.9rem"},alertDialogCenterColumn:{display:"flex",flexDirection:"column",height:"100%",marginTop:"8px"},alertDialogContent:{flexGrow:1,padding:"8px 0px"}});function m(e){var t=e.children,n=e.isOpen,r=e.close,a=e.autoHideDuration,l=e.anchorOrigin;return o.default.createElement(s.ASThemeProvider,null,o.default.createElement(i.Snackbar,{anchorOrigin:l,open:n,autoHideDuration:a,onClose:r},t))}var y=(0,u.observer)((function(){var e=h();if(l.default.toasts.length){var t=l.default.toasts[0],n=t.config,r=t.contentProps,i=void 0===r?{}:r,a=n.autoHideDuration,u=n.anchorOrigin,s=n.renderContent;return o.default.createElement(m,{isOpen:!0,close:l.default.dismissToast,autoHideDuration:a,anchorOrigin:u},s(i,e))}return o.default.createElement(m,{isOpen:!1})}));function v(e){var t=e.title,n=e.content,r=e.onClick,i=void 0===r?l.default.dismissToast:r,u=h();return o.default.createElement(c.Alert,{className:u.alert,severity:"error",icon:o.default.createElement(a.default,{fontSize:"large"}),onClick:i},t&&o.default.createElement(c.AlertTitle,{className:u.header},t),n)}t.Toasts=y;var b={config:{anchorOrigin:{vertical:"top",horizontal:"center"},renderContent:function(){var e=o.default.createElement(o.default.Fragment,null,"Your barcode scanner will stop working within a few days. To continue using the scanner ",o.default.createElement(i.Link,{underline:"always",href:g()},"please update AppSheet"),"."),t=d.default.IsWhitelabelBrowser()?"Your barcode scanner will stop working within a few days. To avoid this, please reach out to the admin of this app to get an update.":e;return o.default.createElement(v,{title:"You are using an outdated app version.",content:t})}}};t.MLKitWarningToast=b;var O={config:{anchorOrigin:{vertical:"top",horizontal:"center"},renderContent:function(){var e=o.default.createElement(o.default.Fragment,null,"Your barcode scanner is no longer supported. To continue using the scanner ",o.default.createElement(i.Link,{underline:"always",href:g()},"please update AppSheet"),"."),t=d.default.IsWhitelabelBrowser()?"Your barcode scanner is no longer supported. To continue using the scanner, please reach out to the admin of this app to get an update.":e;return o.default.createElement(v,{title:"You are using an outdated app version.",content:t})}}};t.MLKitUnsupportedToast=O;var w={config:{anchorOrigin:{vertical:"top",horizontal:"center"},renderContent:function(e,t){var n=(0,f.mapActionName)("App update available"),r=(0,f.mapActionName)("You're using an older version of the app. To update the app, contact the app owner."),a=(0,f.mapActionName)("A new version of AppSheet is available");return o.default.createElement("div",null,o.default.createElement(c.Alert,{className:t.alertDialog,severity:"warning",icon:o.default.createElement(p.default,{fontSize:"large"})},o.default.createElement("div",{className:t.alertDialogCenterColumn},o.default.createElement(c.AlertTitle,{className:t.header},n),o.default.createElement(i.DialogContent,{className:t.alertDialogContent},d.default.IsWhitelabelBrowser()?r:a),o.default.createElement(i.DialogActions,null,d.default.IsWhitelabelBrowser()?o.default.createElement(i.Button,{onClick:l.default.dismissToast},"OK"):o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Button,{onClick:l.default.dismissToast},"Not now"),o.default.createElement(i.Button,{onClick:function(){return window.InputHandler.switchToUrl(g(),!0)}},"Update"))))))}}};t.DeprecationWarningToast=w},646514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_THEME_ERROR_DARK_HOVER_OR_FOCUS=t.GOOGLE_THEME_ERROR_DARK=t.GOOGLE_SURFACE_LIGHT=t.GOOGLE_SURFACE_DARK=t.GOOGLE_RED_900=t.GOOGLE_RED_800=t.GOOGLE_RED_700=t.GOOGLE_RED_600=t.GOOGLE_RED_500=t.GOOGLE_RED_50=t.GOOGLE_RED_400=t.GOOGLE_RED_300=t.GOOGLE_RED_200=t.GOOGLE_RED_100=t.GOOGLE_RED=t.GOOGLE_PURPLE_900=t.GOOGLE_PURPLE_800=t.GOOGLE_PURPLE_700=t.GOOGLE_PURPLE_600=t.GOOGLE_PURPLE_500=t.GOOGLE_PURPLE_50=t.GOOGLE_PURPLE_400=t.GOOGLE_PURPLE_300=t.GOOGLE_PURPLE_200=t.GOOGLE_PURPLE_100=t.GOOGLE_PINK_900=t.GOOGLE_PINK_800=t.GOOGLE_PINK_700=t.GOOGLE_PINK_600=t.GOOGLE_PINK_500=t.GOOGLE_PINK_50=t.GOOGLE_PINK_400=t.GOOGLE_PINK_300=t.GOOGLE_PINK_200=t.GOOGLE_PINK_100=t.GOOGLE_ORANGE_900=t.GOOGLE_ORANGE_800=t.GOOGLE_ORANGE_700=t.GOOGLE_ORANGE_600=t.GOOGLE_ORANGE_500=t.GOOGLE_ORANGE_50=t.GOOGLE_ORANGE_400=t.GOOGLE_ORANGE_300=t.GOOGLE_ORANGE_200=t.GOOGLE_ORANGE_100=t.GOOGLE_GREY_900=t.GOOGLE_GREY_800=t.GOOGLE_GREY_700=t.GOOGLE_GREY_600=t.GOOGLE_GREY_500=t.GOOGLE_GREY_50=t.GOOGLE_GREY_400=t.GOOGLE_GREY_300=t.GOOGLE_GREY_200=t.GOOGLE_GREY_100=t.GOOGLE_GREEN_900=t.GOOGLE_GREEN_800=t.GOOGLE_GREEN_700=t.GOOGLE_GREEN_600=t.GOOGLE_GREEN_500=t.GOOGLE_GREEN_50=t.GOOGLE_GREEN_400=t.GOOGLE_GREEN_300=t.GOOGLE_GREEN_200=t.GOOGLE_GREEN_100=t.GOOGLE_GREEN=t.GOOGLE_DARK_ELEVATION4=t.GOOGLE_DARK_ELEVATION3=t.GOOGLE_DARK_ELEVATION2=t.GOOGLE_DARK_ELEVATION=t.GOOGLE_CYAN_900=t.GOOGLE_CYAN_800=t.GOOGLE_CYAN_700=t.GOOGLE_CYAN_600=t.GOOGLE_CYAN_500=t.GOOGLE_CYAN_50=t.GOOGLE_CYAN_400=t.GOOGLE_CYAN_300=t.GOOGLE_CYAN_200=t.GOOGLE_CYAN_100=t.GOOGLE_BLUE_900=t.GOOGLE_BLUE_800=t.GOOGLE_BLUE_700=t.GOOGLE_BLUE_600=t.GOOGLE_BLUE_500=t.GOOGLE_BLUE_50=t.GOOGLE_BLUE_400=t.GOOGLE_BLUE_300=t.GOOGLE_BLUE_200=t.GOOGLE_BLUE_100=t.GOOGLE_BLUE=t.GOOGLE_BLACK=t.DARK_STATE_HOVER_SELECTED=t.DARK_STATE_HOVER=t.DARK_STATE_FOCUS=t.DARK_ELEVATION4=t.DARK_ELEVATION3=t.DARK_ELEVATION2=t.DARK_ELEVATION=t.BLACK=void 0,t.SURFACE_DARK=t.STATE_HOVER_SELECTED=t.STATE_HOVER=t.STATE_FOCUS=t.LIGHT_GREY=t.LIGHT_ELEVATION4=t.LIGHT_ELEVATION3=t.LIGHT_ELEVATION2=t.LIGHT_ELEVATION=t.GOOGLE_YELLOW_900=t.GOOGLE_YELLOW_800=t.GOOGLE_YELLOW_700=t.GOOGLE_YELLOW_600=t.GOOGLE_YELLOW_500=t.GOOGLE_YELLOW_50=t.GOOGLE_YELLOW_400=t.GOOGLE_YELLOW_300=t.GOOGLE_YELLOW_200=t.GOOGLE_YELLOW_100=t.GOOGLE_YELLOW=t.GOOGLE_WHITE=t.GOOGLE_THEME_WARNING_LIGHT=t.GOOGLE_THEME_WARNING_DARK=t.GOOGLE_THEME_INFO_LIGHT=t.GOOGLE_THEME_INFO_DARK=t.GOOGLE_THEME_ERROR_LIGHT_HOVER_OR_FOCUS=t.GOOGLE_THEME_ERROR_LIGHT=void 0;t.GOOGLE_BLUE_50="#e8f0fe";t.GOOGLE_BLUE_100="#d2e3fc";t.GOOGLE_BLUE_200="#aecbfa";t.GOOGLE_BLUE_300="#8ab4f8";t.GOOGLE_BLUE_400="#669df6";t.GOOGLE_BLUE_500="#4285f4";var n="#1a73e8";t.GOOGLE_BLUE_600=n;t.GOOGLE_BLUE_700="#1967d2";t.GOOGLE_BLUE_800="#185abc";t.GOOGLE_BLUE_900="#174ea6";t.GOOGLE_BLUE="#1a73e8";t.GOOGLE_RED_50="#fce8e6";t.GOOGLE_RED_100="#fad2cf";t.GOOGLE_RED_200="#f6aea9";t.GOOGLE_RED_300="#f28b82";t.GOOGLE_RED_400="#ee675c";t.GOOGLE_RED_500="#ea4335";var r="#d93025";t.GOOGLE_RED_600=r;t.GOOGLE_RED_700="#c5221f";t.GOOGLE_RED_800="#b31412";t.GOOGLE_RED_900="#a50e0e";t.GOOGLE_RED="#d93025";t.GOOGLE_YELLOW_50="#fef7e0";t.GOOGLE_YELLOW_100="#feefc3";t.GOOGLE_YELLOW_200="#fde293";t.GOOGLE_YELLOW_300="#fdd663";t.GOOGLE_YELLOW_400="#fcc934";t.GOOGLE_YELLOW_500="#fbbc04";var o="#f9ab00";t.GOOGLE_YELLOW_600=o;t.GOOGLE_YELLOW_700="#f29900";t.GOOGLE_YELLOW_800="#ea8600";t.GOOGLE_YELLOW_900="#e37400";t.GOOGLE_YELLOW="#f9ab00";t.GOOGLE_GREEN_50="#e6f4ea";t.GOOGLE_GREEN_100="#ceead6";t.GOOGLE_GREEN_200="#a8dab5";t.GOOGLE_GREEN_300="#81c995";t.GOOGLE_GREEN_400="#5bb974";t.GOOGLE_GREEN_500="#34a853";var i="#1e8e3e";t.GOOGLE_GREEN_600=i;t.GOOGLE_GREEN_700="#188038";t.GOOGLE_GREEN_800="#137333";t.GOOGLE_GREEN_900="#0d652d";t.GOOGLE_GREEN="#1e8e3e";var a="#fff";t.GOOGLE_WHITE=a;var l="#f8f9fa";t.GOOGLE_GREY_50=l;t.GOOGLE_GREY_100="#f1f3f4";t.GOOGLE_GREY_200="#e8eaed";t.GOOGLE_GREY_300="#dadce0";t.GOOGLE_GREY_400="#bdc1c6";t.GOOGLE_GREY_500="#9aa0a6";t.GOOGLE_GREY_600="#80868b";t.GOOGLE_GREY_700="#5f6368";t.GOOGLE_GREY_800="#3c4043";var u="#202124";t.GOOGLE_GREY_900=u;t.LIGHT_GREY="#E1E3E1";t.GOOGLE_BLACK="#202124";t.BLACK="#000";t.GOOGLE_ORANGE_50="#feefe3";t.GOOGLE_ORANGE_100="#fedfc8";t.GOOGLE_ORANGE_200="#fdc69c";t.GOOGLE_ORANGE_300="#fcad70";t.GOOGLE_ORANGE_400="#fa903e";t.GOOGLE_ORANGE_500="#fa7b17";t.GOOGLE_ORANGE_600="#e8710a";t.GOOGLE_ORANGE_700="#d56e0c";t.GOOGLE_ORANGE_800="#c26401";t.GOOGLE_ORANGE_900="#b06000";t.GOOGLE_PINK_50="#fde7f3";t.GOOGLE_PINK_100="#fdcfe8";t.GOOGLE_PINK_200="#fba9d6";t.GOOGLE_PINK_300="#ff8bcb";t.GOOGLE_PINK_400="#ff63b8";t.GOOGLE_PINK_500="#f439a0";t.GOOGLE_PINK_600="#e52592";t.GOOGLE_PINK_700="#c92786";t.GOOGLE_PINK_800="#b80672";t.GOOGLE_PINK_900="#9c166b";t.GOOGLE_PURPLE_50="#f3e8fd";t.GOOGLE_PURPLE_100="#e9d2fd";t.GOOGLE_PURPLE_200="#d7aefb";t.GOOGLE_PURPLE_300="#c58af9";t.GOOGLE_PURPLE_400="#af5cf7";t.GOOGLE_PURPLE_500="#a142f4";t.GOOGLE_PURPLE_600="#9334e6";t.GOOGLE_PURPLE_700="#8430ce";t.GOOGLE_PURPLE_800="#7627bb";t.GOOGLE_PURPLE_900="#681da8";t.GOOGLE_CYAN_50="#e4f7fb";t.GOOGLE_CYAN_100="#cbf0f8";t.GOOGLE_CYAN_200="#a1e4f2";t.GOOGLE_CYAN_300="#78d9ec";t.GOOGLE_CYAN_400="#4ecde6";t.GOOGLE_CYAN_500="#24c1e0";t.GOOGLE_CYAN_600="#12b5cb";t.GOOGLE_CYAN_700="#129eaf";t.GOOGLE_CYAN_800="#098591";t.GOOGLE_CYAN_900="#007b83";t.STATE_HOVER="rgba(95, 99, 104, 0.04)";t.STATE_FOCUS="rgba(95, 99, 104, 0.12)";t.STATE_HOVER_SELECTED="rgba(95, 99, 104, 0.18)";t.DARK_STATE_HOVER="rgb(241, 243, 244, 0.04)";t.DARK_STATE_FOCUS="rgba(241, 243, 244, 0.12)";t.DARK_STATE_HOVER_SELECTED="rgba(241, 243, 244, 0.18)";t.GOOGLE_SURFACE_LIGHT="#f8f9fa";t.LIGHT_ELEVATION="#fff";t.LIGHT_ELEVATION2="#fff";t.LIGHT_ELEVATION3="#fff";t.LIGHT_ELEVATION4="#fff";t.GOOGLE_SURFACE_DARK="#202124";t.GOOGLE_DARK_ELEVATION="#292a2d";t.GOOGLE_DARK_ELEVATION2="#2f3034";t.GOOGLE_DARK_ELEVATION3="#35373a";t.GOOGLE_DARK_ELEVATION4="#37393c";t.SURFACE_DARK="#121212";t.DARK_ELEVATION="#1d1d1d";t.DARK_ELEVATION2="#252525";t.DARK_ELEVATION3="#2c2c2c";t.DARK_ELEVATION4="#2e2e2e";t.GOOGLE_THEME_INFO_LIGHT="#e8f4fd";t.GOOGLE_THEME_WARNING_LIGHT="#fff4e5";t.GOOGLE_THEME_ERROR_LIGHT="#fdecea";t.GOOGLE_THEME_ERROR_LIGHT_HOVER_OR_FOCUS="#fad7d2";t.GOOGLE_THEME_INFO_DARK="rgba(100, 181, 246, .24)";t.GOOGLE_THEME_WARNING_DARK="rgba(255, 213, 79, .24)";t.GOOGLE_THEME_ERROR_DARK="rgba(229, 115, 115, .24)";t.GOOGLE_THEME_ERROR_DARK_HOVER_OR_FOCUS="rgba(229, 115, 115, .20)"},343611:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var o=r(n(600861)),i=r(n(856690)),a=r(n(689728)),l=r(n(627424)),u=r(n(888861)),s=n(740127);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function f(e,t){var n=(0,l.default)(e,3),r=n[1],o=n[2],i=t.findAttributeByName(r),a=(0,s.getFilterForAttribute)(i);if(null===a)return null;var u={filterType:a,attribute:i,tableSchema:t,state:o};return Object.freeze(u),u}var g=function(){function e(t,n){if((0,i.default)(this,e),this.tableSchema=n,n){this.filters=[];var r,o=c(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(Array.isArray(a)){var l=f(a,n);null!==l&&this.filters.push(l)}else this.filters.push(a)}}catch(e){o.e(e)}finally{o.f()}}else this.filters=[];Object.freeze(this.filters),Object.freeze(this)}return(0,a.default)(e,[{key:"toExpression",value:function(){return this.tableSchema?u.default.createAnd.apply(u.default,(0,o.default)(this.filters.map((function(e){var t=e.filterType,n=p(e,["filterType"]);return t.toExpression(n)})))):null}},{key:"serialize",value:function(){return this.tableSchema?this.filters.filter((function(e){var t=e.filterType,n=p(e,["filterType"]);return!t.isEmpty(n)})).map((function(e){var t=e.attribute,n=e.state;return["attribute",t.name(),n]})):[]}},{key:"cloneAndRemoveEmptyFilters",value:function(){if(!this.tableSchema)return this;var e=this.filters.filter((function(e){var t=e.filterType,n=p(e,["filterType"]);return!t.isEmpty(n)}));return this.clone(e)}},{key:"clone",value:function(t){return new e(t,this.tableSchema)}},{key:"withFilterApplied",value:function(e,t){var n=this.tableSchema;if(!n)return this;var r=e.name(),o=(0,s.getFilterForAttribute)(e);if(null===o)throw new Error("cannot filter unsupported attribute ".concat(r));var i,a={filterType:o,attribute:e,tableSchema:n,state:t},l=[],u=!1,d=c(this.filters);try{for(d.s();!(i=d.n()).done;){var p=i.value;p.attribute.name()!==r?l.push(p):(l.push(a),u=!0)}}catch(e){d.e(e)}finally{d.f()}return u||l.push(a),this.clone(l)}}]),e}();t.Query=g},740127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeMap=void 0,t.getFilterForAttribute=function(e){return f(e.type())},t.getFilterForType=f;var r=n(469255),o=n(278036),i=n(287291),a=n(768609),l=n(497629),u=n(896197),s=n(550372),c=n(984213),d=n(34650),p={Text:u.TextFilter,Enum:i.EnumFilter,EnumList:a.EnumListFilter,LongText:u.TextFilter,Name:u.TextFilter,ChangeCounter:s.NumericFilter,Number:s.NumericFilter,PostalCode:u.TextFilter,Address:u.TextFilter,LatLong:c.LatLongFilter,ChangeLocation:c.LatLongFilter,DateTime:d.DateTimeFilter,ChangeTimestamp:d.DateTimeFilter,Percent:s.NumericFilter,Decimal:s.NumericFilter,Price:s.NumericFilter,Url:u.TextFilter,File:l.FileFilter,Image:l.FileFilter,Drawing:l.FileFilter,Signature:l.FileFilter,Thumbnail:l.FileFilter,Video:l.FileFilter,Date:d.DateTimeFilter,Time:d.DateTimeFilter,Email:u.TextFilter,Phone:u.TextFilter,Color:i.EnumFilter,Progress:i.EnumFilter,Ref:o.RefFilter,"Yes/No":r.BooleanFilter};function f(e){return p[e]||null}t.TypeMap=p},319598:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_FILTERS_FOR_VIEWS=void 0,t.getFilterQuery=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(t&&!l.has(e||"")){var r=(0,i.getAppModel)(),u=(null==r?void 0:r.findTableCollection(t))||{},s=u.tableSchema;return new a.Query(n,s)}}catch(e){o.default.ReportError({errorMessage:"Error in getFilterQuery",error:e})}return new a.Query([])};var o=r(n(593186)),i=n(351101),a=n(343611),l=new Set(["dashboard","detail","form","search"]);t.HIDE_FILTERS_FOR_VIEWS=l},469255:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanFilter=void 0;var o=r(n(385857)),i=n(351101),a=n(287291),l=Object.assign(Object.assign({},a.EnumFilter),{labelValue:function(e){var t=e.attribute,n=e.tableSchema,r=e.value,a=(0,i.getAppModel)(),l=new o.default(a,n),u=t.booleanTypeLabels(l),s=t.valueFromWireFormat(r);return!0===s?u.yesLabel:!1===s?u.noLabel:null===s?(0,i.mapActionName)("(empty)"):r},stateKeyToRealValue:function(e){return"true"===e?"TRUE":"false"===e?"FALSE":"null"===e?"":e}});t.BooleanFilter=l},740365:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ContinuousFilter=void 0;var o=r(n(238416)),i=r(n(918698)),a=r(n(667294)),l=n(697211),u=r(n(888861)),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},c=function(){throw new Error("unimplemented abstract static method")},d={valueIsValid:c,ValueEditor:c,valueToNumber:Number,valueToString:function(e,t){return t.localizeWireValue(e)},valueToExpression:function(e,t){return u.default.createConstantValue(e,t.type(),t.auxData())},initialState:function(){return{}},isValid:function(e){var t=e.state,n=e.attribute;return"object"===(0,i.default)(t)&&!Array.isArray(t)&&Object.keys(t).every((function(e){return"start"===e||"end"===e}))&&Object.keys(t).length<=2&&(void 0===t.start||this.valueIsValid(t.start,n))&&(void 0===t.end||this.valueIsValid(t.end,n))&&!(void 0!==t.start&&void 0!==t.end&&this.valueIsValid(t.start,n)&&this.valueIsValid(t.end,n)&&this.valueToNumber(t.end,n)<this.valueToNumber(t.start,n))},isEmpty:function(e){var t=e.state;return void 0===t.start&&void 0===t.end},toExpression:function(e){var t=e.state,n=e.tableSchema,r=e.attribute,o=[],i=u.default.createColumnLookup(n,r);return void 0!==t.start&&o.push(u.default.create({ResultType:"Yes/No",EvalType:"BOOLEAN",OperatorName:"GreaterThanOrEquals",IsAtomic:!0,Children:[i.model,this.valueToExpression(t.start,r).model]})),void 0!==t.end&&o.push(u.default.create({ResultType:"Yes/No",EvalType:"BOOLEAN",OperatorName:"LessThanOrEquals",IsAtomic:!0,Children:[i.model,this.valueToExpression(t.end,r).model]})),u.default.createAnd.apply(u.default,o)},activeFilterValues:function(e){var t=e.state,n=e.attribute,r="",o=void 0!==t.start?this.valueToString(t.start,n):null,i=void 0!==t.end?this.valueToString(t.end,n):null;return null!==o&&null!==i?r="".concat(o," – ").concat(i):null!==o?r="≥ ".concat(o):null!==i&&(r="≤ ".concat(i)),[r]},Summary:function(e){var t=e.self,n=s(e,["self"]),r=t.activeFilterValues(n).toString();return a.default.createElement(a.default.Fragment,null,r)},Editor:function(e){var t=e.self,n=e.state,r=e.onChange,i=e.onClose,u=e.attribute,s=t.ValueEditor,c=function(e){return function(t){return r(Object.assign(Object.assign({},n),(0,o.default)({},e,t)))}};return a.default.createElement(l.Grid,{container:!0,spacing:2},a.default.createElement(s,{bound:"start",value:n.start,onChange:c("start"),onClose:i,attribute:u}),a.default.createElement(s,{bound:"end",value:n.end,onChange:c("end"),onClose:i,attribute:u}))}};t.ContinuousFilter=d},34650:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeFilter=void 0;var o=r(n(667294)),i=n(101225),a=r(n(775916)),l=n(740365),u=n(697211),s=r(n(365914)),c=n(351101);function d(e,t){switch(t.type()){case"Time":return s.default.toLocaleTimeString(e,!0);case"Date":return s.default.toLocaleDateString(e,!1);case"DateTime":case"ChangeTimestamp":return s.default.localizeDateTime(e,!0,!1)}return""}var p=Object.assign(Object.assign({},l.ContinuousFilter),{valueIsValid:function(e,t){return!isNaN(this.valueToNumber(e,t))},valueToNumber:function(e,t){return t.valueFromWireFormat(e).getTime()},valueToString:function(e,t){return d(t.valueFromWireFormat(e),t)},Summary:function(e){var t=e.self,n=e.state,r=e.attribute,i="",a=void 0!==n.start?t.valueToString(n.start,r):null,l=void 0!==n.end?t.valueToString(n.end,r):null;return null!==a&&null!==l?i="".concat(a," – ").concat(l):null!==a?i="after ".concat(a):null!==l&&(i="before ".concat(l)),o.default.createElement(o.default.Fragment,null,i)},ValueEditor:function(e){var t,n,r=e.bound,l=e.value,s=e.onChange,p=e.attribute,f=p.type();"Date"===f?(t=i.DatePicker,n=!1):"Time"===f?(t=i.TimePicker,n=!1):(t=i.DateTimePicker,n=!0);var g,h=(0,c.mapActionName)(("start"===r?"Start":"End")+" "+("Time"===f?"time":"date"));return o.default.createElement(u.Grid,{item:!0,xs:n?12:6},o.default.createElement(i.MuiPickersUtilsProvider,{utils:a.default},o.default.createElement(t,{inputVariant:"outlined",labelFunc:function(e){return e?d(e.toDate(),p):""},value:l?p.valueFromWireFormat(l):null,onChange:function(e){return s(e?p.valueToWireFormat(e.toDate()):void 0)},label:h,initialFocusedDate:(g=new Date,g.setHours(12),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0),g),cancelLabel:(0,c.mapActionName)("Cancel"),clearLabel:(0,c.mapActionName)("Clear"),okLabel:(0,c.mapActionName)("OK"),todayLabel:(0,c.mapActionName)("Today"),clearable:!0,fullWidth:!0})))}});t.DateTimeFilter=p},287291:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.EnumFilter=void 0,t.checkboxChangeHandler=v;var i=r(n(627424)),a=r(n(600861)),l=r(n(918698)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(667294)),s=r(n(3674)),c=n(697211),d=r(n(888861)),p=n(351101),f=n(240684);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function v(e,t,n){return function(r){var o=Object.assign({},e);if(r.target.checked){var i,a=h(n);try{for(a.s();!(i=a.n()).done;){o[i.value]=!0}}catch(e){a.e(e)}finally{a.f()}}else{var l,u=h(n);try{for(u.s();!(l=u.n()).done;){delete o[l.value]}}catch(e){u.e(e)}finally{u.f()}}t(o)}}var b={allowedValues:function(e){var t,n,r,o=e.attribute,i=e.tableSchema,a=i.sourceTableName(),l=null===(t=(0,p.getAppModel)())||void 0===t?void 0:t.findTableCollection(a).table,u=null===(n=null==l?void 0:l.indexedTableRows())||void 0===n?void 0:n.getIndex(o),s={},c=h(((null==u?void 0:u.distinctValues())||[]).map((function(e){var t=u.lookup(e).allRows()[0],n=null==t?void 0:t.values[o.name()];return null!=n?n:e})));try{for(c.s();!(r=c.n()).done;){var d=r.value,f=this.labelValue({attribute:o,tableSchema:i,value:d});s[f]=s[f]||[],s[f].push(d)}}catch(e){c.e(e)}finally{c.f()}return s},labelValue:f.getLabelValueFromRefRow,isEmpty:function(e){var t=e.state,n=e.tableSchema,r=e.attribute,o=this.allowedValues({attribute:r,tableSchema:n}),i=Object.keys(o).length,a=Object.values(t).filter((function(e){return!0===e})).length;return!(a>0&&a!==i)},initialState:function(){return{}},isValid:function(e){var t=e.state;return"object"===(0,l.default)(t)&&null!==t&&Object.values(t).every((function(e){return"boolean"==typeof e}))},stateKeyToRealValue:function(e){return e},toExpression:function(e){var t=this,n=e.state,r=e.tableSchema,o=e.attribute;return this.isEmpty(e)?null:d.default.createOr.apply(d.default,(0,a.default)(Object.keys(n).filter((function(e){return n[e]})).map((function(e){return d.default.createColFilter(t.stateKeyToRealValue(e),r,o)}))))},activeFilterValues:function(e){for(var t=e.state,n=e.attribute,r=e.tableSchema,o=this.allowedValues({attribute:n,tableSchema:r}),a={},l=0,u=Object.entries(o);l<u.length;l++){var c,d=(0,i.default)(u[l],2),p=d[0],f=h(d[1]);try{for(f.s();!(c=f.n()).done;){var g=c.value;a[g]=p}}catch(e){f.e(e)}finally{f.f()}}return Array.from(new Set((0,s.default)(t).filter((function(e){return t[e]})).map((function(e){return a[e]}))))},Summary:function(e){var t=e.self,n=y(e,["self"]),r=t.activeFilterValues(n).join(", ");return u.default.createElement(u.default.Fragment,null,r)},Editor:function(e){var t,n,r=e.self,o=e.state,l=e.attribute,s=e.tableSchema,d=e.onChange,f=(0,u.useState)(""),g=(0,i.default)(f,2),h=g[0],m=g[1],y=r.allowedValues({attribute:l,tableSchema:s}),b=Object.keys(y).length>10?u.default.createElement(c.TextField,{variant:"outlined",label:(0,p.mapActionName)("Search"),value:h,onChange:function(e){m(e.target.value)}}):null;return h?(t=Object.entries(y).filter((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return[n].concat((0,a.default)(r)).some((function(e){return e.toLowerCase().startsWith(h.toLowerCase())}))})).sort((function(e,t){var n=(0,i.default)(e,2),r=(n[0],n[1]),o=(0,i.default)(t,2),a=(o[0],o[1]);return r.length-a.length})),n=(0,p.mapActionName)("No results")):(t=Object.entries(y),n=(0,p.mapActionName)("No available values")),u.default.createElement(c.FormGroup,null,b,t.map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return u.default.createElement(c.FormControlLabel,{key:n,control:u.default.createElement(c.Checkbox,{checked:r.some((function(e){return o[e]}))||!1,onChange:v(o,d,r)}),label:n})})),0===t.length?n:null)}};t.EnumFilter=b},768609:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.EnumListFilter=void 0;var o=r(n(600861)),i=r(n(888861)),a=n(287291),l=n(351101),u=n(240684);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=Object.assign(Object.assign({},a.EnumFilter),{toExpression:function(e){var t=this,n=e.state,r=e.tableSchema,a=e.attribute;return this.isEmpty(e)?null:i.default.createAnd.apply(i.default,(0,o.default)(Object.keys(n).filter((function(e){return n[e]})).map((function(e){return i.default.createColFilter(t.stateKeyToRealValue(e),r,a)}))))},labelValue:u.getLabelValueFromRefRow,allowedValues:function(e){var t,n,r,o=e.attribute,i=e.tableSchema,a=i.sourceTableName(),u=null===(t=(0,l.getAppModel)())||void 0===t?void 0:t.findTableCollection(a).table,c=null===(n=null==u?void 0:u.indexedTableRows())||void 0===n?void 0:n.getIndex(o),d=(null==c?void 0:c.distinctValues())||[],p=new Set,f=s(d);try{for(f.s();!(r=f.n()).done;){var g,h=r.value,m=c.lookup(h).allRows()[0],y=null==m?void 0:m.values[o.name()],v=s((null!=y?y:h)?o.splitEnumListValue(null!=y?y:h):[""]);try{for(v.s();!(g=v.n()).done;){var b=g.value;p.add(b)}}catch(e){v.e(e)}finally{v.f()}}}catch(e){f.e(e)}finally{f.f()}var O,w={},S=s(p);try{for(S.s();!(O=S.n()).done;){var T=O.value,A=this.labelValue({attribute:o,tableSchema:i,value:T});w[A]=w[A]||[],w[A].push(T)}}catch(e){S.e(e)}finally{S.f()}return w}});t.EnumListFilter=d},497629:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.FileFilter=void 0;var o=r(n(238416)),i=n(351101),a=r(n(888861)),l=n(287291),u=Object.assign(Object.assign({},l.EnumFilter),{allowedValues:function(){var e;return e={},(0,o.default)(e,(0,i.mapActionName)("Has attachment"),["hasAttachment"]),(0,o.default)(e,(0,i.mapActionName)("No attachment"),["noAttachment"]),e},toExpression:function(e){var t=e.state,n=e.tableSchema,r=e.attribute;if(this.isEmpty(e))return null;var o=a.default.createIsBlank(a.default.createColumnLookup(n,r));return t.hasAttachment?a.default.createNot(o):o}});t.FileFilter=u},984213:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.LatLongFilter=void 0;var o,i,a=r(n(918698)),l=r(n(238416)),u=r(n(667294)),s=n(697211),c=n(888861),d=n(240684),p=n(351101),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};!function(e){e.Feet="ft",e.Kilometers="km",e.Meters="m",e.Miles="mi",e.Yards="yd"}(i||(i={}));var g=30.48,h=(o={},(0,l.default)(o,i.Feet,g),(0,l.default)(o,i.Yards,91.44),(0,l.default)(o,i.Miles,160934.4),(0,l.default)(o,i.Meters,100),(0,l.default)(o,i.Kilometers,1e5),o),m=i.Feet,y=(0,s.makeStyles)({distanceTextField:{paddingRight:0},distanceInput:{border:"0 !important"},inputAdornment:{marginLeft:0}}),v=(0,s.withStyles)((function(e){return{root:{padding:e.spacing(1)},input:{"&:focus":{backgroundColor:"transparent"}}}}))(s.InputBase),b={initialState:function(){return{mode:"null"}},isValid:function(e){var t=e.state;return"object"===(0,a.default)(t)&&!Array.isArray(t)&&("null"===t.mode&&1===Object.keys(t).length||"distance"===t.mode&&"number"==typeof t.distance&&t.unit in i)},isEmpty:function(e){var t=e.state;return"null"===t.mode||"distance"===t.mode&&null===t.distance},toExpression:function(e){var t=e.state,n=e.tableSchema,r=e.attribute;if("null"===t.mode)return null;if("distance"===t.mode){var o=t.distance,a=t.unit;if(!o)return null;var l=(0,c.create)({ResultType:"LatLong",EvalType:"FUNCTION",FunctionName:"HERE"}).model,u=(0,c.createColumnLookup)(n,r).model,s=(0,c.create)({ResultType:"Decimal",EvalType:"FUNCTION",FunctionName:"DISTANCE",IsPure:!0,Children:[l,u]}).model,d=(0,c.createConstantValueNative)(o*h[a]/h[i.Kilometers],"Number").model;return(0,c.create)({ResultType:"Yes/No",EvalType:"BOOLEAN",OperatorName:"LessThanOrEquals",IsAtomic:!0,Children:[s,d]})}return null},activeFilterValues:function(e){var t=e.state;return"distance"!==t.mode?[]:["within ".concat(t.distance," ").concat(t.unit)]},Summary:function(e){var t=e.self,n=f(e,["self"]),r=t.activeFilterValues(n).join(", ");return u.default.createElement(u.default.Fragment,null,r)},Editor:function(e){var t=e.state,n=e.onChange,r=e.onClose,o=y(),a=function(e,t){n({mode:"distance",distance:e,unit:t})},l=null,c=i.Feet;return"distance"===t.mode&&(l=t.distance,c=t.unit),u.default.createElement(s.Grid,{container:!0,spacing:2},u.default.createElement(s.Grid,{item:!0,xs:12},u.default.createElement(s.TextField,Object.assign({type:"number",label:(0,p.mapActionName)("From current location"),variant:"outlined",autoFocus:!0,value:l||"",onChange:function(e){return function(e){a(Number(e),"distance"===t.mode?t.unit:m)}(e.target.value)}},(0,d.getPressEnterProps)(r),{InputProps:{classes:{root:o.distanceTextField,input:o.distanceInput},endAdornment:u.default.createElement(s.InputAdornment,{position:"end",classes:{root:o.inputAdornment}},u.default.createElement(s.Select,{value:c,onChange:function(e){return function(e){a("distance"===t.mode?t.distance:null,e)}(e.target.value)},input:u.default.createElement(v,null)},Object.values(i).map((function(e){return u.default.createElement(s.MenuItem,{key:e,value:e},e)}))))}}))))}};t.LatLongFilter=b},550372:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.NumericFilter=void 0;var o=r(n(667294)),i=n(697211),a=n(740365),l=n(240684),u=n(351101),s=Object.assign(Object.assign({},a.ContinuousFilter),{valueIsValid:function(e){return"number"==typeof e&&!isNaN(e)},ValueEditor:function(e){var t,n,r=e.attribute,a=e.bound,s=e.value,c=e.onChange,d=e.onClose,p=!0;return"Price"===r.type()&&(t=r.currencySymbol(),p=!1),"Percent"===r.type()&&(n="%",void 0!==s&&(s*=100)),o.default.createElement(i.Grid,{item:!0,xs:p?6:12},o.default.createElement(i.TextField,{type:"number",label:(0,u.mapActionName)("start"===a?"Min":"Max"),variant:"outlined",value:void 0===s?"":s,onChange:function(e){if(""===e.target.value)c(void 0);else{var t=Number(e.target.value);"Percent"===r.type()&&(t/=100),c(t)}},autoFocus:"start"===a,inputProps:(0,l.getPressEnterProps)(d),InputProps:{startAdornment:t?o.default.createElement(i.InputAdornment,{position:"start"},t):null,endAdornment:n?o.default.createElement(i.InputAdornment,{position:"end"},n):null},fullWidth:!0}))}});t.NumericFilter=s},278036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefFilter=void 0;var r=n(240684),o=n(287291),i=Object.assign(Object.assign({},o.EnumFilter),{labelValue:r.getLabelValueFromRefRow});t.RefFilter=i},896197:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.TextFilter=void 0;var o=r(n(667294)),i=n(697211),a=r(n(888861)),l=n(240684),u=n(351101),s=(0,i.makeStyles)({multiline:{minHeight:"4rem"}}),c=new Set(["LongText","Address"]),d={initialState:function(){return""},isValid:function(e){return e.state.length>0},isEmpty:function(e){return 0===e.state.trim().length},toExpression:function(e){if(this.isEmpty(e))return null;var t=e.tableSchema,n=e.attribute,r=e.state,o=a.default.createColumnLookup(t,n).model,i=a.default.createConstantValue(r,"Text",n.auxData()).model;return a.default.create({ResultType:"Yes/No",EvalType:"FUNCTION",FunctionName:"CONTAINS",Children:[o,i]})},activeFilterValues:function(e){return[e.state]},Summary:function(e){var t,n=e.state;return o.default.createElement(o.default.Fragment,null,null===(t=(0,u.getAppModel)())||void 0===t?void 0:t.MapActionName("Contains")," ",n)},Editor:function(e){var t=e.attribute,n=e.state,r=e.onChange,a=e.onClose,d=s(),p=(0,u.getAppModel)(),f=c.has(t.type()),g=f?{className:d.multiline}:(0,l.getPressEnterProps)(a);return o.default.createElement(i.TextField,{variant:"outlined",label:null==p?void 0:p.MapActionName("Search"),value:n,onChange:function(e){r(e.target.value)},inputProps:g,multiline:f,fullWidth:!0,autoFocus:!0})}};t.TextFilter=d},178314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLabelValueFromRefRow=function(e){var t,n=e.attribute,l=e.value,u=function(e){var t,n,i,l=r.get(e);if(!l){var u=e.referencedTable()||(null===(t=e.nestedAttribute())||void 0===t?void 0:t.referencedTable()),s=null===(n=null==u?void 0:u.tableSchema.labelBasicAttribute())||void 0===n?void 0:n.name(),c=null==u?void 0:u.keyAttribute();l={index:c&&(null===(i=null==u?void 0:u.indexedTableRows())||void 0===i?void 0:i.getIndex(c)),labelAttributeName:s},r.set(e,l)}return clearTimeout(o),o=setTimeout(a,1e3),l}(n),s=u.index,c=u.labelAttributeName;if(""===l)return(0,i.mapActionName)("(empty)");return(null===(t=null==s?void 0:s.lookup(l).allRows()[0])||void 0===t?void 0:t.get(c))||l};var r,o,i=n(351101);function a(){r=new WeakMap}a()},157614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPressEnterProps=function(e){return{onKeyPress:function(t){"Enter"===t.key&&e()}}}},240684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LabelValueParams",{enumerable:!0,get:function(){return r.LabelValueParams}}),Object.defineProperty(t,"getLabelValueFromRefRow",{enumerable:!0,get:function(){return r.getLabelValueFromRefRow}}),Object.defineProperty(t,"getPressEnterProps",{enumerable:!0,get:function(){return o.getPressEnterProps}});var r=n(178314),o=n(157614)},957831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppState=a,t.getViewSpecificUIState=l,t.useTableSchema=function(){return(0,o.useMemo)(u,[a().CurrentUIState])};var r=n(166089),o=n(667294),i=n(351101);function a(){return r.AppGlobals.AppState}function l(){var e=a();return e.CurrentUIState?e.GetSpecificState(e.CurrentUIState):null}function u(){var e=(0,i.getAppModel)(),t=l(),n=null==t?void 0:t.TableName;return((null==e?void 0:e.findTableCollection(n))||{}).tableSchema}},606610:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.actionTypes=void 0;var i=r(n(627424)),a=r(n(496486)),l=r(n(280129)),u=r(n(687714)),s=r(n(130778)),c=r(n(730381)),d=r(n(962553)),p=r(n(150198)),f=r(n(385857)),g=r(n(593186)),h=r(n(571524)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(365914)),y=n(957831),v=n(263198),b=n(635672),O=n(646317),w=n(84690),S=n(166089),T=n(149313),A=n(557310),k=n(783252),E=r(n(819433)),P=n(250617);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}var x,D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},R="USER_CANCELED";function I(e){return A.ReactRootUIConfig.isReactRoot()?e:(e(),!0)}function N(e){var t="string"==typeof e?e:null==e?void 0:e.responseText;if(a.default.startsWith(t,"{")&&a.default.endsWith(t,"}"))try{var n=JSON.parse(t),r="";return n.Message&&(r+="Message: "+n.Message+"\r\n\r\n"),n.ExceptionType&&(r+="ExceptionType: "+n.ExceptionType+"\r\n\r\n"),n.ExceptionMessage&&(r+="ExceptionMessage: "+n.ExceptionMessage+"\r\n\r\n"),n.ErrorDescription&&(r+="ErrorDescription: "+n.ErrorDescription+"\r\n\r\n"),r}catch(e){var o=e;g.default.ReportErrorOnce({errorMessage:"Error in handleJsonError",error:o})}return null!=t?t:"Failure"}var j=function(e){e!==R&&(g.default.warnToDevConsole("Action Failed: ",e),S.AppGlobals.ViewManager.ShowInfoDialog("Action Failed",e))},L=function(e,t){return t&&t.rootTable()===e?t:e};var _={DELETE_RECORD:{requireValueEvalTree:!1,bulkRunnable:!0,requireDeletePermission:!0,requireUpdatePermission:!1,modifiesData:!0,navigatesApp:!0,navigatesExternal:!1,runAsync:function(e,t,n){var r=n.appModel,o=n.table,i=n.transaction;return new Promise((function(e){var n,l,u,s,c,d=!1,p=!1,f=new Set;t.forEach((function(e){var t=i.delete(o.name(),e);d=d||null!=t,f.add(e)}));var g=null===(l=null===(n=null===window||void 0===window?void 0:window.AppState)||void 0===n?void 0:n.CurrentUIState)||void 0===l?void 0:l.SlideshowUIState;if(g&&f.has(g.RowKey))if(r.ShouldDelaySync()||S.AppGlobals.AppState.IsTopLevel()){var h=S.AppGlobals.ViewManager.KnownHandlers.detail||S.AppGlobals.ViewManager.KnownHandlers.slideshow,m=null===(c=null===(s=null===(u=null==h?void 0:h.RootPage())||void 0===u?void 0:u.data("reactView"))||void 0===s?void 0:s.component)||void 0===c?void 0:c.nearbyRowKey();if(null==m)p=function(){return S.AppGlobals.AppState.ChoosePreviousState()};else{var y=a.default.extend(S.AppGlobals.AppState.CurrentUIState,{SlideshowUIState:a.default.extend(S.AppGlobals.AppState.CurrentUIState.SlideshowUIState,{RowKey:m})});p=function(){return S.AppGlobals.AppState.ReplaceState(y)}}}else p=function(){return S.AppGlobals.AppState.ChoosePreviousState()};e({actionModifiedData:d,actionNavigatedExternal:!1,actionNavigatedApp:p})}))}},EDIT_RECORD:{requireValueEvalTree:!1,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!0,modifiesData:!1,navigatesApp:!0,navigatesExternal:!1,run:function(e,t,n){var r,o=t.table,i=t.sourceTable,a=t.rowId,u=L(o,i),s=null===(r=e.action.ActionDefinition)||void 0===r?void 0:r.DesktopEditBehavior;if(!A.ReactRootUIConfig.isInDesktopExperience()||"Edit in place"!==s&&null!=s){var c="#".concat(l.default.stringify({table:u.name(),row:a,page:"form"}));return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:I((function(){return S.AppGlobals.StateChangeHandler.SwitchApp(c,void 0,void 0,n)}))}}return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:function(){(0,E.default)().dispatch((0,P.mutateViewInEditMode)(n))}}}},ADD_RECORD:{requireValueEvalTree:!1,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,requireAddPermission:!0,modifiesData:!1,navigatesApp:!0,navigatesExternal:!1,run:function(e,t,n){var r=t.table,o=t.sourceTable,i=t.defaultValues,a=L(r,o),u="#".concat(l.default.stringify({table:a.name(),page:"form",defaults:i&&JSON.stringify(i)}));return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:I((function(){S.AppGlobals.StateChangeHandler.SwitchApp(u,void 0,void 0,n)}))}}},SET_COLUMN_VALUE:{requireValueEvalTree:!1,bulkRunnable:!0,requireDeletePermission:!1,requireUpdatePermission:!0,modifiesData:!0,navigatesApp:!1,navigatesExternal:!1,runAsync:function(e,t,n,r){var o=n.appModel,l=n.table,u=n.tableSchema,c=n.transaction,d=n.inputParameterValues;return new Promise((function(n){var p,f=!1,h=a.default.compact(t.map((function(e){return l.lookupTableRow(e,c)})));h.length!==t.length&&g.default.warnToDevConsole("some rows were missing",t,h);var m=e.assignments();if(m.length&&h.length){var y=o&&o.inRollout("promptUserAction"),v=a.default.partition(m,(function(e){var t,n,r,o;return y&&!e.valueEvalTree||"PARAM"===(null===(n=null===(t=e.valueEvalTree)||void 0===t?void 0:t.model)||void 0===n?void 0:n.EvalType)&&(!d||void 0===d[null===(o=null===(r=e.valueEvalTree.model)||void 0===r?void 0:r.Name)||void 0===o?void 0:o.toLowerCase()])})),b=(0,i.default)(v,2),O=b[0],w=b[1],T=function(){for(var e,t=0;t<h.length;t++){var n=void 0,o=!1,i=l.getPendingRow(h[t],c),a=i.dataContext.augmentWith(r,c),s=a.inputParameterValues;a.inputParameterValues=d,w.length>1&&c.startGroup();for(var p=0;p<w.length;p++){var g=w[p],m=g.valueEvalTree,y=g.ColumnToEdit,v=u.findAttributeByName(y);if(v){var b=m?m.run(a):"";b=v.coerceValue(b),b=v.valueToWireFormat(b),c.update(l.name(),i.stableId,y,b,"action")&&(o=!0)}}w.length>1&&c.endGroup(),o&&((n=n||c.validate([i]).message)?(e=n,c.undo()):f=!0),a.inputParameterValues=s}return e};if(O.length){var A=O.map((function(e){return e.ColumnToEdit})),k=S.AppGlobals.ViewManager.modalForm,E=(0,s.default)(n);return void k.setState({open:!0,errorMessage:null,rowIds:t,columns:A,transaction:c,tableName:l.rootName(),title:e.displayName(o),onCancel:function(){k.setState({open:!1}),E({error:R,actionModifiedData:f,actionNavigatedExternal:!1,actionNavigatedApp:!1})},onSave:function(){var e=T();e?k.setState({errorMessage:e}):(k.setState({open:!1}),E({error:p,actionModifiedData:!0,actionNavigatedExternal:!1,actionNavigatedApp:!1}))}})}var P=T();p=P||p}n({error:p,actionModifiedData:f,actionNavigatedExternal:!1,actionNavigatedApp:!1})}))}},ADD_RECORD_TO:{requireValueEvalTree:!1,bulkRunnable:!0,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!0,navigatesApp:!1,navigatesExternal:!1,runAsync:function(e,t,n,r){var o=n.appModel,i=n.table,a=n.transaction;return new Promise((function(n){var l,u,s,c=!1,d=o.findTableCollection(e.referencedTable()).table;if(d)for(var p=function(n){var o=void 0,p=i.lookupTableRow(t[n],a),f=i.getPendingRow(p,a).dataContext.augmentWith(r,a),g={};e.assignments().forEach((function(e){var t=e.ColumnToEdit,n=e.valueEvalTree,r=d.tableSchema.findAttributeByName(t),o=n.run(f);o=r.coerceValue(o,r.type(),r.auxData()),o=r.valueToWireFormat(o),g[t]=o}));var h=a.create(d.name(),g);if(h){c=!0;var m=h.invalidatesRow;if(m){var y=null===(l=null==m?void 0:m.invalid)||void 0===l?void 0:l[0],v=null===(u=null==m?void 0:m.missingRequired)||void 0===u?void 0:u[0];o=m.message||"Could not create row because "+(y?"".concat(y," would be invalid"):"".concat(v," is required"))}o&&(s=o,a.undo())}},f=0;f<t.length;f++)p(f);n({error:s,actionModifiedData:c,actionNavigatedExternal:!1,actionNavigatedApp:!1})}))}},REF_ACTION:{requireValueEvalTree:!1,bulkRunnable:!1,runAsync:function(e,t,n,r){var o=n.appModel,i=n.table,a=n.actionRunInvocationId,l=n.transaction;return new Promise((function(n){var u,s,c=i.rootTable().lookupTableRow(t[0],l),d=null!==(u=null==c?void 0:c.dataContext.augmentWith(r,l))&&void 0!==u?u:o.dataContext().augmentWith(r,l),p=e.referencedTable(),f=o.findTableCollection(p).table,g=o.appTemplate.actions().findByName(p,e.referencedAction()),h=null==f?void 0:f.keyAttribute(),m=(null==h?void 0:h.valuesToWireFormat((null===(s=e.referencedRowsEvalTree())||void 0===s?void 0:s.run(d))||[]))||[],y=x.getInputParamValues(e,d);x.run(g,{appModel:o,rowIds:m,sourceLocationName:e.name(),sourceTable:f,inputParameterValues:y,actionRunInvocationId:a},(function(e){if("error"in(o=e)&&o.error){var t=e.error,r=D(e,["error"]);j(t),n(r)}else n(e);var o}),r)}))}},NAVIGATE_URL:{requireValueEvalTree:!0,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!1,navigatesExternal:!0,tableScopeWhenStatic:!0,run:function(e,t){var n=t.appModel,r=t.tableSchema,o=t.row,i=new f.default(n,r,o),a=e.valueEvalTree().run(i),l=(0,w.sanitizeHref)(a.url||a||""),u=e.launchExternal(),s=h.default.InMobileWebView()&&!u?p.default.toHttpsUrl(l):p.default.normalizeUrlValue(l),c=!1;return s&&(c=!0,InputHandler.switchToUrl(s,u)),{actionModifiedData:!1,actionNavigatedExternal:c,actionNavigatedApp:!1}}},IMPORT_FILE:{requireValueEvalTree:!1,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!0,requireAddPermission:!0,modifiesData:!0,navigatesApp:!1,navigatesExternal:!1,runAsync:function(e,t,n){var r=n.appModel,o=n.table;return new Promise((function(t){var n=document.createElement("input");n.accept=".csv",n.type="file",n.addEventListener("change",(function(){var i=e.csvLocale(r);if(null!=i&&""!==i){var a;a="Uploading records to table: ".concat(o.name(),"\r\n")+"Locale: ".concat(i,"\r\n\r\n")+"This may take a while.\r\nWe will let you know when it completes.",S.AppGlobals.ViewManager.ShowInfoDialog("Import CSV Started",a,"OK");var l=n.files[0],u=new FormData;u.append("file",l),u.append("userSettings",JSON.stringify(r.GetUserSettings())),u.append("options",JSON.stringify({CsvLocale:i})),(0,b.ajaxPost)("/api/template/".concat(r.AppTemplate.Id,"/table/").concat(o.name(),"/importCsv"),u,{processData:!1,contentType:!1,dataType:"json"}).then((function(e){!function(e){e!==R&&S.AppGlobals.ViewManager.ShowInfoDialog("Import CSV Succeeded",e,"OK")}(e?e.ImportCsvResult:"Success"),S.AppGlobals.StateChangeHandler.RefreshAppData({initiatedBy:"PushedChanges"}),t({actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1})})).catch((function(e){t({error:N(e),actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1})}))}else t({error:"Importing records to table: "+o.name()+" failed because CSV file locale is missing.",actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1})})),n.click()}))}},EXPORT_VIEW:{requireValueEvalTree:!1,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,requireAddPermission:!1,modifiesData:!1,navigatesApp:!1,navigatesExternal:!0,runAsync:function(e,t,r,o){var i=r.appModel,l=r.sourceTable;return new Promise((function(t){var r,u,s=n(673275).getUIStateByKey,d=o?s(o):S.AppGlobals.AppState.CurrentUIState,p=Object.assign({},d);if("DashboardUIState"in p){(0,T.$TSFixMeMaybeNull)(null===(r=p.DashboardUIState)||void 0===r?void 0:r.viewEntries);var f=null===(u=p.DashboardUIState)||void 0===u?void 0:u.viewEntries.reduce((function(e,t){return e.add(t.ViewName)}),new Set),h=l.name(),m=i.appTemplate.viewControls().filter((function(e){return e.TableOrFolderName===h&&"detail"!==e.Action&&f.has(e.Name)}));if(0===m.length&&(m=i.appTemplate.viewControls().filter((function(e){return e.TableOrFolderName===h&&f.has(e.Name)}))),m.length>0){var v=m[0];p.ControlName=v.Name,(0,T.$TSFixMeMaybeNull)(v.Action),p.Root=v.Action}}var b,O=S.AppGlobals.AppState.ComputeHash(p),w=e.csvLocale(i);null!=w&&""!==w?(b="Exporting records from view: ".concat(l.name(),"\r\n")+"Locale: ".concat(w,"\r\n\r\n")+"This may take a while.\r\nWe will let you know when it completes.",S.AppGlobals.ViewManager.ShowInfoDialog("Export CSV Started",b,"OK"),i.MakeGetAppTemplateParams(i.appTemplate.model.Id,!1,(function(e){var n,r,l,u="/api/template/".concat(i.appTemplate.model.Id,"/exportView");try{l=null!=o?null===(n=d[k.SPECIFIC_STATE_NAME_MAP[d.Root]])||void 0===n?void 0:n.FilterExpr:null===(r=(0,y.getViewSpecificUIState)())||void 0===r?void 0:r.FilterExpr}catch(e){var s=e;g.default.ReportErrorOnce({errorMessage:"Error getting filter expression for CSV export",error:s})}var p=a.default.pickBy({appLink:O,version:e.version,localVersion:e.localVersion,tzOffset:e.tzOffset,settings:e.settings,location:e.location,locale:e.locale,csvLocale:w,FilterExpr:null==l?void 0:l.toJSON()});$.postJSON(u,p,(function(e){!function(e){e!==R&&S.AppGlobals.ViewManager.ShowInfoDialog("Export CSV Succeeded",e,"OK")}("Success");var n=new Blob([e],{type:"text/csv"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="AppSheet.ViewData.".concat((0,c.default)().format("YYYY-MM-DD"),".csv"),o.click(),URL.revokeObjectURL(r),t({actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1})}),(function(e){t({error:N(e),actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1})}))}))):t({error:"Exporting records from table: "+l.name()+" to a CSV file failed because CSV file locale is missing.",actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1})}))}},NAVIGATE_APP:{requireValueEvalTree:!0,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!0,navigatesExternal:!1,tableScopeWhenStatic:!0,run:function(e,t,n){var r=t.appModel,o=t.tableSchema,i=t.row,a=t.sourceTable,l=t.filterExpr,u=t.defaultValues,s=new f.default(r,o,i),c=e.valueEvalTree().run(s),d=!1;if(c){if(c.toLowerCase()==="#control=_PARENTVIEW".toLowerCase())return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:v.JeeneeBrowserAPI.navigateBack()};if(e.isAutoCreated())try{var p=S.AppGlobals.AppState.ParseHash(c),h=!1;if(p.table&&a&&a.isSlice()&&a.rootTable().name()===p.table){var m=o.findAttributeByName(e.columnToEdit());"Address"!==m.type()&&"LatLong"!==m.type()||(p.table=a.name(),h=!0)}l&&!p.filterExpr&&(p.filter=JSON.stringify(l.model),h=!0),u&&!p.defaults&&(p.defaults=JSON.stringify(u),h=!0),h&&(c="#"+$.param(p))}catch(e){g.default.warnToDevConsole(e)}d=I((function(){return S.AppGlobals.StateChangeHandler.SwitchApp(c,void 0,void 0,n)}))}return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:d}}},NAVIGATE_BACK:{requireValueEvalTree:!1,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!0,navigatesExternal:!1,tableScopeWhenStatic:!0,run:function(){return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:v.JeeneeBrowserAPI.navigateBack()}}},COPY_EDIT_ROW:{requireValueEvalTree:!1,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!0,navigatesExternal:!1,run:function(e,t,n){var r=t.table,o=t.tableSchema,i=t.row,l=t.sourceTable,u=o.keyAttributes().map((function(e){return e.name()})),s=a.default.omit(i,u),c=r.name();try{l&&l.isSlice()&&l.rootTable().name()===r.name()&&(c=l.name())}catch(e){g.default.warnToDevConsole(e)}var d="#table=".concat(encodeURIComponent(c))+"&page=form"+"&defaults=".concat(encodeURIComponent(JSON.stringify(s)));return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:I((function(){return S.AppGlobals.StateChangeHandler.SwitchApp(d,void 0,void 0,n)}))}}},COMPOSITE:{requireValueEvalTree:!1,bulkRunnable:!1,run:function(){throw new Error("Composite action should not be run directly")}},OPEN_FILE:{requireValueEvalTree:!0,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!1,navigatesExternal:!0,tableScopeWhenStatic:!0,run:function(e,t){var n=t.appModel,r=t.table,o=t.tableSchema,i=t.row,a=new f.default(n,o,i),l=e.valueEvalTree().run(a),u=S.AppGlobals.AppModel.ResolveFile(l,r.rootName()),s=!1;return u&&(s=!0,InputHandler.switchToUrl(u)),{actionModifiedData:!1,actionNavigatedExternal:s,actionNavigatedApp:!1}}},EMAIL:{requireValueEvalTree:!0,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!1,navigatesExternal:!0,run:function(e,t){var n=t.appModel,r=t.tableSchema,o=t.row,i=n&&n.IsWhitelabelApp(),a=new f.default(n,r,o),l=e.valueEvalTree().run(a),u=e.messageSubjectEvalTree(),s=u?u.run(a):" ",c=e.messageBodyEvalTree(),d=c?c.run(a):" ",p=m.default.mailToUrl(l,s,d,i),g=!1;return p&&(g=!0,InputHandler.switchToUrl(p)),{actionModifiedData:!1,actionNavigatedExternal:g,actionNavigatedApp:!1}}},CALL:{requireValueEvalTree:!0,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!1,navigatesExternal:!0,run:function(e,t){var n=t.appModel,r=t.tableSchema,o=t.row,i=new f.default(n,r,o),a=e.valueEvalTree().run(i),l=m.default.phoneUrl(a),u=!1;return l&&(u=!0,InputHandler.switchToUrl(l)),{actionModifiedData:!1,actionNavigatedExternal:u,actionNavigatedApp:!1}}},SMS:{requireValueEvalTree:!0,bulkRunnable:!1,requireDeletePermission:!1,requireUpdatePermission:!1,modifiesData:!1,navigatesApp:!1,navigatesExternal:!0,run:function(e,t){var n=t.appModel,r=t.tableSchema,o=t.row,i=new f.default(n,r,o),a=e.valueEvalTree().run(i),l=e.messageBodyEvalTree(),u=l?l.run(i):null,s=m.default.smsUrl(a,u),c=!1;return s&&(c=!0,InputHandler.switchToUrl(s)),{actionModifiedData:!1,actionNavigatedExternal:c,actionNavigatedApp:!1}}},TRIGGER_PROCESS:{requireValueEvalTree:!1,bulkRunnable:!1,runAsync:function(e,t,n){var r,o=n.appModel,i=n.table,a=n.transaction,l=t[0],u=null===(r=i.lookupTableRow(l,a))||void 0===r?void 0:r.values;if(!u)return Promise.resolve({actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1,error:"Could not find row with id '".concat(l,"' in table '").concat(i.name(),"'")});var s=JSON.stringify(u),c=m.default.makeGuid();return(0,b.ajaxPost)("/api/apps/".concat(o.AppTemplate.Id,"/userAppEvent"),{appTemplateId:o.AppTemplate.Id,appTemplateVersion:o.AppTemplate.Version,eventID:e.triggerEventId(),eventInstanceId:c,tableName:i.name(),payload:s,triggerCondition:"UPDATE"},{dataType:"json",contentType:"application/json"}).then((function(){return{actionModifiedData:!0,actionNavigatedExternal:!1,actionNavigatedApp:!1}})).catch((function(e){return{actionModifiedData:!1,actionNavigatedExternal:!1,actionNavigatedApp:!1,error:e.message}}))}}};var M=null,G=new Map,F=function(e){var t=G.get(e);return null==t&&(t={runsStarted:0,runsFinished:0,averageTime:0,maxTime:0},G.set(e,t)),t},B=function(e){return{id:(0,O.makeGuid)(),actionName:e.name(),actionType:e.type(),timestamp:Date.now(),needsConfirmation:e.needsConfirmation(),awaitingConfirmation:!1}};var V=x={confirmAction:function(e,t,n,r,o,i){var a;if(e.needsConfirmation()){var l=o.dataManager.currentTransaction,u=1===(null==t?void 0:t.length)?null===(a=n.lookupTableRow(t[0],l))||void 0===a?void 0:a.values:null,s=e.confirmationMessage(o,r,u),c=Date.now(),d={name:e.displayName(o,r,u),callback:function(){return i(!0,Date.now()-c)},classes:"btn-danger",dismiss:!0},p={name:o.MapActionName("No"),callback:function(){return i(!1,Date.now()-c)},dismiss:!0},f=o.MapActionName("Confirm"),g=[p,d];setTimeout((function(){S.AppGlobals.ViewManager.ShowDynamicReactModal({title:f,message:s,buttons:g})}),200)}else i(!0,0)},run:function(e,t,n,r){var o=t.appModel,i=void 0===o?S.AppGlobals.AppModel:o,l=t.rowId,s=t.rowIds,c=t.sourceLocationName,p=t.sourceTable,h=t.defaultValues,y=t.filterExpr,v=t.inputParameterValues,b=t.actionRunInvocationId;null!=l&&null!=s&&g.default.warnToDevConsole("ActionRunner run was given rowId and rowIds");var O=!0;null!=l&&(s=[l],O=!1);var w=null==l&&null==s&&e.dynamicTableScope();s=s||[];var T,A,k,E,P=[e],C=(T=e.name(),F(T).runsStarted+=1,Date.now());if(null==M)M=A=B(e);else if(M.id!==b){var D=M.timestamp-C,R=F(e.name());g.default.ReportErrorOnce(Object.assign({errorMessage:"Transaction Error: Attempting to run a new action when the previous one did not complete",newActionName:e.name(),newActionType:e.type(),lastActionName:M.actionName,lastActionType:M.actionType,timeSinceLastInvocation:D,withinAverage:D<R.averageTime},R)),M=A=B(e)}else A=M;g.default.AddTraceContext("DataAction Triggered",{"Action Location":c,"Action Source Table Name":p&&"function"==typeof p.name?p.name():null,"Action Type":e.type(),"Action Name":e.name(),"Action Nested Types":"COMPOSITE"===e.type()?P.map((function(e){return e.type()})).join(", "):null,"Action Bulk Mode":O,"Action Row Count":s.length,"Action Created By":e.createdBy()});var I=!1,N=!1,L=!1,G=null,V=!1,U=0;(0,u.default)((function(e){e(void 0,!(N||V||G||P.length<1))}),(function(t){var n,o=P.shift();try{n=function(e,t){if(null==t)throw new Error("ActionRunner requires an appModel");var n=d.default.findByName(e.table(),t),r=n.table,o=n.tableSchema;if(null==r||null==o)throw new Error("Error running action, unknown table:"+e.table());var i=_[e.type()];if(null==i)throw new Error("Unknown action type:"+e.type());return{actionRunner:i,table:r,tableSchema:o}}(o,i)}catch(e){return G=e.message,void g.default.errorToDevConsole(G)}var l=n,u=l.actionRunner,c=l.table,m=l.tableSchema,b=c.rootTable();if(b){var O=function(e,t,n,r,o,i,a){var l=t.dataManager.currentTransaction,u=new f.default(t,i,null,void 0,void 0,void 0,a?{viewStateKey:a}:void 0,l),s=r.filter((function(t){var n,r=null===(n=o.lookupTableRow(t,l))||void 0===n?void 0:n.values;return r?(u.replaceRowData(r),e.isValidForRow(r,u)):(g.default.errorToDevConsole({rowId:t,error:"Unable to find row ".concat(t," in target table ").concat(o.name())}),!1)}));return s}(o,i,0,s,b,m,r);if(o.tableScope()||w||0!==O.length){if("COMPOSITE"===o.type()){var S=e.nestedActions(i);P=S.concat(P)}A.awaitingConfirmation=!0,x.confirmAction(o,O,b,m,i,(function(e,n){if(U=n,A.awaitingConfirmation=!1,!e)return V=!0,void t();if("COMPOSITE"!==o.type()){var l=c.rootTable();if(!l)return g.default.warnToDevConsole("Unable to find root table for slice ".concat(c.name())),void t();if(u.navigatesExternal&&L)t();else{(k=i.dataManager.currentTransaction).closed&&g.default.ReportErrorOnce({errorMessage:"Transaction Error: transaction already closed on action confirmation"}),(E=!k.started)&&k.start();var s,d={appModel:i,table:c,tableSchema:m,sourceTable:p,transaction:k,defaultValues:h,filterExpr:y,rowIds:O,inputParameterValues:v,actionRunInvocationId:A.id},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G=e.error||G,I=e.actionModifiedData||I,N=e.actionNavigatedApp||N,L=e.actionNavigatedExternal||L},b=function(){G&&j(G),E?k.commit((function(e){e&&(k.abort(),G=e.message,j(G),"function"==typeof N&&(N=!1)),t()})):t()};"runAsync"in(s=u)&&"function"==typeof s.runAsync?o.tableScope()||w||u.bulkRunnable?(g.default.logToDevConsole("running async",o.name()),u.runAsync(o,O,d,r).then(f).then(b)):Promise.all(O.map((function(e){return u.runAsync(o,[e],d,r).then(f)}))).then(b):(o.tableScope()||w?f(u.run(o,d,r)):O.forEach((function(e){var t,n=null===(t=l.lookupTableRow(e,k))||void 0===t?void 0:t.values;f(u.run(o,a.default.extend({},d,{row:n,rowId:e}),r))})),b())}}else t()}))}else t()}else g.default.warnToDevConsole("Unable to find root table for slice ".concat(c.name()))}),(function(){null!=b||A!==M||(M=null),function(e,t,n){var r=Date.now()-t-n,o=F(e),i=o.runsFinished,a=i+1;o.averageTime=(i*o.averageTime+r)/a,o.runsFinished=a,o.maxTime=Math.max(o.maxTime,r)}(e.name(),C,U),"function"==typeof N&&(N(),N=!0),"function"==typeof n?n({actionModifiedData:I,actionNavigatedApp:N,actionNavigatedExternal:L,error:G}):I&&(!i.ShouldDelaySync()||(0,m.isMonitoringApp)(i.appTemplate.id())&&"Select This App to Monitor"===e.action.Name)?window.InputHandler.ProcessSync():N||S.AppGlobals.StateChangeHandler.ShowUIState(!0),g.default.logToDevConsole("all actions have finished for rootAction",e.name())}))},getInputParamValues:function(e,t){var n={},r=e.action.ActionDefinition.InputAssignments;if(null!=r)for(var o=0;o<r.length;o++){var i=r[o],a=e.inputParameterValueEvalTree(o);null!=a&&(n[i.InputName.toLowerCase()]=a.run(t))}return n}};t.default=V;var U=_;t.actionTypes=U},440587:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(t,n){(0,o.default)(this,e),this.url=t||"",this.linkText=n||""}return(0,i.default)(e,[{key:"toString",value:function(){return this.url?String(this.url):""}}],[{key:"from",value:function(t){return new e(null==t?void 0:t.Url,null==t?void 0:t.LinkText)}}]),e}();t.default=a},302443:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLatLong=t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(190644)),l=function(){function e(t,n){(0,o.default)(this,e),this.latitude=parseFloat(t||0),this.longitude=parseFloat(n||0)}return(0,i.default)(e,[{key:"toString",value:function(){return this.latitude.toFixed(6)+", "+this.longitude.toFixed(6)}}],[{key:"fromString",value:function(t){if(!t)return null;if("string"!=typeof t)return null;var n=t.split(", ");return 2===n.length&&a.default.isValidLatLng(n[0],n[1])?new e(n[0],n[1]):null}}]),e}(),u=Object.freeze(new l(0,0));t.defaultLatLong=u;var s=l;t.default=s},523930:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(667294)),u=r(n(973935));window.React=l.default;var s=function(){function e(t){(0,o.default)(this,e),this.state=t.state||{},this.initialState=a.default.clone(this.state),this.$parent=t.parent?$(t.parent):null,this.renderCb=t.render,this.dispose=t.dispose,this.$el=$("<div >"),this.$el.addClass("WidgetHelperRoot"),this.$parent&&this.$parent.append(this.$el),this.$el.data("widget",this),this.$bus=$(this),this.render()}return(0,i.default)(e,[{key:"on",value:function(e,t){this.$bus.on(e,t)}},{key:"_trigger",value:function(e){this.$bus.trigger(e)}},{key:"updateHandler",value:function(){var e=this,t=a.default.toArray(arguments);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.forEach((function(t,n){e.state[t]=r[n]})),e.render(),e._trigger("change")}}},{key:"render",value:function(){function t(){var t=this;this.reactElement=this.renderCb(this.state);var n=function(){t.component=u.default.render(t.reactElement,t.$el[0])};e.deferMode?e._queuedRenders.push(n):n()}if(location.host.indexOf("appsheet.com")>=0)try{t.call(this)}catch(e){var n=e;if(-1===n.toString().indexOf("parentNode"))throw n}else t.call(this)}},{key:"replaceState",value:function(e){this.state=e,this.render()}},{key:"setState",value:function(e){a.default.extend(this.state,e),this.render()}},{key:"getState",value:function(){return this.state}},{key:"unmount",value:function(){return null!=this.dispose&&this.dispose(),window.ReactDOM.unmountComponentAtNode(this.$el[0])}},{key:"reinitializeComponent",value:function(e){if(this.component){var t;t=this.component.getInitialState?this.component.getInitialState():this.component.initialState?this.component.initialState():{},this.component.state=t;var n=a.default.clone(this.initialState);n.refreshId=Math.random(),this.state=a.default.extend(n,e||{})}}}],[{key:"fromEl",value:function(e){return e.data("widget")}},{key:"startBatch",value:function(){window.Common.RunningInTestFramework||(e.deferMode=!0)}},{key:"clearBatch",value:function(){e._queuedRenders=[]}},{key:"flush",value:function(t){if(t){var n=e._queuedRenders.splice(0,100);for(e.deferMode=!1;n.length;){n.pop()()}e._queuedRenders.length&&setTimeout((function(){e.flush(!0)}),100)}else setTimeout((function(){e.flush(!0)}),window.Common.FADE_OUT_DURATION_MS)}}]),e}();t.default=s,s._queuedRenders=[]},304878:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(t,n){(0,o.default)(this,e),this.x=parseFloat(t||0),this.y=parseFloat(n||0)}return(0,i.default)(e,[{key:"toString",value:function(){return this.x.toFixed(6)+", "+this.y.toFixed(6)}}],[{key:"isValidXOrY",value:function(e){var t=Number(e);return null!=e&&""!==e&&!isNaN(t)&&t>=0&&t<=100}},{key:"fromString",value:function(t){if(!t)return null;if("string"!=typeof t)return null;var n=t.split(", ");return 2===n.length&&e.isValidXOrY(n[0])&&e.isValidXOrY(n[1])?new e(n[0],n[1]):null}}]),e}();t.default=a},766333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new Error("Type assertion failure"+(t?": "+t:""))}},852468:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZERO_RESULTS=t.REQUEST_DENIED=t.OVER_QUERY_LIMIT=t.OK=t.INVALID_REQUEST=void 0;var o=r(n(856690)),i=r(n(689728));t.OK="OK";var a="OVER_QUERY_LIMIT";t.OVER_QUERY_LIMIT=a;t.ZERO_RESULTS="ZERO_RESULTS";t.REQUEST_DENIED="REQUEST_DENIED";t.INVALID_REQUEST="INVALID_REQUEST";var l=function(){function e(){(0,o.default)(this,e),this.BASE_MAX_CALL_RATE=1e3,this.maxCallRateMs=this.BASE_MAX_CALL_RATE,this.queue=[],this.timer=null,this.maxQueueLength=0}return(0,i.default)(e,[{key:"queueApiCall",value:function(e){var t=this,n=e.address,r=e.lat,o=e.lng,i=e.region,l=e.interactive,u=function(e){l?t.queue.unshift(e):t.queue.push(e),t.flush()};return new Promise((function(e){u((function l(){return t.makeApiCall({address:n,lat:r,lng:o,region:i}).then((function(n){var r=n.results,o=n.status;if("OK"===(o=t.normalizeStatus(o,r))&&r&&r.length)r=t.normalizeResults(r),e({results:r});else if(o===a){var i=2*t.maxCallRateMs;console.log("\nQuery limit hit after "+(t.maxQueueLength-t.queue.length)+" with remaining queue length "+t.queue.length),console.log("increasing timeout to "+i),t.maxQueueLength=t.queue.length,t.maxCallRateMs=i,clearInterval(t.timer),t.timer=null,u(l)}else e({status:o})}))}))}))}},{key:"flush",value:function(){var e=this;this.queue.length>this.maxQueueLength&&(this.maxQueueLength=this.queue.length),null==this.timer&&(this.timer=setInterval((function(){var t=e.queue.shift();t?t():(clearInterval(e.timer),e.timer=null,console.log("queue finished"),e.maxCallRateMs=e.BASE_MAX_CALL_RATE,e.maxQueueLength=0)}),this.maxCallRateMs))}}]),e}();t.default=l},431335:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.CSV=void 0;var o=r(n(757460)),i=r(n(571524)),a=r(n(593186)),l="__dummyHeader",u={parse:function(e){var t;i.default.IsChromeBrowser()&&(t=function(e){return(" "+e).substr(1)});var n=o.default.parse(e,{header:!0,skipEmptyLines:!0,delimiter:",",transform:t}),r=n.data,l=!1;if(n.errors.length){l=!0;try{var u="q12i65o6a3530q5s9p",s=new RegExp(u,"g");if(!e.match(u)){var c=e.replace(/\r(?!\n)/g,u),d=o.default.parse(c,{header:!0,skipEmptyLines:!0});if(!d.errors.length){var p=[];d.data.forEach((function(e){var t={};for(var n in e)e[n]&&"function"==typeof e[n].replace?t[n]=e[n].replace(s,"\r"):t[n]=e[n];p.push(t)})),r=p,l=!1}}}catch(e){a.default.ReportErrorOnce({error:e,errorMessage:"Error trying to fix CSV input"})}}return l&&n.errors.forEach((function(e){a.default.ReportErrorOnce({errorMessage:"Unfixable error parsing CSV",error:e})})),r},stringify:function(e){var t;if(Array.isArray(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&t.push(e[n]);var r="";if(t.length>0){var o="";for(var i in t[0])if(t[0].hasOwnProperty(i)){if(l===i)continue;""!==o&&(o+=","),o+=i}r+=o+"\r\n"}for(var a=0;a<t.length;a++)if(!t[a].hasOwnProperty(l)){var u="";for(var s in t[a])t[a].hasOwnProperty(s)&&(""!==u&&(u+=","),u+='"'+t[a][s]+'"');r+=u+"\r\n"}return r}};t.CSV=u},56749:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ASThemeProvider=void 0,t.cacheMuiTheme=c,t.themeColor=function(e){var t,n=null===(t=i.AppGlobals.ViewManager)||void 0===t?void 0:t.theme;return n?n.getThemeColor(e):null};var o=n(697211),i=n(166089),a=r(n(496486)),l=r(n(667294)),u=n(557310),s=(0,o.createTheme)({typography:{useNextVariants:!0,fontSize:18,fontFamily:"inherit"}});function c(e){var t=new WeakMap;return function(){var n,r,l=null===(r=null===(n=i.AppGlobals.ViewManager)||void 0===n?void 0:n.theme)||void 0===r?void 0:r.themeData;if(!l)return s;var c,d=t.get(l);if(d)return d;var p=i.AppGlobals.ViewManager.theme.getMuiThemeOptions();c=e?a.default.merge({},p,e(p)):p;var f=(0,o.createTheme)(Object.assign(Object.assign({},c),u.ReactRootUIConfig.isInDesktopExperience()&&{props:{MuiButton:{disableElevation:!0}}}));return t.set(l,f),f}}var d,p=c(),f=c((function(){var e=i.AppGlobals.ViewManager.theme.getHeaderMuiThemeOptions();return d?a.default.merge({},e,d(e)):e})),g=(0,o.createGenerateClassName)({disableGlobal:!0,seed:"h"}),h=(0,o.createGenerateClassName)({disableGlobal:!0,seed:"m"});t.ASThemeProvider=function(e){var t=e.header,n=e.children,r=t?f():p(),i=t?g:h;return l.default.createElement(o.StylesProvider,{generateClassName:i},l.default.createElement(o.MuiThemeProvider,{theme:r},n))}},469534:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.maybeSubscribeToPunctual=function(e){try{var t=function(){if(!window.getPunctualClient)return{v:void 0};if(y(),s.dynamicRollouts.includeByOwnerId("DisableNotificationSync"))return{v:void 0};if(!(null==e?void 0:e.Id))return{v:void 0};for(var t=function(e){var t,n=((null===(t=null==e?void 0:e.AppData)||void 0===t?void 0:t.DataSets)||[]).filter((function(e){return"native"!==e.ProviderName}));return n.length>0&&u.default.every(n,(function(e){return"google_tables"===e.ProviderName}))}(e),n=function(e,t){var n=[];if(!(null==e?void 0:e.Id))return n;n.push({name:"DATA_ONLY_".concat(e.Id.replace(/-/g,"_")),rootId:"topics"}),t&&n.push.apply(n,(0,a.default)(function(e){var t,n=[];if(!(null==e?void 0:e.Id))return n;var r=((null===(t=null==e?void 0:e.AppData)||void 0===t?void 0:t.DataSets)||[]).filter((function(e){return"google_tables"===(null==e?void 0:e.ProviderName)})).map((function(e){var t;return{name:"tuples-"+f(null!==(t=e.Source)&&void 0!==t?t:""),rootId:"tables"}})).filter((function(e){return!!e.name}));return n.push.apply(n,(0,a.default)(r)),n}(e)));return n}(e,t),r=function(e){l.default.logToDevConsole("Subscribing notifications for ",n[e].rootId,n[e].name),o=window.getPunctualClient().subscribe(n[e].name,(function(e){!function(e,t){if(s.dynamicRollouts.includeByOwnerId("DisableNotificationSync"))return;if(l.default.logToDevConsole("DATA NOTIFICATION RECEIVED : ",e),t&&function(e){var t,n,r;if(!e)return!1;if("tables"!==(null===(t=e.objectId)||void 0===t?void 0:t[0]))return!1;if(!(null===(r=null===(n=e.objectId)||void 0===n?void 0:n[1])||void 0===r?void 0:r.startsWith("tuples-")))return!1;return!0}(e))return void g();if(!e.payload)return;try{var n=JSON.parse((new TextDecoder).decode(e.payload));if("ProviderCache"===n.messageType)h(n);else m()}catch(e){l.default.ReportErrorOnce({errorMessage:"Failed to parse data notification",error:e})}}(e,t)}),(function(e){l.default.ReportError({errorMessage:"Error processing message from punctual. Updates for this app will halt.",error:e}),y()}),(function(){l.default.logToDevConsole("Unsubscribed notifications for ",n[e].rootId,n[e].name)}),n[e].rootId)},i=0;i<n.length;i++)r(i)}();if("object"===(0,i.default)(t))return t.v}catch(e){l.default.ReportError({errorMessage:"Error subscribing to punctual",error:e})}};var o,i=r(n(918698)),a=r(n(600861)),l=r(n(593186)),u=r(n(496486)),s=n(44617),c=n(354632),d=n(166089),p=n(609464);function f(e){var t;return(t=e.match(/^(?:ID=)?tables\/([^/]+)$/))||(t=e.match(/^(?:ID=)?base\/[^/]+\/tables\/([^/]+)$/))?t[1]:""}var g=u.default.throttle((function(){var e,t;c.syncCountMetric.record({Visibility:"Hidden",InitiatedBy:"Notification",NotificationType:"TablesOnlyApp"}),null===(t=null===(e=d.AppGlobals.AppModel)||void 0===e?void 0:e.startBackgroundSync)||void 0===t||t.call(e,{initiatedBy:"Notification"})}),Math.ceil(2e3+5e3*Math.random())),h=u.default.throttle((function(e){var t;null===(t=d.AppGlobals.AppModel)||void 0===t||t.startBackgroundSync({initiatedBy:"Notification",notification:e})}),Math.ceil(2e3+5e3*Math.random())),m=u.default.throttle((function(){s.dynamicRollouts.includeByOwnerId("SendDataNotificationsOnChangeRollout")&&(c.syncCountMetric.record({Visibility:"Hidden",InitiatedBy:"Notification",NotificationType:"DataChange"}),(0,p.deltaNotificationInstance)().checkChanges().catch((function(e){l.default.ReportError({errorMessage:"Error processing data change notification",error:e})})))}),Math.ceil(200+1e3*Math.random()));function y(){try{o&&o.unsubscribe(),o=void 0}catch(e){l.default.ReportError({errorMessage:"Ignoring error while unsubscribing to punctual",error:e})}}},609464:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaNotificationClient=void 0,t.deltaNotificationInstance=function(){v||(v=new b);return v};var o=r(n(364687)),i=r(n(856690)),a=r(n(689728)),l=r(n(593186)),u=n(635672),s=r(n(962553)),c=r(n(496486)),d=n(166089),p=r(n(385857)),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))};function g(e,t){return e.sliceDefinition?function(e,t){for(var n={},r=0;r<e.Columns.length;r++){var o=e.Columns[r];null!=o&&null!=t[r]&&(n[o]=t[r])}return n}(e.sliceDefinition,t):function(e,t){for(var n={},r=e.allAttributes(),o=0;o<r.length;o++){var i=r[o];null!=i&&i.isValid()&&null!=t[o]&&!i.isVirtual()&&(n[i.name()]=t[o])}return n}(e,t)}function h(e,t){var n=e.keyAttribute().name();return c.default.trim(t[n])}function m(e){var t=d.AppGlobals.AppModel.AppTemplate;if(t&&e.Id===t.Id&&e.Version===t.Version){var n=function(e,t,n){for(var r=[],o=0;o<t.Changes.length;o++)for(var i=t.Changes[o],a=s.default.findByName(i.TableName).tableSchema,l=new p.default(d.AppGlobals.AppModel,a,void 0),u=0;u<i.Changes.length;u++){var c=i.Changes[u],f=g(a,c.ChangedValues);l.rowData=f,l.recomputeVirtualColumns({recomputeKey:!0});var m={tableName:i.TableName,row:f,appName:e.Name,appId:e.Id,appVersion:e.Version,userSettings:n,mechanism:"Notification"};if("Insert"===c.Type){var y=Object.assign({actionType:"AddTableRow",type:"AddTableRow"},m);r.push(y)}else if("Update"===c.Type){var v=Object.assign({actionType:"UpdateTableRow",type:"UpdateTableRow"},m);r.push(v)}else if("Delete"===c.Type){var b=Object.assign(Object.assign({actionType:"DeleteTableRow",type:"DeleteTableRow"},m),{rowKey:h(a,m.row)});r.push(b)}}return r}(t,e,d.AppGlobals.AppModel.GetUserSettings());d.AppGlobals.AppModel.AddDeleteOrUpdateTableRows(n,(function(t){l.default.logToDevConsole("DELTA_NOTIFICATION: SUCCESS ".concat(e.Timestamp))}),(function(t){l.default.logToDevConsole("DELTA_NOTIFICATION: FAILURE ".concat(e.Timestamp))}),{skipWriteTables:!0,usedTransactions:!1,bypassSubmitToServer:!0})}else l.default.logToDevConsole("DELTA_NOTIFICATION: IGNORING ".concat(e.Id,"|").concat(e.Version," != ").concat(t.Id,"|").concat(t.Version))}function y(e){for(var t=0;t<e.length;t++)m(e[t])}var v,b=function(){function e(){(0,i.default)(this,e),this.latestSyncToken$=Promise.resolve(""),this.appId="",this.appVersion=""}return(0,a.default)(e,[{key:"setLatestWatermark",value:function(e,t){return this.latestSyncToken$=Promise.resolve(t||""),this.appId=e.Id,this.appVersion=e.Version,l.default.logToDevConsole("DELTA_NOTIFICATION: ".concat(this.appId,"|").concat(this.appVersion,"|").concat(t)),this}},{key:"checkChanges",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.latestSyncToken$=this.checkChangesImpl(),e.next=3,this.latestSyncToken$;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"checkChangesImpl",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.appId){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,this.latestSyncToken$;case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return","");case 7:if(!d.AppGlobals.AppModel){e.next=11;break}if(!d.AppGlobals.AppModel.NumDelayedActions()&&!d.AppGlobals.AppModel.NumProcessingActions()){e.next=11;break}return l.default.logToDevConsole("Ignoring delta notification, pending queue items"),e.abrupt("return",t);case 11:return e.prev=11,n="/api/app/notifications/".concat(this.appId,"?version=").concat(this.appVersion),r={contentType:"application/json"},i={DeltaNotificationSyncToken:t,UserSettings:JSON.stringify(d.AppGlobals.AppModel.GetUserSettings())},e.next=17,(0,u.ajaxPost)(n,i,r);case 17:if(a=e.sent,t=a.DeltaNotificationSyncToken,!d.AppGlobals.AppModel){e.next=23;break}if(!d.AppGlobals.AppModel.NumDelayedActions()&&!d.AppGlobals.AppModel.NumProcessingActions()){e.next=23;break}return l.default.logToDevConsole("Ignoring delta notification after fetch, pending queue items"),e.abrupt("return",t);case 23:l.default.logToDevConsole("DELTA_NOTIFICATION: ".concat(this.appId,"|").concat(this.appVersion,"|").concat(t,"|").concat(a)),y(a.Changes),StateReflector.ShowUIState(!0),l.default.logToDevConsole("Processed changes ".concat(JSON.stringify(a))),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(11),l.default.ReportError({errorMessage:"Error processing updates from notification queue",error:e.t0});case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}}),e,this,[[11,29]])})))}}]),e}();t.DeltaNotificationClient=b},386350:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.EDITOR_IFRAME_PREVIEW_SOURCE=void 0,t.onEditorIframePreviewMessage=function(e){var t=function(e){return function(t){var n=t.data||{},r=n.source,i=n.event,l=n.data;t.isTrusted&&(t.origin===o.WindowWrapper.location.origin||window.APPSHEET_TEST_CONTEXT)&&r===a&&e(i||"",l||{})}}(e);return window.addEventListener("message",t,!1),function(){window.removeEventListener("message",t)}},t.sendEditorMessage=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.default.IsEditorIFramePreview()&&(null===(t=window.parent)||void 0===t?void 0:t.postMessage)&&window.parent.postMessage({source:a,event:e,data:n},"*")};var o=n(892148),i=r(n(571524)),a="editor-iframe-preview";t.EDITOR_IFRAME_PREVIEW_SOURCE=a},315847:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(249e3)),i=r(n(881052)),a=n(351101),l={BAD_GEO_VALUE:181,get disabled(){var e;return!0===(null===(e=(0,a.getAppModel)())||void 0===e?void 0:e.appTemplate.isGoogleMapsDisabled)},region:function(e){var t="US";if(e=e||o.default.language()){var n=e.match(/^\w{2}-(\w{2})$/),r=null==n?void 0:n[1];r&&(t=r.toLowerCase())}return t},_knownAddresses:{},addressHasBeenQueued:function(e){return l._knownAddresses[e]},geocodeAddress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.region,r=t.interactive;return l.disabled?Promise.reject(new Error("geocodeAddress requested but geocoding is disabled")):(l._knownAddresses[e]=!0,i.default.queueApiCall({address:e,region:n,interactive:r}))},lookupAddress:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.region,o=n.interactive;return l.disabled?Promise.reject(new Error("lookupAddress requested but geocoding is disabled")):i.default.queueApiCall({lat:e,lng:t,region:r,interactive:o})}},u=l;t.default=u},190644:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GeolocationClass=t.Geolocation=void 0;var o=r(n(689728)),i=r(n(856690)),a=r(n(496486)),l=r(n(112368)),u=r(n(593186)),s=n(891666),c=n(44617),d=r(n(571524)),p=n(892148);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){return e*(Math.PI/180)},m=2e4,y=1e3,v=6e4;function b(e){var t={};for(var n in e.coords)t[n]=e.coords[n];return{timestamp:Date.now(),coords:t}}var O=(0,o.default)((function e(t){var n=this;(0,i.default)(this,e),this.options=t,this.id=-1,this.status="stopped",this.stop=function(){"stopped"!==n.status&&(u.default.logToDevConsole("stopped watching position",n),n.status="stopped",navigator.geolocation.clearWatch(n.id))},this.start=function(){if("watching"!==n.status){u.default.logToDevConsole("started watching position",n),n.status="watching";var e=n.options,t=e.callback,r=void 0===t?function(){}:t,o=e.failureCallback,i=void 0===o?function(){}:o;n.id=navigator.geolocation.watchPosition((function(e){return r(b(e))}),(function(e){n.stop(),i(new Error(e.message))}),n.options)}},this.start()})),w=(0,o.default)((function e(){var t=this;(0,i.default)(this,e),this.available=null,this.pending=!1,this.lastPosition=null,this.history=[],this._activeWatchers=new Set,this.pauseAllWatchers=function(){var e,n=f(t._activeWatchers);try{for(n.s();!(e=n.n()).done;){(0,e.value.stop)()}}catch(e){n.e(e)}finally{n.f()}},this.resumeAllWatchers=function(){var e,n=f(t._activeWatchers);try{for(n.s();!(e=n.n()).done;){(0,e.value.start)()}}catch(e){n.e(e)}finally{n.f()}},this.getPollingUpdateInterval=function(){if(!1===t.available)return m;if(t.history.length>=2){var e=t.history[0],n=Math.min(e.kmph,130),r=a.default.meanBy(t.history.filter((function(e){return null!=e.kmph})),(function(e){return e.kmph}));n=Math.max(n,r);var o=Math.floor(m-1900*Math.pow(n/130,.05)*10);return isNaN(o)?m:Math.min(Math.max(o,y),m)}return y},this.kmDistance=function(e,t,n,r){var o=h(n-e),i=h(r-t),a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(h(e))*Math.cos(h(n))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},this.ifAvailable=function(e,n){return!0===t.available?"function"==typeof e?e():null:!1===t.available?"function"==typeof n?n():null:(null===t.available&&(t.pending?p.WindowWrapper.setTimeout((function(){t.ifAvailable(e,n)}),3e3):t.fetchLatLong(e,n,{enableHighAccuracy:!1})),null)},this.lastPositionAge=function(){return t.lastPosition&&t.lastPosition.timestamp?Date.now()-t.lastPosition.timestamp:1/0},this.logNewPosition=function(e){var n,r=Object.assign(Object.assign({},e),{timestamp:null!==(n=e.timestamp)&&void 0!==n?n:Date.now()}),o=t.history[0];if(o){t.history=t.history.filter((function(e){return r.timestamp-e.timestamp<18e4}));var i=r.timestamp-o.timestamp;if(i>5e3){var a=t.kmDistance(o.coords.latitude,o.coords.longitude,r.coords.latitude,r.coords.longitude);isNaN(a)||(r.kmph=Math.floor(a/(i/1e3/3600)),t.history.unshift(r))}}t.lastPosition=r},this.supportsNativeLocation=function(){var e;return c.dynamicRollouts.includeByUserId("ClientAndroidNativeLocation")&&"function"==typeof(null===(e=window.JeeneeAndroid)||void 0===e?void 0:e.startLocationUpdates)&&l.default.IsAndroidAppWithMinVersion(14)||c.dynamicRollouts.includeByUserId("ClientIOSNativeLocation")&&d.default.InIOSWebView()&&l.default.IsIOSAppWithMinVersion(14.6)},this.onPositionResult=function(e){u.default.logToDevConsole("Geolocation.onPositionResult",e),t.available=!0,t.pending=!1,t.logNewPosition(e)},this.onErrorResult=function(e){u.default.logToDevConsole("Geolocation.onErrorResult",e),t.available=!1,t.pending=!1},this.fetchLatLong=function(e,n,r){var o;if(null!=(null===(o=window.navigator)||void 0===o?void 0:o.geolocation)||t.supportsNativeLocation()){t.pending=!0,null==(r=r||{enableHighAccuracy:!0,maximumAge:2e4}).timeout&&(r.timeout=5e4);var i,a=!1,l=function(e){if(!a){clearTimeout(i);var r=e instanceof Error?e:new Error(e.message);t.onErrorResult(r),t.resumeAllWatchers(),"function"==typeof n&&n(r)}};t.pauseAllWatchers(),(t.supportsNativeLocation()?s.nativeGeolocationManager:navigator.geolocation).getCurrentPosition((function(n){return function(n){if(!a){clearTimeout(i),t.onPositionResult(n),t.resumeAllWatchers();var r=n.coords,o=r.latitude,l=r.longitude;"function"==typeof e&&e(o,l)}}(b(n))}),l,r),i=p.WindowWrapper.setTimeout((function(){l(new Error("getCurrentLocation timed out")),a=!0,t.resumeAllWatchers()}),r.timeout+1e3)}else t.available=!1},this.fetchAccurateLatLong=function(e,n,r,o){var i;if(u.default.logToDevConsole("Geolocation.fetchAccurateLatLong"),null!=(null===navigator||void 0===navigator?void 0:navigator.geolocation)||t.supportsNativeLocation()){var a;t.pending=!0;var l,c,d,f=0,g=function(n){t.pending=!1,t.available=!0,t.logNewPosition(n),e(n)},h=function(){clearTimeout(c),t.supportsNativeLocation()?s.nativeGeolocationManager.removeListener(d):navigator.geolocation.clearWatch(l)},m=function(e){var t,n=null===(t=null==a?void 0:a.coords)||void 0===t?void 0:t.accuracy;(null==n||e.coords.accuracy<=n)&&(a=e,f+=1,null!=(null==o?void 0:o.desiredAccuracy)&&e.coords.accuracy<=o.desiredAccuracy&&f>1?(h(),g(e)):r(e))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.abort,n=void 0!==t&&t;h(),a&&!n&&g(a)},O=function(e){h(),t.pending=!1,t.available=!1,"function"==typeof n&&n(new Error(e.message))},w=(o=o||{}).timeout,S=void 0===w?v:w;if(null==o.desiredAccuracy&&(o.desiredAccuracy=5),t.supportsNativeLocation()){var T={callback:m,failureCallback:O,enableHighAccuracy:!0,interval:null!==(i=o.interval)&&void 0!==i?i:5e3};return d=s.nativeGeolocationManager.addListener(T),c=p.WindowWrapper.setTimeout(y,S),y}return o.maximumAge=0,o.enableHighAccuracy=!0,l=navigator.geolocation.watchPosition((function(e){return m(b(e))}),O,o),c=p.WindowWrapper.setTimeout(y,S),y}return t.available=!1,null},this.watchPosition=function(e){var n,r=e.callback,o=void 0===r?function(){}:r,i=e.failureCallback,a=void 0===i?function(){}:i,l=e.interval,u=void 0===l?v:l,s=e.maximumAge,c=void 0===s?u:s,d=e.enableHighAccuracy,p=void 0===d||d;if(null!=(null===(n=window.navigator)||void 0===n?void 0:n.geolocation)){t.pending=!0;var f=new O({enableHighAccuracy:p,maximumAge:c,callback:function(e){t.onPositionResult(e),o(e)},failureCallback:function(e){t.onErrorResult(e),a(e),t.removeListener(f)}});return t._activeWatchers.add(f),f}},this.isValidLatLng=function(e,n){return t.isValidLatOrLng(e)&&t.isValidLatOrLng(n)},this.isValidLatOrLng=function(e){var t=Number(e);return null!=e&&""!==e&&!isNaN(t)&&t>-181&&t<181},this.normalizeLatOrLng=function(e){if(null!=e&&""!==e){var t=Number(e);if(!isNaN(t)&&t>-181&&t<181)return t}return null},this.stringifyLatOrLng=function(e,n){if(null==n&&(n=6),t.isValidLatOrLng(e)){var r=(Math.round(1e6*Number(e))/1e6).toString(),o=r.match(/^-?\d+(\.\d+)?/);if(o){o[1]?n-=o[1].length-1:r+=".";for(var i=0;i<n;i++)r+="0";return r}}return null},this.stringifyLatLng=function(e,n){return t.stringifyLatOrLng(e)+", "+t.stringifyLatOrLng(n)},this.hashLatLng=function(e,t){var n=e>=0?2*e:-2*e-1,r=t>=0?2*t:-2*t-1,o=(n>=r?n*n+n+r:n+r*r)/2;return e<0&&t<0||e>=0&&t>=0?o:-o-1},this.addListener=function(e){var n;return u.default.logToDevConsole("Geolocation.addListener",e),t.lastPositionAge()<v&&(null===(n=e.callback)||void 0===n||n.call(e,t.lastPosition)),t.supportsNativeLocation()?s.nativeGeolocationManager.addListener(Object.assign(Object.assign({},e),{callback:function(n){var r;t.onPositionResult(n),null===(r=e.callback)||void 0===r||r.call(e,n)},failureCallback:function(n){var r;t.onErrorResult(n),null===(r=e.failureCallback)||void 0===r||r.call(e,n)}})):t.watchPosition(e)},this.removeListener=function(e){u.default.logToDevConsole("Geolocation.removeListener",e),e instanceof O?(e.stop(),t._activeWatchers.delete(e)):"NativeGeolocationManager"===(null==e?void 0:e.type)&&s.nativeGeolocationManager.removeListener(e)},this.removeAllListeners=function(){var e,n=f(t._activeWatchers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.removeListener(r)}}catch(e){n.e(e)}finally{n.f()}s.nativeGeolocationManager.removeAllListeners()}}));t.GeolocationClass=w;var S=new w;t.Geolocation=S;var T=S;t.default=T},881052:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(856690)),a=r(n(689728)),l=r(n(861655)),u=r(n(994993)),s=r(n(73808)),c=r(n(314247)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(852468));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=new(function(e){(0,l.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"makeApiCall",value:function(e){var t,n=e.address,r=e.region,o=e.lat,i=e.lng;return null==n&&null!=o&&null!=i&&(t={lat:o,lng:i}),new Promise((function(e){c.default.whenReady((function(){return c.default.geocoder.geocode({address:n,region:r,location:t},(function(t,n){e({results:t,status:n})}))}))}))}},{key:"normalizeStatus",value:function(e){var t,n,r,o,i,a,l,u,s,p,f,g,h,m,y;switch(e){case null===(r=null===(n=null===(t=null===c.default||void 0===c.default?void 0:c.default.api)||void 0===t?void 0:t.maps)||void 0===n?void 0:n.GeocoderStatus)||void 0===r?void 0:r.OK:return d.OK;case null===(a=null===(i=null===(o=null===c.default||void 0===c.default?void 0:c.default.api)||void 0===o?void 0:o.maps)||void 0===i?void 0:i.GeocoderStatus)||void 0===a?void 0:a.OVER_QUERY_LIMIT:return d.OVER_QUERY_LIMIT;case null===(s=null===(u=null===(l=null===c.default||void 0===c.default?void 0:c.default.api)||void 0===l?void 0:l.maps)||void 0===u?void 0:u.GeocoderStatus)||void 0===s?void 0:s.INVALID_REQUEST:return d.INVALID_REQUEST;case null===(g=null===(f=null===(p=null===c.default||void 0===c.default?void 0:c.default.api)||void 0===p?void 0:p.maps)||void 0===f?void 0:f.GeocoderStatus)||void 0===g?void 0:g.REQUEST_DENIED:return d.REQUEST_DENIED;case null===(y=null===(m=null===(h=null===c.default||void 0===c.default?void 0:c.default.api)||void 0===h?void 0:h.maps)||void 0===m?void 0:m.GeocoderStatus)||void 0===y?void 0:y.ZERO_RESULTS:return d.ZERO_RESULTS;default:return e}}},{key:"normalizeResults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng(),formattedAddress:e.formatted_address,lowQuality:!1}}))}}]),n}(d.default));t.default=g},787146:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=$("<div >");t.addClass("GoogleMapDomNode");$();var n=$(),r=[],f=!1,g=!1,h={};this.map=null,this.id=Math.random(),this.isXY=e,this.initialState=function(){return{pins:[],pinsById:{},tableName:null,mapColumn:null,activePin:null,currentLocMarker:null}},this.state=this.initialState(),this.matches=function(e,t){return this.state.tableName===e&&this.state.mapColumn===t},this.repaint=function(){this.map&&u.default.api.maps.event.trigger(this.map,"resize")},this.registerListener=function(e){f?setTimeout(function(){this.registerListener(e)}.bind(this),500):r.push(e)},this.clearListeners=function(){if(u.default.api){var e;for(f=!0;r.length;)e=r.pop(),u.default.api.maps.event.removeListener(e);f=!1}},this.setState=function(e){o.default.extend(this.state,e)},this.mountTo=function(e,r){var i=this;n.off("scroll.mapDomNode"),$(e).append(t[0]),t.css({position:"absolute"});var d=t.parents().filter((function(){var e=$(this);return e[0].scrollHeight>e.innerHeight()&&o.default.includes(["auto","scroll"],e.css("overflow"))}));d.length>0&&(d.on("scroll.mapDomNode",(function(){$(window).height()-t.offset().top>t.height()&&(t.hide().show(0),d.off("scroll.mapDomNode"))})),n=d),null!=this.map||g?r&&r(this):(g=!0,u.default.whenReady((function(e){var n,o;c++;var d=7;if((null===(o=null===(n=s.AppGlobals.AppModel)||void 0===n?void 0:n.AppTemplate)||void 0===o?void 0:o.OwnerInPremiumPlan)&&(d=10),c>d)l.default.IsIFrameAuthPreview()||a.default.ReportErrorOnce({errorMessage:"Attempted to exceed map limit for app",mapLimit:d}),g=!1;else{var p={center:{lat:u.default.defaultLat,lng:u.default.defaultLng},zoom:15,zoomControlOptions:{position:e.maps.ControlPosition.LEFT_BOTTOM},controlSize:32,streetViewControl:!0,streetViewControlOptions:{position:e.maps.ControlPosition.LEFT_BOTTOM},gestureHandling:"greedy"};i.map=new e.maps.Map(t[0],p),e.maps.event.addListenerOnce(i.map,"idle",(function(){g=!1,a.default.logToDevConsole("\nCreated new Google Map"),r&&r(i)}))}})))},this.unmount=function(){t.detach(),$(),this.clearListeners(),this.clearMarkerClusterers(),this.setState(this.initialState),n.off("scroll.mapDomNode")},this.initMarkerClusterer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.AppGlobals.ViewManager.theme.getThemeColor("actionIcon"),t=h[e];return t||(h[e]=t=new i.default(this.map,[],{maxZoom:16,zoomOnClick:!0,minimumClusterSize:5})),t.setStyles(d.map((function(t){return{url:p(e,t),height:t,width:t,textColor:"white"}}))),t},this.clearMarkerClusterers=function(){o.default.values(h).forEach((function(e){return e.clearMarkers()}))}};var o=r(n(496486)),i=r(n(304820)),a=r(n(593186)),l=r(n(571524)),u=r(n(314247)),s=n(166089),c=0,d=[20,25,30],p=function(e,t){return"data:image/svg+xml;base64,"+window.btoa('\n        <svg\n            xmlns:dc="http://purl.org/dc/elements/1.1/"\n            xmlns:cc="http://creativecommons.org/ns#"\n            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n            xmlns:svg="http://www.w3.org/2000/svg"\n            xmlns="http://www.w3.org/2000/svg"\n            id="svg8"\n            version="1.1"\n            viewBox="0 0 5.2916665 5.4239602"\n            height="'.concat(t,'"\n            width="').concat(t,'">\n            <defs\n                id="defs2" />\n            <g\n                transform="translate(-99.867724,-198.60313)"\n                id="layer1">\n                <circle\n                r="2.5135417"\n                style="opacity:1;fill:').concat(e,';fill-opacity:1;stroke:#ffffff;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none"\n                id="circle821"\n                cx="102.51356"\n                cy="201.20000" />\n            </g>\n        </svg>\n    '))}},314247:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(n(459400)),l=r(n(238435)),u=r(n(496486)),s=r(n(190644)),c=n(46239),d=r(n(787146)),p=r(n(385857)),f=r(n(888861)),g=n(504674),h=n(351101),m=r(n(429815)),y=n(166089),v=n(268547),b=n(555792),O=!1,w=[],S=[],T=[],A={},k={mounted:{},unmounted:{}},E={},P={_api:null,geocoder:null,defaultLat:0,defaultLng:0,getStaticImageURLMultipleLatLongs:function(e,t,n){var r,o,i;if(this.disabled)return"";var a="";e.forEach((function(e){a+="&markers=color:red%7Clabel:"+e.name.charAt(0)+"%7C"+encodeURIComponent(e.value)}));var l=(null===(i=null===(o=null===(r=null===window||void 0===window?void 0:window.AppModel)||void 0===r?void 0:r.AppTemplate)||void 0===o?void 0:o.Behavior)||void 0===i?void 0:i.GoogleMapsKey)||g.GOOGLE;return"https://maps.googleapis.com/maps/api/staticmap?markers="+a+"&size="+t+"x"+n+"&key="+l},getStaticImageURL:function(e,t,n){var r,o,i;return this.disabled?"":"https://maps.googleapis.com/maps/api/staticmap?center="+e+"&zoom=12&size="+t+"x"+n+"&key="+((null===(i=null===(o=null===(r=null===window||void 0===window?void 0:window.AppModel)||void 0===r?void 0:r.AppTemplate)||void 0===o?void 0:o.Behavior)||void 0===i?void 0:i.GoogleMapsKey)||g.GOOGLE)},mountMap:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.callback,o=n.tableName,i=n.mapColumn,a=n.isXY;if(t in A){var l=A[t];return r?r(l):l}var s,c=a?T:S;return o&&i&&(s=c.filter((function(e){return e.matches(o,i)}))[0],s&&u.default.pull(c,s)),s||(s=c.pop()||new d.default(a)),s.mountTo(e,r),A[t]=s,s},getMapInstance:function(e){return A[e]},unmountMap:function(e){var t=this.getMapInstance(e);t&&(t.unmount(),(t.isXY?T:S).push(t));delete A[e]},getMountedPins:function(e){return u.default.clone(k.mounted[e])||{}},getPin:function(e,t){var n,r=JSON.stringify(e),o=k.unmounted[r]||[],i=!1;return o.length?n=o.pop():(n=P.createPin(t,e),i=!0),n.setTitle(Common.RunningInTestFramework?t.Id:t.Label),n.appsheetItem=t,n.appsheetFormatting=e,n.appsheetFormatString=r,{pin:n,created:i}},createPin:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=P.api,o=!!(null===(t=null==n?void 0:n.icon)||void 0===t?void 0:t[0]),i=o&&!n.noMarkerWithLabel?r.maps.MarkerWithLabel:r.maps.Marker,a=new i({draggable:!1});return a},makePinCacheKey:function(e,t,n,r){return JSON.stringify([e,t,n,r])},cacheMountedPin:function(e,t,n){var r=k.mounted[e]||{};r[t]=n,k.mounted[e]=r},unmountPins:function(e,t){var n=k.mounted[e]||{},r=k.unmounted;u.default.keys(t).forEach((function(e){var o=t[e];delete n[e];var i=r[o.appsheetFormatString]||[];i.push(o),r[o.appsheetFormatString]=i}))},get disabled(){var e;return!0===(null===(e=(0,h.getAppModel)())||void 0===e?void 0:e.appTemplate.isGoogleMapsDisabled)},get api(){return this.disabled?null:this._api},shouldBeUnloaded:function(e){var t=m.default.getExternalServiceSettings(e).EnableMapsAndGeocoding;return!(!O&&null==this._api||t)},ready:function(){return null!=this.api},init:function(){var e,t,n,r=this;if(!this.disabled&&!O&&null==this.api){O=!0,window.mapReadyCallback=function(){if(r._api=window.google,r.geocoder=new window.google.maps.Geocoder,O=!1,!window.APPSHEET_TEST_CONTEXT){var e=(0,v.scriptSafeByReview)(l.default,"MarkerWithLabelRaw is static");$.globalEval(e)}for(;w.length;){var t=w.shift();"function"==typeof t.callback&&(t.callback(r.api),delete t.callback)}};var i=document.createElement("script"),u=(null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.AppModel)||void 0===e?void 0:e.AppTemplate)||void 0===t?void 0:t.Behavior)||void 0===n?void 0:n.GoogleMapsKey)||g.GOOGLE,s=(0,b.trustedResourceUrl)(o||(o=(0,a.default)(["https://maps.googleapis.com/maps/api/js?key=","&callback=mapReadyCallback"])),u);i.setAttribute("src",s),i.setAttribute("type","text/javascript"),i.setAttribute("async","async"),i.setAttribute("defer","defer"),document.head.appendChild(i)}},whenReady:function(e,t){if(this.ready())return e(this.api),!1;if(O||this.init(),null==t){var n={callback:e};return w.push(n),n}return t.callback=e,t},zoomScaling:{20:1128.49722,19:2256.99444,18:4513.98888,17:9027.977761,16:18055.95552,15:36111.91104,14:72223.82209,13:144447.6442,12:288895.2884,11:577790.5767,10:1155581.153,9:2311162.307,8:4622324.614,7:9244649.227,6:18489298.45,5:36978596.91,4:73957193.82,3:147914387.6,2:295828775.3,1:591657550.5},normalizeMapType:function(e){var t;switch(e){case"Road":case"Automatic":t="roadmap";break;case"Aerial":t="hybrid";break;default:t=e}return t},getMapItems:function(e,t,n,r,o,i,a,l,u){var s=[],c=null;if(null!=n){var d=n.tableSchema.findAttributeByName(e),g=new p.default(r,n.tableSchema);if(d&&l){var h=f.default.createFilter(l,d.baseImageEvalTree());o&&h?o=f.default.createAnd(o,h):h&&(o=h)}var m=n.queryRowValues({searchQuery:a,filterExpr:o,filterDefaults:i,transaction:u});if(null!=m&&(s=m.filter((function(e){var t=!0;return r.AppTemplate.Presentation.RespectShowIfEverywhere&&d&&d.showIfEvalTree()&&(g.replaceRowData(e),t=d.showIfEvalTree().run(g)),t})).map((function(t){return P.getMapItem(t,n,n.tableSchema,e)})).filter((function(e){return null!=e})),null!=t))for(var y=0;y<s.length;y++)if(s[y].Id===t){c=s[y];break}}return{all:s,selected:c}},getMapItem:function(e,t,n,r){i!==t.timestamp()&&(E={},i=t.timestamp());var o=e[n.keyAttribute().name()],a=E[t.name()]||{},l=a[o]||{};if(null==l[r]){var u=this.makeMapItem(e,t,n,r);null!=u&&(l[r]=u,a[o]=l,E[t.name()]=a)}return l[r]},makeMapItem:function(e,t,n,r){if(null==e||null==t||null==n)return null;var o,i,a=null,l=null,u=s.default.normalizeLatOrLng,d=n.keyAttribute();if(null!=r&&(i=n.findAttributeByName(r))&&e[r])switch(i.basestType()){case y.AppGlobals.AppModel.LATLONG_TYPE:case AppModel.CHANGELOCATION_TYPE:null!=(o=e[r].split(","))&&2===o.length&&(a=u(o[0]),l=u(o[1]));break;case y.AppGlobals.AppModel.XY_TYPE:var p=c.ImageMapType.fromXYStringToLatLng(e[r]);a=p.lat,l=p.lng}if(null!=a&&null!=l||(null==r&&null!=(i=n.findAttributesByType(y.AppGlobals.AppModel.ADDRESS_TYPE)[0])&&(r=i.name()),a=u(e["_latitude"+r]),l=u(e["_longitude"+r])),null==a||null==l){var f=e["_geo_"+r];null!=f&&f.match(new RegExp(/.*,.*/))&&null!=(o=f.split(","))&&2===o.length&&(a=u(o[0]),l=u(o[1]))}if(null==a||null==l)return null;var g=e[d.name()];return{Id:g,Label:t.labelTextForId(g),TableName:t.name(),Latitude:a,Longitude:l,Hash:s.default.hashLatLng(a,l),MapCol:r}},getCenterLat:function(e){return e.center.lat()},getCenterLng:function(e){for(var t=e.center.lng();t<-180;)t+=360;for(;t>180;)t-=360;return t}},C=P;t.default=C},263198:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.missingImageError=t.ifIOSHandlerExists=t.UNABLE_TO_LOAD_IMAGE_PREFIX=t.JeeneeBrowserAPI=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(571524)),l=r(n(112368)),u=r(n(593186)),s=r(n(21870)),c=r(n(496486)),d=n(429815),p=n(351101),f=n(318926),g=n(804758),h=n(218546),m=n(635672),y=n(50295),v=n(143249),b=r(n(895466)),O=n(629503),w=n(646317),S=n(166089),T=n(892148),A=n(399713),k=r(n(266522)),E="Unable to load image data. ";t.UNABLE_TO_LOAD_IMAGE_PREFIX=E;var P=function(e){return E+e};t.missingImageError=P;var C=function(e){return{postMessage:function(t){var n,r=null===(n=window.webkit)||void 0===n?void 0:n.messageHandlers[e];return null!=r&&r.postMessage("function"==typeof t?t():t),{else:function(e){null==r&&e()}}}}};t.ifIOSHandlerExists=C;var x=new(function(){function e(){(0,o.default)(this,e),this.DEFAULT_SCAN_RESULT="111122333",this.pendingCallbacks={},this.closeAfterNextSync=!1,this.scanComplete=function(e){},this.lastNativeMedia={nativeResourceId:"",fileUploadUtilsId:"",time:0,count:0},this.log={barcodeScan:function(e){f.logger.logEvent(new g.BarcodeScanEvent(e))},videoTaken:function(e,t,n,r){f.logger.logEvent(new g.VideoTakenEvent(e,t,n,r))},appSubscription:function(e){f.logger.logEvent(new g.AppSubscriptionEvent(e))},receivedNotification:function(){f.logger.logEvent(new g.ReceivedNotificationEvent)},shortcutAppStart:function(){f.logger.logEvent(new g.ShortcutAppStartEvent)},webviewCrash:function(){f.logger.logEvent(new g.WebviewCrashEvent)},cachedFileRecovered:function(e){f.logger.logEvent(new g.NativeCachedFileRecoveredEvent(e))},cachedFilesDeleted:function(e){f.logger.logEvent(new g.NativeCachedFilesDeletedEvent(e))}}}return(0,i.default)(e,[{key:"logNativeError",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=null===(t=window.JeeneeAndroid)||void 0===t?void 0:t.logError;null!=r&&("string"!=typeof n&&(n=JSON.stringify(n)),r(e,n))}},{key:"OnAppTemplateLoad",value:function(e){var t,n,r=k.default.getThemeData(e.Presentation.DisplayTheme,e);this.setNotchColorIOS(r.headerBackground,"#333"!==r.interfaceText),l.default.IsIOSAppWithMinVersion(6.3)?this.setMaxImageResolutionIOS({width:(0,d.getMaxImageResolution)()}):!l.default.IsAndroidAppWithMinVersion(6.4)||l.default.IsAndroidAppWithMinVersion(15.6)||a.default.IsUnsupportedAndroidVersion()||window.JeeneeAndroid.setMaxImageResolution((0,d.getMaxImageResolution)());var o=null!==(t=e.Presentation.ActionNameMappings)&&void 0!==t?t:[];this.setNativeLocalizationStrings(o);try{!l.default.IsAndroidAppWithMinVersion(10.6)||l.default.IsAndroidAppWithMinVersion(15.6)||a.default.IsUnsupportedAndroidVersion()||window.JeeneeAndroid.setGalleryEnabledForImagePicker(e.Presentation.AllowGalleryAccess),l.default.IsIOSAppWithMinVersion(10)&&this.setGalleryEnableIOS({galleryEnabled:!!e.Presentation.AllowGalleryAccess})}catch(e){u.default.ReportError({errorMessage:"Error calling setGalleryEnabledForImagePicker",error:e})}this.closeAfterNextSync&&!a.default.IsUnsupportedAndroidVersion()&&window.JeeneeAndroid.closeAppSheet(),this.closeAfterNextSync="true"===(null===(n=(0,w.parseUrlQuery)().closeAfterSync)||void 0===n?void 0:n.toLowerCase()),void 0!==l.default&&l.default.IsAndroidAppWithMinVersion(8.3)&&!a.default.IsUnsupportedAndroidVersion()&&window.JeeneeAndroid.hideLoadingView()}},{key:"setAuthCookie",value:function(){try{if(l.default.IsAndroidAppWithMinVersion(8.2)&&!a.default.IsUnsupportedAndroidVersion()){var e=("; "+document.cookie).split("; .JEENEEATH="),t="";2===e.length&&(t=e.pop().split(";").shift()),window.JeeneeAndroid.setAuthCookie(t)}}catch(e){u.default.ReportError({errorMessage:"Error calling setAuthCookie",error:e})}}},{key:"subscribeToApps",value:function(e,t){var n,r,o;try{if(70007!==(null===(r=null===(n=null===window||void 0===window?void 0:window.AppState)||void 0===n?void 0:n.UserInformation)||void 0===r?void 0:r.Id)&&!a.default.IsWhitelabelBrowser()&&(l.default.IsAndroidAppWithMinVersion(8.2)&&!a.default.IsUnsupportedAndroidVersion()&&(u.default.AddTraceContext("JeeneeAndroid.subscribeToApps"),null===(o=window.JeeneeAndroid)||void 0===o||o.subscribeToApps(e,JSON.stringify(t))),l.default.IsIOSAppWithMinVersion(9.9))){var i={appGallery:e,apps:JSON.stringify(t)};C("SubscribeToApps").postMessage(i).else((function(){$.ajax({type:"POST",async:!1,url:"/jeenee_new?method=subscribeToApps",data:i})}))}}catch(e){u.default.ReportError({errorMessage:"Error calling subscribeToApps",error:e})}}},{key:"cacheFiles",value:function(e,t){var n=e.Id,r=e.Name;if(l.default.IsAndroidAppWithMinVersion(6.4)&&!a.default.IsUnsupportedAndroidVersion()&&(u.default.AddTraceContext("appModel.fetchCache (Android)"),O.Common.BeginOfflineCaching(),window.JeeneeAndroid.cacheFiles(JSON.stringify(t),r,"Common.FinishedCachingCallback('"+r+"')")),l.default.IsIOSAppWithMinVersion(4.4)){u.default.AddTraceContext("appModel.fetchCache (iOS)"),O.Common.BeginOfflineCaching();var o={urls:t.toString(),TemplateId:l.default.IsIOSAppWithMinVersion(12.3)?n:r,callback:"Common.FinishedCachingCallback('"+r+"')"};C("CacheFiles").postMessage(o).else((function(){$.ajax({type:"POST",url:"/jeenee_new?method=CacheFiles",data:o})}))}}},{key:"onNewNotificationToken",value:function(e,t,n){t="true"===t,n=n||null,S.AppGlobals.AppState.UserInformation.Id!==S.AppGlobals.AppState.GuestUserInformation.Id&&(0,m.ajaxPost)("/api/notif/settoken/",{token:e,whitelabelGuid:n,isWhitelabel:t}).then((function(){u.default.logToDevConsole("uploaded token for notification")})).catch((function(){u.default.logToDevConsole("error uploading token for notification")}))}},{key:"navigateBack",value:function(){return S.AppGlobals.ViewManager.photoGallery&&"loading"!==S.AppGlobals.ViewManager.photoGallery?(S.AppGlobals.ViewManager.photoGallery.close(),!0):$(".ReactModalPortal .Modal").length?($(".ReactModalPortal .Modal").click(),!0):S.AppGlobals.ViewManager.sideMenu.component.isOpen()?(S.AppGlobals.ViewManager.sideMenu.component.close(),!0):$("#FormPage.ActivePage").length&&null!=window.formViewComponent&&"function"==typeof window.formViewComponent.cancelForm?(window.formViewComponent.cancelForm(),!0):!S.AppGlobals.AppState.IsTopLevel()&&(S.AppGlobals.AppState.ChoosePreviousState(),!0)}},{key:"notifyJavaScriptLoaded",value:function(){window.JeeneeAndroid&&"function"==typeof window.JeeneeAndroid.onJavaScriptLoaded&&window.JeeneeAndroid.onJavaScriptLoaded()}},{key:"openScanner",value:function(e){var t,n=this;u.default.AddTraceContext(".ScanInputControl"),this.scanComplete=function(t){u.default.AddTraceContext(".scanComplete"),e(c.default.trim(t)),n.scanComplete=function(e){}};var r=S.AppGlobals.AppModel.appTemplate.barcodeScanner,o=(null===(t=r.key)||void 0===t?void 0:t.startsWith("W3EJE"))||!1;if(f.logger.logEvent(new g.ScanInputControlEvent(r.type,o)),l.default.SupportsBarcodeScan()){if(!r.enabled)return;if(a.default.InIOSWebView())return r.type===d.SCANNER.MLKIT&&l.default.mlkitUnsupported()&&s.default.showToast(y.MLKitWarningToast),void this._openScannerIOS(r.type,r.key);if(a.default.InAndroidWebView())return r.type===d.SCANNER.MLKIT&&l.default.mlkitUnsupported()?void s.default.showToast(y.MLKitUnsupportedToast):void this._openScannerAndroid(r.type,r.key);this.scanComplete(this.DEFAULT_SCAN_RESULT)}}},{key:"_openScannerAndroid",value:function(e,t){e===d.SCANNER.MLKIT?window.JeeneeAndroid.scanBarcode("JeeneeBrowserAPI.scanComplete('{0}')"):l.default.IsAndroidAppWithMinVersion(14.8)&&t?window.JeeneeAndroid.scanCode("JeeneeBrowserAPI.scanComplete('{0}')",t):window.JeeneeAndroid.scanCode("JeeneeBrowserAPI.scanComplete('{0}')")}},{key:"_openScannerIOS",value:function(e,t){C("ScanCode").postMessage((function(){return l.default.IsIOSAppWithMinVersion(14.4)?{callback:"JeeneeBrowserAPI.scanComplete('{0}');",scannerType:e,scannerKey:t}:{callback:"JeeneeBrowserAPI.scanComplete('{0}');",iOSmlkit:S.AppGlobals.AppModel.inRollout("iOSmlkitScanner")}})).else((function(){T.WindowWrapper.location="jeenee_method?ScanCode?callback=JeeneeBrowserAPI.scanComplete('{0}');"}))}},{key:"startNfcScan",value:function(e){var t=this;if(this.nfcScanComplete=function(n){f.logger.logAppEvent(h.AppEventName.NfcScanResult),u.default.AddTraceContext(".nfcScanComplete"),e(function(e){if(e)try{var t=JSON.parse(e);return c.default.trim(t[0].record)||""}catch(e){u.default.ReportErrorOnce({errorMessage:"Error parsing json",error:e})}return""}(n)),t.nfcScanComplete=function(){}},a.default.InIOSWebView()&&l.default.SupportsNfcScan()){var n={callback:"JeeneeBrowserAPI.nfcScanComplete('{0}')"};C("StartNFCScan").postMessage(n).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=startNFCScan",data:n})}))}else a.default.InAndroidWebView()&&l.default.SupportsNfcScan()&&window.JeeneeAndroid&&"function"==typeof window.JeeneeAndroid.startNFCScan?window.JeeneeAndroid.startNFCScan("JeeneeBrowserAPI.nfcScanComplete('{0}')"):this.nfcScanComplete(JSON.stringify([{record:this.DEFAULT_SCAN_RESULT}]));f.logger.logAppEvent(h.AppEventName.StartNfcScan)}},{key:"startSpeechRecognition",value:function(e,t){if(l.default.SupportsSpeechRecognition())if(this.speechRecognitionComplete=function(n,r){r&&"{1}"!==r?t(n):(u.default.AddTraceContext(".speechRecognitionComplete"),e(n))},a.default.InIOSWebView()){var n={callback:"JeeneeBrowserAPI.speechRecognitionComplete('{0}', '{1}')"};C("StartSpeechRecognition").postMessage(n).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=startSpeechRecognition",data:n})}))}else a.default.InAndroidWebView()&&window.JeeneeAndroid.startSpeechRecognition("JeeneeBrowserAPI.speechRecognitionComplete('{0}', '{1}')")}},{key:"stopSpeechRecognition",value:function(){l.default.SupportsSpeechRecognition()&&(a.default.InIOSWebView()?C("StopSpeechRecognition").postMessage({}).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=stopSpeechRecognition"})})):a.default.InAndroidWebView()&&window.JeeneeAndroid.stopSpeechRecognition())}},{key:"offlineProgressChanged",value:function(e){var t,n;if(S.AppGlobals.ViewManager)if((null===(n=null===(t=S.AppGlobals.AppModel)||void 0===t?void 0:t.AppTemplate)||void 0===n?void 0:n.OwnerId)&&v.Rollout.get("newOfflineCacheInfoBox").includeByOwner(S.AppGlobals.AppModel.AppTemplate))S.AppGlobals.ViewManager.sideMenu.setState(e),s.default.setCachingProgress(e);else{var r=S.AppGlobals.ViewManager.sideMenu.state.filesCached||0,o=(S.AppGlobals.ViewManager.sideMenu.state.totalFilesToCache||e.totalFilesToCache)-e.totalFilesToCache;S.AppGlobals.ViewManager.sideMenu.setState({filesCached:Math.max(o+e.filesCached,r)}),s.default.setCachingProgress({filesCached:Math.max(o+e.filesCached,r)})}}},{key:"onLocationUpdate",value:function(e){if(this.nativeLocationCallback){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(e){return u.default.ReportErrorOnce({errorMessage:"Error parsing json",error:e}),t}}(e);t&&this.nativeLocationCallback(t)}}},{key:"startLocationUpdates",value:function(e){var t=e.callback,n=e.failureCallback,r=e.interval,o=e.enableHighAccuracy,i=void 0!==o&&o;if(u.default.logToDevConsole("starting native location updates",{interval:r,enableHighAccuracy:i}),this.nativeLocationCallback=function(e){"error"in e?n(new Error(e.error)):t(e)},a.default.InAndroidWebView()){var l=i?3:2,s=r/1e3;window.JeeneeAndroid.startLocationUpdates("JeeneeBrowserAPI.onLocationUpdate({0})",s,Math.min(1,s),l)}else if(a.default.InIOSWebView()){var c={callback:"JeeneeBrowserAPI.onLocationUpdate('{0}')",desiredAccuracy:i?2:3};C("StartLocationUpdates").postMessage(c).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=startLocationUpdates",data:c})}))}}},{key:"stopLocationUpdates",value:function(){u.default.logToDevConsole("stopping native location updates"),a.default.InAndroidWebView()?window.JeeneeAndroid.stopLocationUpdates():a.default.InIOSWebView()&&C("StopLocationUpdates").postMessage({}).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=stopLocationUpdates"})}))}},{key:"clearPhotoStorageForCurrentApp",value:function(){var e;(null===(e=null===window||void 0===window?void 0:window.JeeneeAndroid)||void 0===e?void 0:e.clearPhotoStorageForCurrentApp)&&(u.default.AddTraceContext("Called clearPhotoStorage from app ".concat(S.AppGlobals.AppModel.AppTemplate.Name)),this.lastClearPhotoStorageTime=(new Date).toISOString(),window.JeeneeAndroid.clearPhotoStorageForCurrentApp())}},{key:"clearPhotoStorageAndroid",value:function(e,t,n){var r,o;if(null===(r=null===window||void 0===window?void 0:window.JeeneeAndroid)||void 0===r?void 0:r.clearPhotoStorageForApp)try{window.JeeneeAndroid.clearPhotoStorageForApp(e,t)}catch(e){u.default.ReportError({errorMessage:"clearPhotoStorageForApp unexpected error",error:e})}else if(null===(o=null===window||void 0===window?void 0:window.JeeneeAndroid)||void 0===o?void 0:o.clearPhotoStorageForCurrentApp){var i=n.length>0;try{var a=this.currentAppKnownToNative,l=S.AppGlobals.AppModel.AppTemplate.Id!==e||S.AppGlobals.AppModel.AppTemplate.Id!==(null==a?void 0:a.Id);i||l?u.default.ReportError({errorMessage:"clearPhotoStorageForCurrentApp data loss averted",appMismatch:l,appId:e,appKnownToNative:null==a?void 0:a.Id,windowAppId:S.AppGlobals.AppModel.AppTemplate.Id,hasPendingImages:i}):this.clearPhotoStorageForCurrentApp()}catch(e){u.default.ReportError({errorMessage:"clearPhotoStorage unexpected error",error:e})}}}},{key:"clearPhotoStorageForApp",value:function(e,t){if(a.default.InMobileWebView()){var n=(0,p.getAppModel)().findPendingImages(),r=new Date(t),o=r.getTime();if(n.some((function(e){return new Date(e.timestamp())<=r})))return void u.default.ReportError({errorMessage:"clearPhotoStorageForApp data loss averted"});this.lastClearPhotoStorageTime=t,a.default.InAndroidWebView()?this.clearPhotoStorageAndroid(e,o,n):C("ClearPhotoStorageForApp").postMessage({appId:e,timestamp:o})}}},{key:"openInNativeBrowserIOS",value:function(e){C("OpenInNativeBrowser").postMessage(e).else((function(){$.ajax({type:"POST",url:"/jeenee_new?method=OpenInNativeBrowser",data:e})}))}},{key:"takePhoto",value:function(e){var t,n,r=e.RequestId,o={galleryEnabled:null===(t=S.AppGlobals.AppModel.AppTemplate.Presentation.AllowGalleryAccess)||void 0===t||t,exposeToGallery:null===(n=S.AppGlobals.AppModel.AppTemplate.Behavior.SaveToGallery)||void 0===n||n,photoWidth:e.preferredWidth||(0,d.getMaxImageResolution)(),drzZone:(0,A.getDrz)()};if(a.default.InAndroidWebView())if(l.default.IsAndroidAppWithMinVersion(15.6)){var i=Object.assign(Object.assign({},o),{callback:"JeeneeBrowserAPI.onAndroidPhotoTaken('".concat(r,"','{0}');")});window.JeeneeAndroid.takePhoto(JSON.stringify(i))}else window.JeeneeAndroid.takePhoto("JeeneeBrowserAPI.onAndroidPhotoTaken('".concat(r,"',{0});"));else{var u=Object.assign(Object.assign({},o),{phphoto:"true",callback:"JeeneeBrowserAPI.onIOSPhotoTaken('".concat(r,"','{0}');")});C("TakePhoto").postMessage(u).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=TakePhoto",data:u})}))}}},{key:"chooseFile",value:function(e){var t=e.RequestId;if(a.default.InAndroidWebView())l.default.IsAndroidAppWithMinVersion(15.7)?window.JeeneeAndroid.chooseFile("JeeneeBrowserAPI.onAndroidFileChosen('".concat(t,"','{0}','{1}');"),(0,A.getDrz)()):window.JeeneeAndroid.chooseFile("JeeneeBrowserAPI.onAndroidFileChosen('".concat(t,"','{0}','{1}');"));else{var n={callback:"JeeneeBrowserAPI.onIOSFileChosen('".concat(t,"','{0}','{1}');")};C("ChooseFile").postMessage(n).else((function(){$.ajax({type:"POST",async:!0,url:"/jeenee_new?method=ChooseFile",data:n})}))}}},{key:"takeVideo",value:function(e){var t,n,r=e.RequestId,o={galleryEnabled:null===(t=S.AppGlobals.AppModel.AppTemplate.Presentation.AllowGalleryAccess)||void 0===t||t,exposeToGallery:null===(n=S.AppGlobals.AppModel.AppTemplate.Behavior.SaveToGallery)||void 0===n||n,drzZone:(0,A.getDrz)()};if(a.default.InAndroidWebView())if(l.default.IsAndroidAppWithMinVersion(15.6)){var i=Object.assign(Object.assign({},o),{callback:"JeeneeBrowserAPI.onAndroidVideoTaken('".concat(r,"','{0}');")});window.JeeneeAndroid.takeVideo(JSON.stringify(i))}else window.JeeneeAndroid.takeVideo("JeeneeBrowserAPI.onAndroidVideoTaken('".concat(r,"',{0})"))}},{key:"handleNativeMedia",value:function(e,t,n,r,o){if(n===this.lastNativeMedia.nativeResourceId){this.lastNativeMedia.count+=1;var i=O.Common.uploadRequests,a=O.Common.awaitingUploadRequests,l="Multiple media callback calls for the same token";u.default.ReportError({errorMessage:l,context:e,fileUploadUtilsId:t,mediaType:r,nativeResourceId:n,uploadRequestFound:!!i[t],awaitingUploadRequestFound:!!a[t],uploadRequestCount:Object.keys(i).length,awaitingUploadRequestCount:Object.keys(a).length,msSinceLastCall:performance.now()-this.lastNativeMedia.time,totalCalls:this.lastNativeMedia.count,sameFileInput:t===this.lastNativeMedia.fileUploadUtilsId}),this.logNativeError(l,{fileUploadUtilsId:t,nativeResourceId:n})}else this.lastNativeMedia={nativeResourceId:n,fileUploadUtilsId:t,time:performance.now(),count:1};O.Common.awaitUploadRequest(t,(function(t){var i=b.default.from({type:e,value:n,mediaType:r,preferredWidth:t.preferredWidth});i.setFileName(o),O.Common.finishImageRead(t,i)}))}},{key:"onAndroidPhotoTaken",value:function(e,t){u.default.AddTraceContext("Photo Taken (android)",{fileUploadUtilsId:e}),f.logger.logAppEvent(h.AppEventName.PhotoTaken),this.handleNativeMedia("Android",e,t,"photo")}},{key:"onAndroidFileChosen",value:function(e,t,n){u.default.AddTraceContext("File Chosen (android)",{fileUploadUtilsId:e}),f.logger.logAppEvent(h.AppEventName.FileChosen),this.handleNativeMedia("Android",e,t,"file",n)}},{key:"onAndroidVideoTaken",value:function(e,t){u.default.AddTraceContext("Video Taken (android)",{fileUploadUtilsId:e}),f.logger.logAppEvent(h.AppEventName.VideoTaken),this.handleNativeMedia("Android",e,t,"video")}},{key:"onIOSPhotoTaken",value:function(e,t,n){u.default.AddTraceContext("Photo Taken (iOS)",{fileUploadUtilsId:e}),f.logger.logAppEvent(h.AppEventName.PhotoTaken),this.handleNativeMedia("IOS",e,t,"photo",n)}},{key:"onIOSFileChosen",value:function(e,t,n){u.default.AddTraceContext("File Chosen (iOS)",{fileUploadUtilsId:e}),f.logger.logAppEvent(h.AppEventName.FileChosen),this.handleNativeMedia("IOS",e,t,"file",n)}},{key:"getBase64DataAndroid",value:function(e,t){var n;if(l.default.IsAndroidAppWithMinVersion(6.8)&&e.value()&&e.value().length<50){var r;try{r=window.JeeneeAndroid.getBase64Photo(e.value())}catch(e){var o=e;u.default.ReportErrorOnce({errorMessage:"Failed to load image data on Android (probably out of memory)",error:o}),r=P("Image may be missing or upload size may be too large for this device.")}t(r)}else t(null!==(n=e.value())&&void 0!==n?n:"")}},{key:"getBase64DataIOS",value:function(e,t){var n=this;C("GetBase64Photo").postMessage((function(){var r=(0,w.makeGuid)();return n.pendingCallbacks[r]=t,{path:encodeURIComponent(e.value()),callback:"JeeneeBrowserAPI.onBase64ResultIOS('".concat(r,"', '{0}');"),maxWidth:e.preferredWidth||(0,d.getMaxImageResolution)()}})).else((function(){n.getBase64FromIOSFallback(e,t)}))}},{key:"onBase64ResultIOS",value:function(e,t){t||(u.default.ReportErrorOnce({errorMessage:"Failed to load image data on iOS"}),t=P("Image may be missing or upload size may be too large for this device. The image may still be in the camera roll on the device."));var n=this.pendingCallbacks[e];null==n?u.default.ReportErrorOnce({errorMessage:"callback not found in onBase64ResultIOS"}):n(t),delete this.pendingCallbacks[e]}},{key:"getBase64FromIOSFallback",value:function(e,t){$.ajax({url:"/jeenee_url?path="+encodeURIComponent(e.value())+"&id=5",dataType:"text",success:function(e){(null==e?void 0:e.target)&&0!==e.target.trim().indexOf("<!")?t(e.target):(u.default.ReportErrorOnce({errorMessage:"Failed to load image data on iOS (preWK.success)"}),t(P("Image may be missing or upload size may be too large for this device. The image may still be in the camera roll on the device.")))},error:function(e){var n=e.responseText;n&&0!==n.trim().indexOf("<!")?t(n):(u.default.ReportErrorOnce({errorMessage:"Failed to load image data on iOS (preWK.error)"}),t(P("Image may be missing or upload size may be too large for this device. The image may still be in the camera roll on the device.")))},cache:!1})}},{key:"setGalleryEnableIOS",value:function(e){C("SetGalleryEnabledForImagePicker").postMessage(e).else((function(){l.default.IsIOSAppWithMinVersion(14.3)||$.ajax({type:"POST",async:!1,url:"/jeenee_new?method=setGalleryEnabledForImagePicker",data:e})}))}},{key:"setMaxImageResolutionIOS",value:function(e){C("SetMaxImageResolution").postMessage(e).else((function(){$.ajax({type:"POST",url:"/jeenee_new?method=SetMaxImageResolution",data:e})}))}},{key:"getBase64PhotoFromCacheIOS",value:function(e,t){var n=this;C("GetBase64PhotoFromCache").postMessage((function(){var r=String(Math.random());return n.pendingCallbacks[r]=t,{callback:"JeeneeBrowserAPI.onResult('".concat(r,"', '{0}')"),url:e}})).else((function(){t("")}))}},{key:"onResult",value:function(e,t){var n=this.pendingCallbacks[e];n&&n(t),delete this.pendingCallbacks[e]}},{key:"setOnTokenRefreshListenerIOS",value:function(e){C("SetOnTokenRefreshListener").postMessage(e).else((function(){$.ajax({type:"POST",async:!1,url:"/jeenee_new?method=setOnTokenRefreshListener",data:e})}))}},{key:"setOnNetworkConnectivityChangedListenerIOS",value:function(e){C("SetOnNetworkConnectivityChangedListener").postMessage(e)}},{key:"clearCookiesIOS",value:function(){C("ClearCookies").postMessage({}).else((function(){$.ajax({type:"POST",async:!1,url:"/jeenee_new?method=ClearCookies"})}))}},{key:"shareIOS",value:function(e,t,n){C("Share").postMessage({text:e,url:t,imageurl:n}).else((function(){T.WindowWrapper.location="jeenee_method?Share?text="+e+"&url="+t+"&imageurl="+n}))}},{key:"disableScrollBounceIOS",value:function(){C("DisableBounce").postMessage({})}},{key:"setNotchColorIOS",value:function(e,t){C("SetNotchColor").postMessage({notchColor:e,notchTextStyle:t?"light":"dark"})}},{key:"setStorageAuth",value:function(e){a.default.InAndroidWebView()?window.JeeneeAndroid.setStorageAuth&&window.JeeneeAndroid.setStorageAuth(e):a.default.InIOSWebView()}},{key:"getFileStorageUrl",value:function(e,t){if(a.default.InAndroidWebView()&&window.JeeneeAndroid){var n=String(Math.random());this.pendingCallbacks[n]=t,window.JeeneeAndroid.getFileStorageUrl(e,"JeeneeBrowserAPI.onResult('".concat(n,"', '{0}')"))}else t("")}},{key:"setCurrentApp",value:function(e){try{var t=null!=e?e:{},n=t.Name,r=t.Id;if(null==n||null==r)return void u.default.ReportError({errorMessage:"JeeneeBrowserAPI.setCurrentApp got null Name or Id",Name:n,Id:r});if(l.default.IsAndroidAppWithMinVersion(7.6)&&!a.default.IsUnsupportedAndroidVersion())if(window.JeeneeAndroid.setCurrentTemplate(n),36===r.length){var o=e.Behavior.AutoBackgroundUpdate;l.default.IsAndroidAppWithMinVersion(13.4)?window.JeeneeAndroid.setCurrentAppGuid(r,o):window.JeeneeAndroid.setCurrentAppGuid(r)}else u.default.ReportError({errorMessage:"JeeneeBrowserAPI.setCurrentApp got invalid Id",Id:r});else l.default.IsIOSAppWithMinVersion(12.3)?this.setCurrentTemplateIOS({TemplateId:r,TemplateName:n}):l.default.IsIOSAppWithMinVersion(4.4)&&this.setCurrentTemplateIOS({TemplateId:n});this.currentAppKnownToNative=e}catch(e){u.default.ReportError({errorMessage:"JeeneeBrowserAPI.setCurrentApp failed",error:e})}}},{key:"setCurrentTemplateIOS",value:function(e){C("SetCurrentTemplate").postMessage(e).else((function(){$.ajax({type:"POST",url:"/jeenee_new?method=SetCurrentTemplate",data:e})}))}},{key:"getCurrentAppGuid",value:function(e){var t=this;C("GetCurrentAppGuid").postMessage((function(){var n=(0,w.makeGuid)();return t.pendingCallbacks[n]=e,{callback:"JeeneeBrowserAPI.onResult('".concat(n,"', '{0}')")}})).else((function(){e("")}))}},{key:"setNativeLocalizationStrings",value:function(e){e=e.filter((function(e){return e.ActionName!==e.DisplayName}));var t=c.default.reduce(e,(function(e,t){return e[t.ActionName]=c.default.toString(S.AppGlobals.AppModel.MapActionName(t.ActionName)),e}),{});l.default.IsAndroidAppWithMinVersion(13.6)&&window.JeeneeAndroid.setNativeLocalizationStrings?window.JeeneeAndroid.setNativeLocalizationStrings(JSON.stringify(t)):C("SetNativeLocalizationString").postMessage({localizationStrings:JSON.stringify(t)})}}]),e}());t.JeeneeBrowserAPI=x,window.JeeneeBrowserAPI=x},710304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e.toLowerCase()){case"hy-am":case"zh":case"zh-cn":case"zh-tw":case"zh-hk":case"ga-ie":case"he-il":case"bn-in":case"gu-in":case"hi-in":case"kn-in":case"ml-in":case"mr-in":case"ta-in":case"te-in":case"ar-eg":case"ja-jp":case"ko-kr":case"ms-my":case"es-mx":case"mn-mn":case"th-th":case"en":case"en-au":case"en-ca":case"en-ie":case"en-in":case"en-gb":case"en-us":case"en-ph":return{thousands:",",decimal:"."};case"de-ch":case"it-ch":return{thousands:"'",decimal:"."};case"fr-ch":return{thousands:" ",decimal:"."};case"az-latn-az":case"pt-br":case"hr-hr":case"da":case"da-dk":case"de":case"de-de":case"el-gr":case"id-id":case"it-it":case"ms-bn":case"nl-nl":case"ro-ro":case"sr-cyrl-rs":case"sr-latn-rs":case"sl-si":case"ca-es":case"tr-tr":case"vi-vn":case"es-ar":case"es":case"es-bo":case"es-cl":case"es-co":case"es-ec":case"es-py":case"es-es":case"es-uy":case"es-ve":return{thousands:".",decimal:","};case"az-cyrl-az":case"bg-bg":case"fr":case"fr-fr":case"fr-ca":case"cs-cz":case"fi":case"fi-fi":case"ka-ge":case"hu-hu":case"lv-lv":case"lt-lt":case"nb-no":case"nn-no":case"pl-pl":case"pt":case"pt-pt":case"ru-ru":case"sk-sk":case"sv-se":case"uk-ua":case"en-za":return{thousands:" ",decimal:","};default:return null}}},249e3:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(496486)),i=r(n(730381)),a=r(n(365914)),l=r(n(710304));r(n(571524)).default.detectIfNeeded();var u=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};function s(e){return null==e||""===e?e:"string"==typeof e?e.split("").reverse().join(""):"function"==typeof e.reverse?e.reverse():e}function c(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}var d={language:function(){return window.navigator.language||window.navigator.browserLanguage},_decimal:null,decimal:function(){return null==d._decimal&&(d._decimal=d.initDecimal()),d._decimal},_date:null,date:function(){return null==d._date&&(d._date=d.initDate()),d._date},reset:function(){d._decimal=null,d._date=null},initDecimal:function(){var e,t=",",n=".",r=!1,i=!1,a=d.language(),p=c()?a:void 0;try{var f=65432.1.toLocaleString(p);if("65432.1"===f){if(i=!0,a){var g=(0,l.default)(a);g||(g=(0,l.default)(a.slice(0,2))),g&&(n=g.decimal,t=g.thousands,r=!0)}}else{var h=f.match(new RegExp("^65(.)?432(.)1$"));null==h||3!==h.length?r=!1:(t=h[1]||"",n=h[2],r=!0)}r&&(e=new RegExp("^[-−]?\\d*(?:"+u(t)+"\\d{3})*(?:"+u(n)+"\\d*)?$"),r=!0)}catch(e){r=!1}return{supported:r,unformatted:i,thousandSeparator:t,decimalSeparator:n,pattern:e,fromLocaleString:function(o){if(!r||!o.match(e))return null;var i=o.split(n),a=i[0].replace(new RegExp(u(t),"g"),""),l=null!=i[1]?i[1]:"",s=a+(l.length?"."+l:"");return(null==s?void 0:s.indexOf("−"))>=0&&(s=s.replace(/−/g,"-")),isNaN(Number(s))?null:s},toLocaleString:function(e,t){return null==(t=t||{}).maximumFractionDigits||t.maximumFractionDigits>20?t.maximumFractionDigits=20:t.maximumFractionDigits<0&&(t.maximumFractionDigits=0),null==t.minimumIntegerDigits||t.minimumIntegerDigits<1?t.minimumIntegerDigits=1:t.minimumIntegerDigits>21&&(t.minimumIntegerDigits=21),i&&r&&"function"==typeof this.fallbackToLocaleString?this.fallbackToLocaleString(e,t):e.toLocaleString(p,t)},fallbackToLocaleString:function(e,r){var i=t;!1===r.useGrouping&&(i="");try{var a=Number(e).toString().split("."),l=a[0],u=a[1];null!=r.minimumIntegerDigits&&(l=o.default.padStart(l,r.minimumIntegerDigits,"0"));var c=s(l),d=c.match(/\d{3}/g);if(!d)return e.toString();var p=c.split(d.join(""))[1];(null==p?void 0:p.length)&&"-"!==p&&d.push(p);var f=s(d.join(i))+(null!=u&&u.length?n+u:"");return"-"===p&&(f="-"+f),f}catch(t){return e.toLocaleString(void 0,r)}}}},initDate:function(){var e,t,n=d.language(),r=c()?n:void 0;try{var o=new Date("11/22/3333").toLocaleDateString(r).replace(/&lrm;|\u200E/gi,"");e=o.replace("11","MM").replace("22","DD").replace("3333","YYYY");var l="08/31/2016",u=new Date(l).toLocaleDateString(r).replace(/&lrm;|\u200E/gi,"");if(a.default.MDYformat((0,i.default)(u,e).toDate(),!0)!==l)throw new Error("unsupported");t=!0}catch(n){t=!1,e="MM/DD/YYYY"}return{supported:t,dateFormat:e,wireFormat:"MM/DD/YYYY",momentFromWireFormat:function(e){return(0,i.default)(e,"M/D/YYYY",!0)},fromLocaleString:function(n){if(!t)return null;if(null==n||""===n)return"";var r=e.replace(/[MDY]{4}/g,"\\d{4}").replace(/[MDY]{2}/g,"\\d{1,2}").replace(/\./g,"\\.").replace(/\s/g,"\\s"),o=new RegExp(r);if(n.match(o)){var l=(0,i.default)(n,e).toDate();return isNaN(l.getTime())?null:a.default.MDYformat(l,!0)}return null}}}},p=d;t.default=p},65706:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.makeKey,n=e.limit,r=e.fn,a=e.getTimestamp,l={timestamp:void 0,data:[]};function u(){for(var e,s,c,d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];try{e=t.apply(null,p),s=null==a?void 0:a.apply(null,p),l.timestamp!==s&&u.invalidate(s),c=l.data;var g=o.default.findIndex(c,(function(t){return t.key===e}));if(-1!==g)return c[g].value}catch(e){(0,i.errorToDevConsole)(e)}var h=performance.now(),m=r.apply(null,p),y=performance.now()-h;if(null!=e){var v={key:e,value:m,evalTime:y};y<10?c.unshift(v):c.push(v),n&&c.length>n&&(c[0].evalTime>10&&(l.data=o.default.sortBy(c,(function(e){return e.evalTime}))),l.data.shift())}return m}return u.invalidate=function(e){l.timestamp=e,l.data.length=0},u};var o=r(n(496486)),i=n(593186)},21870:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SyncUI=t.SyncState=t.DEFAULT_HEADER_HEIGHT=t.DEFAULT_FOOTER_HEIGHT=t.DEFAULT_DRAWER_OPEN_WIDTH=t.DEFAULT_DRAWER_CLOSE_WIDTH=void 0;var i=r(n(856690)),a=r(n(689728)),l=r(n(918698)),u=n(166089),s=r(n(496486)),c=n(722188),d=r(n(907673)),p=n(629503),f=n(351101),g=r(n(455127)),h=r(n(69411)),m=n(557310),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(593186)),v=n(44617),b=n(365914);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T,A=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,l.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};t.SyncUI=T,function(e){e[e.Hidden=0]="Hidden",e[e.Subtle=1]="Subtle",e[e.Detailed=2]="Detailed",e[e.Blocking=3]="Blocking"}(T||(t.SyncUI=T={}));var k=function(){function e(){var t=this;(0,i.default)(this,e),this.refreshing=!1,this.initiatedBy="AppStart",this.fakeProgress=0,this.ui=T.Hidden,this.legacyOverlay=new h.default,setInterval((function(){if(t.info&&t.info.remainingSteps){var e=t.fakeProgress+10*Math.random();e>100&&(e=100),t.fakeProgress=e}}),200)}return(0,a.default)(e,[{key:"visibility",get:function(){return T[this.ui]}},{key:"setPreferredUI",value:function(e){e>this.ui&&(this.ui=e,this.ui===T.Blocking&&this.refreshing&&(y.default.logToDevConsole("showing Launch screen"),this.onSyncingStatus(!0),u.AppGlobals.ViewManager.ShowLaunchScreen(),this.legacyOverlay.onSyncingStatus(!0)))}},{key:"reset",value:function(){this.error=void 0,this.warning=void 0,this.refreshing=!1,this.info=void 0,this.fakeProgress=0}},{key:"onStart",value:function(e){var t=e.initiatedBy,n=e.notification;y.default.logToDevConsole("Sync started (".concat(T[this.ui],")")),this.legacyOverlay.onStart(),this.reset(),this.refreshing=!0,this.initiatedBy=t,this.notification=n}},{key:"onFinish",value:function(){y.default.logToDevConsole(this.refreshing?"Sync finished":"Startup from local cache"),this.legacyOverlay.onFinish(),this.reset(),this.ui=T.Hidden}},{key:"onError",value:function(e){this.legacyOverlay.onError(e),this.reset(),v.dynamicRollouts.includeByOwnerId("ClientNoPushDelay")&&e===y.SYNC_CANCELED_ERROR_MESSAGE?this.ui=T.Hidden:(this.error=e,y.default.logToDevConsole("Sync errored",e))}},{key:"onWarning",value:function(e){this.legacyOverlay.onWarning(e),this.warning=e,y.default.logToDevConsole("Sync warning",e)}},{key:"onProgress",value:function(e){this.legacyOverlay.onProgress(e),e.remainingSteps&&this.info&&e.remainingSteps===this.info.remainingSteps||(this.fakeProgress=0),this.info=e}},{key:"onSyncingStatus",value:function(e){this.legacyOverlay.onSyncingStatus(e)}},{key:"close",value:function(){this.ui=T.Hidden,this.refreshing||this.reset()}},{key:"message",get:function(){var e=(0,f.mapActionName)("Saving changes"),t=(0,f.mapActionName)("Syncing...");if(this.info){var n=this.info,r=n.remainingSteps,o=n.totalSteps;if(null!=r&&null!=o)return r>0?"".concat(e," (").concat(o-r+1,"/").concat(o,")"):t}return t}},{key:"percentDone",get:function(){if(this.info){var e=this.info,t=e.remainingSteps,n=e.totalSteps,r=e.percentDone;if(null!=t&&null!=n&&null==r)return this.fakeProgress/Number(n.toFixed(2))+(n-t)/Number(n.toFixed(2))*100}return 0}}]),e}();t.SyncState=k,A([c.observable],k.prototype,"info",void 0),A([c.observable],k.prototype,"error",void 0),A([c.observable],k.prototype,"warning",void 0),A([c.observable],k.prototype,"refreshing",void 0),A([c.observable],k.prototype,"initiatedBy",void 0),A([c.observable],k.prototype,"fakeProgress",void 0),A([c.observable],k.prototype,"ui",void 0),A([c.observable],k.prototype,"notification",void 0),A([c.action.bound],k.prototype,"setPreferredUI",null),A([c.action.bound],k.prototype,"reset",null),A([c.action.bound],k.prototype,"onStart",null),A([c.action.bound],k.prototype,"onFinish",null),A([c.action.bound],k.prototype,"onError",null),A([c.action.bound],k.prototype,"onWarning",null),A([c.action.bound],k.prototype,"onProgress",null),A([c.action.bound],k.prototype,"close",null);t.DEFAULT_FOOTER_HEIGHT=60;t.DEFAULT_HEADER_HEIGHT=56;t.DEFAULT_DRAWER_CLOSE_WIDTH=56;t.DEFAULT_DRAWER_OPEN_WIDTH=256;var E=function(){function e(){var t,n,r=this;(0,i.default)(this,e),this.widescreenBreakpoint=768,this.throttledToasts=new Map,this.toasts=[],this.showSearchControl=!0,this.showFooter=!0,this.headerSelectedTabIndex=new Map,this.headerHeight=56,this.drawerCloseWidth=56,this.drawerOpenWidth=256,this.headerTitle="",this.headerActionButtons=[],this.sideMenuOpen=!1,this.syncQueueCount=0,this.appTemplate=null,this.searchQuery=null,this.searchEnabled=!1,this.showAboutView=!1,this.localStorageState=new Map,this.totalFilesToCache=null,this.filesCached=null,this.filesWithError=null,this.hashState={general:{},specific:{},selectionCount:null},this.windowWidth=(null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.clientWidth)||0,this.windowHeight=(null===(n=null===document||void 0===document?void 0:document.body)||void 0===n?void 0:n.clientHeight)||0,this.flexBackgroundWidth=(0,b.maxDimensionPixels)(this.windowWidth,this.windowHeight),this.dataStamp=null,this.syncState=new k,this.initialized=!1,window.addEventListener("resize",(function(){return r.onResize()}))}return(0,a.default)(e,[{key:"setHash",value:function(e,t,n){e=e||{},t=t||{},this.hashState={general:e,specific:t,selectionCount:n}}},{key:"hash",get:function(){return this.hashState}},{key:"currentView",get:function(){return this.appTemplate?this.appTemplate.getView(this.hash.general.ControlName):null}},{key:"headerTabs",get:function(){var e=this,t=this.currentView;if(t){var n=t.definition();if("dashboard"===t.viewType()&&n.ShowTabs&&this.windowWidth<=this.widescreenBreakpoint)return n.ViewEntries.map((function(t){var n=e.appTemplate.getView(t.ViewName);return n.shouldBeShown(u.AppGlobals.AppModel)?(0,b.makePrettyTitle)(n.displayName(u.AppGlobals.AppModel),n):null})).filter((function(e){return null!==e}))}return[]}},{key:"footerEntries",get:function(){var e,t=(null===(e=this.appTemplate)||void 0===e?void 0:e.viewControls())||[],n=function(e){return u.AppGlobals.AppModel.POSITIONS_ORDERED.indexOf(e)};return t.filter((function(e){return e.IsValid&&e.Position!==u.AppGlobals.AppModel.POSITION_MENU&&e.Position!==u.AppGlobals.AppModel.POSITION_REF})).sort((function(e,t){return n(e.Position)-n(t.Position)}))}},{key:"footerHeight",get:function(){return this.showFooter?60:0}},{key:"viewWidth",get:function(){return this.windowWidth}},{key:"viewHeight",get:function(){return this.windowHeight-this.headerHeight-this.footerHeight}},{key:"headerTabIndex",get:function(){return this.currentView&&this.headerSelectedTabIndex.get(this.currentView.name())||0}},{key:"selectHeaderTab",value:function(e){this.currentView&&this.headerSelectedTabIndex.set(this.currentView.name(),e)}},{key:"showToast",value:function(e){this.toasts.includes(e)||this.toasts.push(e)}},{key:"dismissToast",value:function(){this.toasts.shift()}},{key:"showToastThrottled",value:function(e,t){var n=this,r=this.throttledToasts.get(e),o=null==r?void 0:r.throttled;o&&(null==r?void 0:r.cooldown)===t||(o=s.default.throttle((function(){return n.showToast(e)}),t,{trailing:!1,leading:!0}),this.throttledToasts.set(e,{throttled:o,cooldown:t})),o()}},{key:"isWideScreen",get:function(){return this.windowWidth>this.widescreenBreakpoint}},{key:"showResetDash",get:function(){return this.isWideScreen&&"dashboard"===this.hash.general.Root}},{key:"onResize",value:function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;this.windowWidth=t,this.windowHeight=n;var r=(0,b.maxDimensionPixels)(t,n);r>this.flexBackgroundWidth&&(this.flexBackgroundWidth=r)}},{key:"flexLaunchBackgroundUrl",get:function(){var e,t=null===(e=this.appTemplate)||void 0===e?void 0:e.model.Presentation.BackgroundImageUrl;return t?p.Common.FlexImageUrl(t,this.flexBackgroundWidth):""}},{key:"flexPageBackgroundUrl",get:function(){var e,t=null===(e=this.appTemplate)||void 0===e?void 0:e.model.Presentation.PageBackgroundImageUrl;return t?p.Common.FlexImageUrl(t,this.flexBackgroundWidth):""}},{key:"syncProgressHandle",get:function(){return(null==this._syncProgressHandle||this._syncProgressHandle.disabled)&&(this._syncProgressHandle=new g.default(this.syncState)),this._syncProgressHandle}},{key:"navigateToView",value:function(e){u.AppGlobals.AppState.SetActiveControl(e.control(),InputHandler.rootStateForControl,e.isFullScreen())}},{key:"navigateToPreviousHashState",value:function(){u.AppGlobals.AppState.NavigationStack.pop();var e=u.AppGlobals.AppState.NavigationStack[u.AppGlobals.AppState.NavigationStack.length-1],t=(null==e?void 0:e.HashState)||"",n=u.AppGlobals.AppState.ParseHash(t),r=n.page;if(""!==t&&(null!=r&&"empty"!==r||n.view))e.AppTemplateName!==u.AppGlobals.AppModel.AppTemplate.Name?this.PushState({Root:"empty"}):(e.scrollTop&&(this.restoreScrollPosition=e.scrollTop),u.AppGlobals.AppState.SetWindowHash(e.HashState));else{var o,i,a,l,s,c,d;u.AppGlobals.AppModel.AppTemplate.Presentation.Controls.filter((function(e){return e.IsValid&&"form"!==e.Action&&e.Action!==u.AppGlobals.AppState.CurrentUIState.Root&&null!=u.AppGlobals.AppModel.DisplayActions[e.Action]})).forEach((function(e){e.Name===u.AppGlobals.AppModel.AppTemplate.Presentation.DefaultStartView&&(o=e),e.Position===u.AppGlobals.AppModel.POSITION_FAR_LEFT&&(i=e),e.Position===u.AppGlobals.AppModel.POSITION_LEFT&&(a=e),e.Position===u.AppGlobals.AppModel.POSITION_RIGHT&&(l=e),e.Position===u.AppGlobals.AppModel.POSITION_FAR_RIGHT&&(s=e),e.Position===u.AppGlobals.AppModel.POSITION_CENTER&&(c=e),e.Position===u.AppGlobals.AppModel.POSITION_MENU&&(d=e)}));var p=o||i||a||l||s||c||d;p?u.AppGlobals.AppState.SetActiveControl(p,InputHandler.rootStateForControl):(u.AppGlobals.AppState.ActiveControl=null,u.AppGlobals.AppState.ResetState({Root:"empty"}))}}},{key:"setSearch",value:function(e){var t=e.searchQuery,n=void 0===t?this.searchQuery:t,r=e.searchEnabled,o=void 0===r?this.searchEnabled:r;this.searchQuery=n,this.searchEnabled=o}},{key:"setCachingProgress",value:function(e){var t=e.totalFilesToCache,n=void 0===t?this.totalFilesToCache:t,r=e.filesCached,o=void 0===r?this.filesCached:r,i=e.filesWithError,a=void 0===i?this.filesWithError:i;this.totalFilesToCache=n,this.filesCached=o,this.filesWithError=a}},{key:"setSideMenuOpen",value:function(e){this.sideMenuOpen=e,u.AppGlobals.StateChangeHandler.ShowUIState(!0)}},{key:"setAppTemplate",value:function(e){this.appTemplate=e}},{key:"initStateFromLocalStorage",value:function(e){var t=this;this.initialized?e&&e(this.localStorageState):(u.AppGlobals.AppModel.GetViewState().then((function(n){n||(n={}),t.localStorageState=new Map(Object.entries(n)),e&&e(t.localStorageState)})),this.initialized=!0)}}]),e}();A([c.observable],E.prototype,"widescreenBreakpoint",void 0),A([c.action.bound],E.prototype,"setHash",null),A([c.computed],E.prototype,"hash",null),A([c.computed],E.prototype,"currentView",null),A([c.computed],E.prototype,"headerTabs",null),A([c.computed],E.prototype,"footerEntries",null),A([c.computed],E.prototype,"footerHeight",null),A([c.computed],E.prototype,"viewWidth",null),A([c.computed],E.prototype,"viewHeight",null),A([c.computed],E.prototype,"headerTabIndex",null),A([c.action.bound],E.prototype,"selectHeaderTab",null),A([c.observable],E.prototype,"toasts",void 0),A([c.action.bound],E.prototype,"showToast",null),A([c.action.bound],E.prototype,"dismissToast",null),A([c.action.bound],E.prototype,"showToastThrottled",null),A([c.observable],E.prototype,"showSearchControl",void 0),A([c.observable],E.prototype,"showFooter",void 0),A([c.observable],E.prototype,"headerSelectedTabIndex",void 0),A([c.observable],E.prototype,"headerHeight",void 0),A([c.observable],E.prototype,"drawerCloseWidth",void 0),A([c.observable],E.prototype,"drawerOpenWidth",void 0),A([c.observable],E.prototype,"headerTitle",void 0),A([c.observable],E.prototype,"headerActionButtons",void 0),A([c.observable],E.prototype,"sideMenuOpen",void 0),A([c.observable],E.prototype,"syncQueueCount",void 0),A([c.observable],E.prototype,"appTemplate",void 0),A([c.observable],E.prototype,"searchQuery",void 0),A([c.observable],E.prototype,"searchEnabled",void 0),A([c.observable],E.prototype,"showAboutView",void 0),A([c.observable],E.prototype,"localStorageState",void 0),A([c.observable],E.prototype,"totalFilesToCache",void 0),A([c.observable],E.prototype,"filesCached",void 0),A([c.observable],E.prototype,"filesWithError",void 0),A([c.observable],E.prototype,"hashState",void 0),A([c.observable],E.prototype,"windowWidth",void 0),A([c.observable],E.prototype,"windowHeight",void 0),A([c.observable],E.prototype,"flexBackgroundWidth",void 0),A([c.observable],E.prototype,"dataStamp",void 0),A([c.observable],E.prototype,"syncState",void 0),A([c.computed],E.prototype,"isWideScreen",null),A([c.computed],E.prototype,"showResetDash",null),A([c.action.bound],E.prototype,"onResize",null),A([c.computed],E.prototype,"flexLaunchBackgroundUrl",null),A([c.computed],E.prototype,"flexPageBackgroundUrl",null),A([c.action.bound],E.prototype,"setSearch",null),A([c.action.bound],E.prototype,"setCachingProgress",null),A([c.action.bound],E.prototype,"setSideMenuOpen",null),A([c.action.bound],E.prototype,"setAppTemplate",null);var P=!0===window.APPSHEET_TEST_CONTEXT||m.ReactRootUIConfig.isReactRoot()?(0,d.default)(new E):new E;(0,c.autorun)((function(){var e,t,n=w(P.localStorageState.values());try{for(n.s();!(t=n.n()).done;)t.value}catch(e){n.e(e)}finally{n.f()}var r=P.localStorageState;(null===(e=u.AppGlobals.AppModel)||void 0===e?void 0:e.SetViewState)&&u.AppGlobals.AppModel.SetViewState(r)}));var C=P;t.default=C},891666:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.nativeGeolocationManager=t.NativeGeolocationManager=void 0;var o=r(n(689728)),i=r(n(856690)),a=r(n(496486)),l=r(n(593186)),u=r(n(190644)),s=n(263198);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.default)((function e(){var t=this;(0,i.default)(this,e),this._nextId=1,this.highAccuracy=!1,this.isFetching=!1,this.listeners=[],this.shortestInterval=1/0,this.shouldStartFetching=function(e){var n=e.interval,r=e.enableHighAccuracy;return!t.isFetching||n&&n<t.shortestInterval||!0===r&&!t.highAccuracy},this.getCurrentPosition=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.enableHighAccuracy,i=void 0!==o&&o,a=r.timeout,s=void 0===a?1e4:a,c=r.maximumAge,d=void 0===c?6e4:c;if(u.default.pending||t.shouldStartFetching({enableHighAccuracy:i})){var p;l.default.logToDevConsole("NativeGeolocationManager.getCurrentPosition adding a listener");var f=t.addListener({callback:function(n){clearTimeout(p),t.removeListener(f),e(n)},failureCallback:function(e){clearTimeout(p),t.removeListener(f),n(e)},enableHighAccuracy:i,interval:d});setTimeout((function(){t.removeListener(f),n(new Error("getCurrentPosition timed out"))}),s)}else u.default.lastPosition?(l.default.logToDevConsole("NativeGeolocationManager.getCurrentPosition using lastPosition"),e(u.default.lastPosition)):(l.default.logToDevConsole("NativeGeolocationManager.getCurrentPosition location not available"),n(new Error("Location is not available")))},this.addListener=function(e){var n=e.callback,r=void 0===n?function(){}:n,o=e.failureCallback,i=void 0===o?function(){}:o,a=e.interval,u=void 0===a?6e4:a,s=e.enableHighAccuracy,c=void 0!==s&&s,d={id:t._nextId++,type:"NativeGeolocationManager",callback:r,failureCallback:i,interval:u,enableHighAccuracy:c};return t.listeners.push(d),l.default.logToDevConsole("adding listener"),t.shouldStartFetching(d)&&(d.interval&&(t.shortestInterval=t.shortestInterval?Math.min(t.shortestInterval,d.interval):d.interval),d.enableHighAccuracy&&(t.highAccuracy=!0),t._startFetching()),d},this.removeListener=function(e){if(e){var n=t.listeners.findIndex((function(t){return t.id===e.id}));if(n>=0){l.default.logToDevConsole("removing listener");var r=t.listeners[n];if(t.listeners.splice(n,1),0===t.listeners.length)t._stopFetching(),t.shortestInterval=1/0,t.highAccuracy=!1;else{var o=!1;r.interval===t.shortestInterval&&r.interval!==t._findNewShortestInterval()&&(o=!0),r.enableHighAccuracy&&!t._findNewAccuracy()&&(o=!0),o&&t._startFetching()}}}},this.removeAllListeners=function(){t.listeners.forEach(t.removeListener)},this.getFetchInterval=function(){return t.shortestInterval},this._locationCallback=function(e){var n,r=c(t.listeners);try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)({coords:e})}}catch(e){r.e(e)}finally{r.f()}},this._failureCallback=function(e){var n,r=c(t.listeners);try{for(r.s();!(n=r.n()).done;){(0,n.value.failureCallback)(e)}}catch(e){r.e(e)}finally{r.f()}},this._startFetching=function(){s.JeeneeBrowserAPI.startLocationUpdates({callback:t._locationCallback,failureCallback:t._failureCallback,interval:t.shortestInterval,enableHighAccuracy:t.highAccuracy}),t.isFetching=!0},this._stopFetching=function(){s.JeeneeBrowserAPI.stopLocationUpdates(),t.isFetching=!1},this._findNewShortestInterval=function(){return t.shortestInterval=t.listeners.map((function(e){return e.interval})).reduce((function(e,t){return e<t?e:t})),t.shortestInterval},this._findNewAccuracy=function(){return t.highAccuracy=a.default.some(t.listeners,(function(e){return e.enableHighAccuracy})),t.highAccuracy}}));t.NativeGeolocationManager=p;var f=new p;t.nativeGeolocationManager=f},75212:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHash=void 0;var o=r(n(280129));t.parseHash=function(e){e=(e||"").replace(/^#/,"");try{return o.default.parse(e)}catch(e){return{}}}},498967:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(166089),i=r(n(496486)),a=r(n(674823)),l=r(n(365914));function u(e,t){return e<t?-1:e>t?1:0}function s(e){return i.default.toLower(i.default.toString(e))}var c=new Map;function d(e){var t=c.get(e);if(null!=t)return t;t=[];for(var n,r,o=0,i=-1,a=0;n=(r=e.charAt(o++)).charCodeAt(0);){var l=46===n||n>=48&&n<=57;l!==a&&(t[++i]="",a=l),t[i]+=r}return c.set(e,t),t}var p=/[0-9]/;var f=function(){function e(e,t,n,r,o,i){for(var a=n,l=r+1,u=n;;){if(i(e[a],e[l])<=0){if(t[u++]=e[a++],a>r){do{t[u++]=e[l++]}while(l<=o);break}}else if(t[u++]=e[l++],l>o){do{t[u++]=e[a++]}while(a<=r);break}}}function t(t,r,o,i,a){if(!(i<o))if(i!=o){var l=Math.floor(o+(i-o)/2);n(t,r,o,l,a),n(t,r,l+1,i,a),e(t,r,o,l,i,a)}else r[o]=t[o]}function n(n,r,o,i,a){if(!(i<=o)){var l=Math.floor(o+(i-o)/2);t(n,r,o,l,a),t(n,r,l+1,i,a),e(r,n,o,l,i,a)}}return function(e,t){var r=e.slice(0);return n(e,r,0,e.length-1,t),e}}(),g=i.default.memoize((function(e){return new Date(e).getTime()})),h=i.default.memoize((function(e){return l.default.timeToDate(e).getTime()})),m={numericComparer:function(e,t){var n=Number(e),r=Number(t);return null!=e&&""!==e&&!isNaN(n)||null!=t&&""!==t&&!isNaN(r)?null==e||""===e||isNaN(n)?-1:null==t||""===t||isNaN(r)?1:n<r?-1:n>r?1:0:0},timeComparer:function(e,t){return m.utcMsComparer(h(e),h(t))},dateComparer:function(e,t){return m.utcMsComparer(g(e),g(t))},nativeDateComparer:function(e,t){return m.utcMsComparer(null==e?void 0:e.getTime(),null==t?void 0:t.getTime())},utcMsComparer:function(e,t){return isNaN(e)&&isNaN(t)?0:isNaN(e)?-1:isNaN(t)?1:e<t?-1:e>t?1:0},durationComparer:function(e,t){return null==e||null==t?0:m.numericComparer(e.replace(/:/g,""),t.replace(/:/g,""))},textComparer:function(e,t){return function(e,t){if(e=(0,a.default)(e),t=(0,a.default)(t),!p.test(e)&&!p.test(t))return u(e,t);for(var n=d(e),r=d(t),o=0;n[o]&&r[o];o++)if(n[o]!==r[o]){var i=Number(n[o]),l=Number(r[o]);if(i!=n[o]||l!=r[o])return n[o]>r[o]?1:-1;if(i!==l)return i-l}return e!==t&&n.length===r.length?u(e,t):n.length-r.length}(e?e.toLowerCase():"",t?t.toLowerCase():"")},genericComparer:u,listComparer:function(e,t,n){var r=e.indexOf(t),o=e.indexOf(n);return-1===r&&-1===o?this.genericComparer(t,n):-1===r?1:-1===o||r<o?-1:r>o?1:t===n?0:-1},labelComparer:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n||(n={}),n.keyLabelMap&&n.labelComparer){var o=n.keyLabelMap[e],a=n.keyLabelMap[t];if(r<50){if(null!=o&&null!=a)return n.labelComparer(o,a,n,r+1);if(n.labelComparer!==m.labelComparer)return n.labelComparer(s(e),s(t),n,r+1)}}var l=function(e){return e?i.default.isString(e)?e.toLowerCase():e:""};return m.genericComparer(l(e),l(t))},sort:f,findSortInfo:function(e,t){var n;null!=t&&0!==t.length||((n=e.findAttributeByName(o.AppGlobals.AppModel.ROW_NUMBER_ATTRNAME))||(n=e.keyAttribute()),t=n.name());var r=!1;return 0===t.indexOf(o.AppGlobals.AppModel.DESC_SORT_PREFIX)&&(r=!0,t=t.replace(o.AppGlobals.AppModel.DESC_SORT_PREFIX,"")),{attribute:e.findAttributeByName(t),inverted:r}}},y=m;t.default=y},266522:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(n(627424)),a=r(n(856690)),l=r(n(689728)),u=n(166089),s=r(n(6767)),c=r(n(496486)),d=r(n(400568)),p=n(646514),f=r(n(593186)),g=n(714067),h=r(n(571524)),m=n(557310),y=n(646317),v=r(n(365914)),b=r(n(112368)),O={colorInputRed:"#fa5252",colorInputOrange:"#ff922b",colorInputYellow:"#ffd43b",colorInputGreen:"#51cf66",colorInputBlue:"#329af0",colorInputPurple:"#cc5de8",colorInputBlack:"#444",colorInputWhite:"#eee",cardBorderStyleDefault:"1px solid",cardBorderStyleSelected:"2px solid",cardBorderRadiusDefault:"4px",cardTopBorderRadiusLarge:"4px 4px 0 0",cardBottomBorderRadiusLarge:"0 0 4px 4px",nonCardHeaderTextOverlay:"linear-gradient(to bottom, rgba(255,0,0,0), 40%, rgba(0,0,0,0.6))"},w={Red:{mainColor:"#d95050",secondaryColor:"#ce4444",tertiaryColor:"#a93131",highlightColor:"#ce3737",mainTextColor:p.GOOGLE_WHITE},Orange:{mainColor:"#ff9b3d",secondaryColor:"#ea8e38",tertiaryColor:"#d47a26",highlightColor:"#ff8616",mainTextColor:p.GOOGLE_WHITE},LightGreen:{mainColor:"#64b161",secondaryColor:"#56a753",tertiaryColor:"#468c44",highlightColor:"#559e52",mainTextColor:p.GOOGLE_WHITE},ForestGreen:{mainColor:"#1b7c14",secondaryColor:"#196d13",tertiaryColor:"#125d0c",highlightColor:"#1d6b17",mainTextColor:p.GOOGLE_WHITE},Teal:{mainColor:"#2db2c5",secondaryColor:"#2aa7b9",tertiaryColor:"#228f9e",highlightColor:"#2798a9",mainTextColor:p.GOOGLE_WHITE},MediumBlue:{mainColor:"#4891db",secondaryColor:"#3f85cc",tertiaryColor:"#3675B5",highlightColor:"#2e7ac7",mainTextColor:p.GOOGLE_WHITE},NavyBlue:{mainColor:"#303aa5",secondaryColor:"#232d98",tertiaryColor:"#1c2373",highlightColor:"#27308e",mainTextColor:p.GOOGLE_WHITE},Purple:{mainColor:"#9575cd",secondaryColor:"#8c6ec1",tertiaryColor:"#7156a0",highlightColor:"#8666bb",mainTextColor:p.GOOGLE_WHITE},Magenta:{mainColor:"#d94da6",secondaryColor:"#ce489d",tertiaryColor:"#b14288",highlightColor:"#CF3697",mainTextColor:p.GOOGLE_WHITE},Almond:{mainColor:"#8d6e63",secondaryColor:"#826257",tertiaryColor:"#75554a",highlightColor:"#775e54",mainTextColor:p.GOOGLE_WHITE},"AppSheet Official":{mainColor:"#3dbfea",secondaryColor:"#37b1da",tertiaryColor:"#2a9abf",highlightColor:"#2daed8",mainTextColor:p.GOOGLE_WHITE}},S={Red:{mainColor:"#B71C1C",mainTextColor:"#EEE"},Orange:{mainColor:"#D08025",mainTextColor:"#EEE"},Yellow:{mainColor:"#FFCC06",mainTextColor:"#111"},LightGreen:{mainColor:"#68B366",mainTextColor:"#EEE"},ForestGreen:{mainColor:"#1b7c14",mainTextColor:"#EEE"},Teal:{mainColor:"#1792A0",mainTextColor:"#EEE"},MediumBlue:{mainColor:"#4891DB",mainTextColor:"#EEE"},NavyBlue:{mainColor:"#3F51B5",mainTextColor:"#EEE"},Purple:{mainColor:"#9575CD",mainTextColor:"#EEE"},Magenta:{mainColor:"#da4ea6",mainTextColor:"#EEE"}},T={White:{Blue:"#1e88e5",Red:"#e53935",Amber:"#ffa000",Green:"#43a047",Orange:"#e8710a",Pink:"#d81b60",Purple:"#8e24aa",Cyan:"#00acc1"},Dark:{Blue:"#90caf9",Red:"#ef9a9a",Amber:"#ffe082",Green:"#a5d6a7",Orange:"#ffcc80",Pink:"#f48fb1",Purple:"#ce93d8",Cyan:"#80deea"}},A=function(e,t){var n,r,o=null===(n=null==t?void 0:t.Presentation)||void 0===n?void 0:n.HeaderStyle,i=null===(r=null==t?void 0:t.Presentation)||void 0===r?void 0:r.FooterStyle,a=p.LIGHT_ELEVATION,l=p.LIGHT_ELEVATION,u=(0,s.default)(e.mainColor);return{mainBackground:p.GOOGLE_SURFACE_LIGHT,mainContentBackground:p.GOOGLE_WHITE,mainBackgroundVariant:"#F3F3F3",mainContentBackgroundList:p.GOOGLE_SURFACE_LIGHT,mainBackgroundVariantTranslucent:"rgba(0, 0, 0, 0.06)",mainBackgroundVariantExtra:p.GOOGLE_GREY_200,mainBackgroundTranslucent:(0,s.default)(p.GOOGLE_GREY_900).fade(.4).rgb().string(),formTabHover:"rgba(255,255,255,.8)",inputBackground:p.GOOGLE_WHITE,disabledInputBackground:"#EEE",detailBackground:p.LIGHT_ELEVATION,dividerColor:"#DDD",mainBorderColor:p.GOOGLE_GREY_300,weakAccentColor:p.STATE_FOCUS,mediumAccentColor:"#C2C2C2",focusColor:e.mainColor,detailSectionDivider:p.GOOGLE_GREY_100,buttonDisabledBorder:p.GOOGLE_GREY_300,buttonDisabledBackground:"rgba(0, 0, 0, 0.12)",faintBorderColor:"rgba(0, 0, 0, 0.12)",buttonOutline:e.mainColor,buttonTextColor:p.GOOGLE_WHITE,elevationTone1:p.LIGHT_ELEVATION,elevationTone2:p.LIGHT_ELEVATION2,elevationBoxShadow2:"3px 4px rgba(0, 0, 0, 0.14), 0px 3px 3px rgba(0, 0, 0, 0.12), 0px 1px 8px rgba(0, 0, 0, 0.2)",elevationTone3:p.LIGHT_ELEVATION3,elevationBoxShadow3:"0px 6px 10px rgba(0, 0, 0, 0.14), 0px 1px 18px rgba(0, 0, 0, 0.12), 0px 3px 5px rgba(0, 0, 0, 0.2)",bottomDrawerText:p.GOOGLE_GREY_800,bottomDrawerIcon:p.GOOGLE_GREY_700,cardOutlineDefault:p.GOOGLE_GREY_300,cardHoverShadowDefault:"0px 2px 2px rgba(0,0,0,0.14), 0px 3px 1px rgba(0,0,0,0.12), 0px 1px 5px rgba(0,0,0,0.2)",cardHoverBackgroundNarrowscreen:p.STATE_HOVER,cardHoverBackgroundDefault:p.GOOGLE_WHITE,tableBackground:a,tableGroupedHeaderTitle:p.GOOGLE_GREY_700,tableGroupedHeader:p.GOOGLE_SURFACE_LIGHT,tableGroupedAggregateContent:p.GOOGLE_GREY_800,tableAggregateBackground:p.GOOGLE_GREY_300,tableRow:l,tableRowFocus:p.STATE_FOCUS,tableRowHover:p.STATE_HOVER,tableRowSelectedHover:p.STATE_HOVER_SELECTED,tableRowSelectedHoverUpdate:u.alpha(.06).rgb().string(),chipHover:p.STATE_HOVER,drilldownArrow:p.GOOGLE_GREY_900,inputBorder:p.GOOGLE_GREY_400,inputBorderHover:p.GOOGLE_GREY_600,inputBorderDisabled:p.GOOGLE_GREY_200,inputInlineButtons:p.GOOGLE_GREY_700,inputBlockerBackground:(0,s.default)(p.GOOGLE_WHITE).fade(.2).rgb().string(),codeBackgroundColor:p.GOOGLE_GREY_50,codeTextColor:p.GOOGLE_GREY_800,slideshowArrowColor:p.GOOGLE_GREY_900,slideshowArrowBackgroundHover:p.GOOGLE_GREY_200,slideshowArrowBackgroundColor:p.GOOGLE_GREY_300,groupedByAggregateBackground:p.GOOGLE_GREY_200,groupedByAggregateContent:p.GOOGLE_GREY_700,calendarDivider:p.GOOGLE_GREY_200,elevationBoxShadow1:"0px 2px 2px -2px rgba(0, 0, 0, 0.14),  0px 3px 1px -1px rgba(0, 0, 0, 0.12), 0px 1px 5px -5px rgba(0, 0, 0, 0.2)",modalContentBorder:p.GOOGLE_GREY_300,focusColorRgb:u.fade(.88).rgb().string(),hoverColorRgb:u.fade(.96).rgb().string(),primaryText:p.GOOGLE_GREY_900,secondaryText:p.GOOGLE_GREY_800,minorText:p.GOOGLE_GREY_700,minorBodyText:p.GOOGLE_GREY_700,disabledText:"rgba(0, 0, 0, 0.38)",highlightOverlay:(0,s.default)(e.highlightColor).mix((0,s.default)(p.GOOGLE_WHITE),.82).rgb().string(),highlightOverlayUpdate:u.alpha(.13).rgb().string(),highlightOverlayTransparent:(0,s.default)(e.highlightColor).fade(.5).rgb().string(),interfaceBackgroundShadow:"rgba(0, 0, 0, 0.1)",interfaceBackgroundShadowStrong:"rgba(0, 0, 0, 0.3)",interfaceText:"#333",interfaceHighlightText:e.highlightColor,interfaceTextShadow:"transparent",interfaceBackground:"#F8F8F8",headerText:o===g.HEADERSTYLE_COLOR?e.mainTextColor:"#333",headerBackground:o===g.HEADERSTYLE_COLOR?e.mainColor:"#FFFFFF",footerText:i===g.FOOTERSTYLE_COLOR?e.mainTextColor:p.GOOGLE_GREY_700,footerBackground:i===g.FOOTERSTYLE_COLOR?e.mainColor:"#FFFFFF",interfaceSecondaryBackground:"#efefef",interfaceTertiaryBackground:"#d6d6d6",interfaceHighlightBackground:"#F8F8F8",interfaceIndicator:"#cc0b0b",actionIcon:e.highlightColor,actionButtonDeselectedShadow:"none",actionButtonDeselectedText:p.GOOGLE_GREY_700,actionButtonDeselectedBackground:p.GOOGLE_SURFACE_LIGHT,actionButtonDeselectedBorder:p.GOOGLE_GREY_300,actionButtonText:e.mainTextColor,actionButtonBackground:e.mainColor,actionButtonHighlight:e.highlightColor,actionButtonBorder:e.mainColor,actionButtonHoverText:p.GOOGLE_GREY_800,actionButtonHoverBackground:p.GOOGLE_SURFACE_LIGHT,actionButtonHoverBorder:p.GOOGLE_GREY_300,actionButtonPressText:p.GOOGLE_GREY_800,actionButtonPressBackground:p.GOOGLE_GREY_200,actionButtonPressBorder:p.GOOGLE_GREY_300,flatControlBackground:"rgba(0, 0, 0, 0.1)",flatControlForeground:e.mainTextColor,flatControlHighlight:e.highlightColor,attentionItemText:e.mainTextColor,attentionBackground:e.mainColor,errorColor:"#E66",warningColor:"#E4D58D",webpageBarColor:p.GOOGLE_WHITE,androidSystemBarColor:"black",amplifyColor:"rgba(0, 0, 0, 0.3)",amplifyColorTransparent:"rgba(0, 0, 0, 0)",signatureBackground:"#F8F8F8",themeMainColor:e.mainColor,themeTextColor:e.mainColor,themeBackgroundColor:u.alpha(.13).rgb().string(),themeBackgroundHover:u.alpha(.2).rgb().string(),sideMenuHeaderDividerColor:p.GOOGLE_GREY_200,sideMenuBackgroundColor:p.LIGHT_ELEVATION4,sideMenuBackgroundColorTransparent:"rgba(253,253,253,0)",sideMenuScrollShadow:"rgb(240, 240, 240)",sideMenuScrollShadowTransparent:"rgb(240, 240, 240, 0)",sideMenuSelected:u.fade(.9).rgb().string(),sideMenuTextColor:p.GOOGLE_GREY_800,sideMenuIconColor:p.GOOGLE_GREY_700,sideMenuBackgroundOverlay:p.SURFACE_DARK,thinScrollbarColor:p.GOOGLE_GREY_700,dropdownChipBackgroundColor:p.GOOGLE_WHITE,dropdownChipBorderColor:"#DADCE0",dropdownSpecialOptionBorderColor:p.GOOGLE_GREY_700,dropdownOverflowNumberColor:"#5F6368",dropdownInputBaseTableQuickEditFocusedColor:p.GOOGLE_WHITE,syncErrorIconColor:p.GOOGLE_RED_600,syncButtonBorderColor:"#dadce0",syncSeverityInfo:p.GOOGLE_THEME_INFO_LIGHT,syncSeverityWarning:p.GOOGLE_THEME_WARNING_LIGHT,syncSeverityError:p.GOOGLE_THEME_ERROR_LIGHT,syncSeverityOffline:p.GOOGLE_GREY_100,syncBadgeForUnsyncedChanges:"rgb(241,152,1)",syncErrorButtonBackground:p.GOOGLE_THEME_ERROR_LIGHT,syncErrorButtonTextAndBorder:p.GOOGLE_RED_500,syncErrorButtonTextAndBorderOffline:p.GOOGLE_RED_500,syncErrorButtonBackgroundHoverOrFocus:p.GOOGLE_THEME_ERROR_LIGHT_HOVER_OR_FOCUS,syncErrorButtonBorderHoverOrFocus:p.GOOGLE_RED_300,syncMenuBackgroundColor:p.GOOGLE_WHITE,simpleDialogCloseIcon:p.GOOGLE_GREY_500,"formattingRule-red":"#cc0b0b","formattingRule-orange":"#da7a00","formattingRule-yellow":"#c3ad00","formattingRule-green":"#00b11f","formattingRule-cyan":"#01cebc","formattingRule-blue":"#037be4","formattingRule-purple":"#7c00ff","formattingRule-pink":"#fb0a82","formattingRule-white":"#ffffff","formattingRule-black":"#000000",muiPalette:{type:"light",primary:{main:e.mainColor,contrastText:e.mainTextColor},secondary:{main:e.mainColor,contrastText:e.mainTextColor}}}},k=["red","orange","yellow","green","cyan","blue","purple","pink","primaryText","secondaryText","minorText","themeMainColor"],E=c.default.keyBy(k),P=function(){function e(t){(0,a.default)(this,e),this.themeFile=t;var n=document.getElementById("storybook-style");n?this.stylesheet=n:(this.stylesheet=document.createElement("style"),document.head.appendChild(this.stylesheet))}return(0,l.default)(e,[{key:"buildThemeCSS",value:function(e){var t=this.themeFile;for(var n in e){var r=new RegExp("\\b"+n+"\\b","g");t=t.replace(r,e[n])}return t}},{key:"setTheme",value:function(t,n){this.themeData=e.getThemeData(t,n);var r=this.buildThemeCSS(this.themeData);this.writeThemeData(r,this.themeData)}},{key:"getThemeColor",value:function(e){return this.themeData?this.themeData[e]:""}},{key:"getMuiThemeOptions",value:function(){var e,t;return{palette:(null===(e=this.themeData)||void 0===e?void 0:e.muiPalette)||{},typography:Object.assign({htmlFontSize:u.AppGlobals.AppModel.appTemplate.normalizedFontSize(),fontFamily:"inherit",h2:{paddingBottom:0}},m.ReactRootUIConfig.isInDesktopExperience()&&{button:{textTransform:"none",fontWeight:400}}),overrides:{MuiCard:{root:{backgroundColor:null===(t=this.themeData)||void 0===t?void 0:t.mainContentBackground}}}}}},{key:"getHeaderMuiThemeOptions",value:function(){var e;return Object.assign(Object.assign({},this.getMuiThemeOptions()),{palette:(null===(e=this.themeData)||void 0===e?void 0:e.headerMuiPalette)||{}})}},{key:"getThemeBackgroundDimmer",value:function(){return this.themeData?"linear-gradient("+this.themeData.mainBackgroundTranslucent+", "+this.themeData.mainBackgroundTranslucent+")":(f.default.warnToDevConsole("No theme loaded when getThemeBackgroundDimmer was called"),"#ffffff")}},{key:"writeThemeData",value:function(e,t){var n,r=this;this.stylesheet.textContent=e,n=t.webpageBarColor,null==o&&(o=$("<meta>").attr("name","theme-color"),$("head").append(o)),o.attr("content",n),b.default.IsAndroidAppWithMinVersion(9)&&!h.default.IsUnsupportedAndroidVersion()&&setTimeout((function(){var e;null===(e=window.JeeneeAndroid)||void 0===e||e.setStatusBarColor(t.androidSystemBarColor)}),0),this.sfx&&this.sfx.sounds&&c.default.each(this.sfx.sounds,(function(e,t){r.sfx.remove(t)})),t.sounds&&(this.sfx||(this.sfx=new d.default),c.default.each(t.sounds,(function(e,t){r.sfx.load(e,t)})))}},{key:"triggerSound",value:function(e){this.sfx&&this.sfx.play(e)}}],[{key:"applyQueryTheme",value:function(e){var t;try{var n=e.split(" - "),r=(null!==(t=(0,y.parseUrlQuery)().theme)&&void 0!==t?t:"").split("-").map(c.default.upperFirst),o=(0,i.default)(r,2),a=o[0],l=o[1];if(c.default.includes(["Light","White","Dark"],a))n[0]=a.replace("Light","White"),l in("Dark"===a?S:w)&&(n[1]=l);return n.join(" - ")}catch(e){f.default.ReportErrorOnce({errorMessage:"Error in applyQueryTheme",error:e})}return e}},{key:"getThemeData",value:function(t,n){var r,o={WhiteRed:"White - Red",WhiteOrange:"White - Orange",WhiteLightGreen:"White - LightGreen",WhiteForestGreen:"White - ForestGreen",WhiteTeal:"White - Teal",WhiteMediumBlue:"White - MediumBlue",WhiteNavyBlue:"White - NavyBlue",WhitePurple:"White - Purple",WhiteMagenta:"White - Magenta",light:"White - MediumBlue",Light:"White - MediumBlue",dark:"Dark - Orange",Dark:"Dark - Orange",Clown:"White - Red"};if(o[t]&&(f.default.warnToDevConsole("Auto-migrating theme",t,"to",o[t]),t=o[t]),t in w)r=function(e){var t=p.LIGHT_ELEVATION,n=p.LIGHT_ELEVATION,r=(0,s.default)(e.mainColor);return{mainBackground:p.GOOGLE_SURFACE_LIGHT,mainContentBackground:"#ffffff",mainBackgroundVariant:"#F3F3F3",mainBackgroundVariantTranslucent:"rgba(0, 0, 0, 0.06)",mainBackgroundVariantExtra:p.GOOGLE_GREY_200,mainBackgroundTranslucent:(0,s.default)(p.GOOGLE_GREY_900).fade(.4).rgb().string(),formTabHover:"rgba(255,255,255,.8)",inputBackground:p.GOOGLE_WHITE,disabledInputBackground:"#DEDEDE",detailBackground:p.LIGHT_ELEVATION,dividerColor:"rgba(221, 221, 221, 0.6)",mainBorderColor:p.GOOGLE_GREY_300,weakAccentColor:p.STATE_FOCUS,mediumAccentColor:"#C2C2C2",focusColor:e.mainColor,detailSectionDivider:p.GOOGLE_GREY_100,primaryText:p.GOOGLE_GREY_900,secondaryText:p.GOOGLE_GREY_800,minorText:p.GOOGLE_GREY_700,minorBodyText:p.GOOGLE_GREY_700,disabledText:"rgba(0, 0, 0, 0.38)",highlightOverlay:(0,s.default)(e.highlightColor).mix((0,s.default)(p.GOOGLE_WHITE),.82).rgb().string(),highlightOverlayUpdate:(0,s.default)(e.mainColor).alpha(.13).rgb().string(),highlightOverlayTransparent:(0,s.default)(e.highlightColor).fade(.5).rgb().string(),interfaceBackgroundShadow:"rgba(0, 0, 0, 0.1)",interfaceBackgroundShadowStrong:"rgba(0, 0, 0, 0.3)",interfaceText:p.GOOGLE_WHITE,interfaceHighlightText:p.GOOGLE_WHITE,interfaceTextShadow:"transparent",interfaceBackground:e.mainColor,headerText:p.GOOGLE_WHITE,headerBackground:e.mainColor,footerText:p.GOOGLE_WHITE,footerBackground:e.mainColor,interfaceSecondaryBackground:e.secondaryColor,interfaceTertiaryBackground:e.tertiaryColor,interfaceHighlightBackground:e.highlightColor,interfaceIndicator:p.GOOGLE_WHITE,tableBackground:t,tableGroupedHeaderTitle:p.GOOGLE_GREY_700,tableGroupedHeader:p.GOOGLE_SURFACE_LIGHT,tableGroupedAggregateContent:p.GOOGLE_GREY_800,tableAggregateBackground:p.GOOGLE_GREY_300,tableRow:n,tableRowFocus:p.STATE_FOCUS,tableRowHover:p.STATE_HOVER,tableRowSelectedHover:p.STATE_HOVER_SELECTED,tableRowSelectedHoverUpdated:p.STATE_HOVER_SELECTED,chipHover:p.STATE_HOVER,drilldownArrow:p.GOOGLE_GREY_900,inputBorder:p.GOOGLE_GREY_400,inputBorderHover:p.GOOGLE_GREY_600,inputBorderDisabled:p.GOOGLE_GREY_200,inputInlineButtons:p.GOOGLE_GREY_700,inputBlockerBackground:(0,s.default)("white").fade(.2).rgb().string(),activeButtonText:p.GOOGLE_GREY_100,codeBackgroundColor:p.GOOGLE_GREY_50,codeTextColor:p.GOOGLE_GREY_800,slideshowArrowColor:p.GOOGLE_WHITE,slideshowArrowBackgroundHover:p.GOOGLE_GREY_200,slideshowArrowBackgroundColor:p.GOOGLE_GREY_300,groupedByAggregateBackground:p.GOOGLE_GREY_200,groupedByAggregateContent:p.GOOGLE_GREY_700,calendarDivider:p.GOOGLE_GREY_200,elevationBoxShadow1:"0px 2px 2px -2px rgba(0, 0, 0, 0.14),  0px 3px 1px -1px rgba(0, 0, 0, 0.12), 0px 1px 5px -5px rgba(0, 0, 0, 0.2)",actionIcon:e.highlightColor,actionButtonDeselectedShadow:"none",actionButtonDeselectedText:p.GOOGLE_GREY_400,actionButtonDeselectedBackground:p.GOOGLE_SURFACE_LIGHT,actionButtonDeselectedBorder:p.GOOGLE_GREY_300,actionButtonText:e.mainTextColor,actionButtonBackground:e.mainColor,actionButtonHighlight:e.highlightColor,actionButtonBorder:e.mainColor,actionButtonHoverText:p.GOOGLE_GREY_800,actionButtonHoverBackground:p.GOOGLE_SURFACE_LIGHT,actionButtonHoverBorder:p.GOOGLE_GREY_300,actionButtonPressText:p.GOOGLE_GREY_800,actionButtonPressBackground:p.GOOGLE_GREY_200,actionButtonPressBorder:p.GOOGLE_GREY_300,cardOutlineDefault:p.GOOGLE_GREY_300,cardHoverShadowDefault:"0px 2px 2px rgba(0,0,0,0.14), 0px 3px 1px rgba(0,0,0,0.12), 0px 1px 5px rgba(0,0,0,0.2)",cardHoverBackgroundNarrowscreen:p.STATE_HOVER,cardHoverBackgroundDefault:p.GOOGLE_WHITE,buttonDisabledBorder:p.GOOGLE_GREY_300,buttonDisabledBackground:"rgba(0, 0, 0, 0.12)",faintBorderColor:"rgba(0, 0, 0, 0.12)",buttonOutline:e.mainColor,buttonTextColor:p.GOOGLE_WHITE,elevationTone1:p.LIGHT_ELEVATION,elevationTone2:p.LIGHT_ELEVATION2,elevationBoxShadow2:"3px 4px rgba(0, 0, 0, 0.14), 0px 3px 3px rgba(0, 0, 0, 0.12), 0px 1px 8px rgba(0, 0, 0, 0.2)",elevationTone3:p.LIGHT_ELEVATION3,elevationBoxShadow3:"0px 6px 10px rgba(0, 0, 0, 0.14), 0px 1px 18px rgba(0, 0, 0, 0.12), 0px 3px 5px rgba(0, 0, 0, 0.2)",bottomDrawerText:p.GOOGLE_GREY_800,bottomDrawerIcon:p.GOOGLE_GREY_700,modalContentBorder:p.GOOGLE_GREY_300,focusColorRgb:(0,s.default)(e.mainColor).fade(.88).rgb().string(),hoverColorRgb:(0,s.default)(e.mainColor).fade(.96).rgb().string(),flatControlBackground:"rgba(0, 0, 0, 0.1)",flatControlForeground:p.GOOGLE_WHITE,flatControlHighlight:e.highlightColor,attentionItemText:p.GOOGLE_WHITE,attentionBackground:e.highlightColor,errorColor:"#E66",warningColor:"#E4D58D",webpageBarColor:e.mainColor,androidSystemBarColor:e.mainColor,amplifyColor:"rgba(0, 0, 0, 0.3)",amplifyColorTransparent:"rgba(0, 0, 0, 0)",signatureBackground:p.GOOGLE_WHITE,themeMainColor:e.mainColor,themeTextColor:p.GOOGLE_WHITE,themeBackgroundColor:e.mainColor,themeBackgroundHover:r.lighten(.2).rgb().string(),sideMenuHeaderDividerColor:p.GOOGLE_GREY_200,sideMenuBackgroundColor:p.LIGHT_ELEVATION4,sideMenuBackgroundColorTransparent:"rgba(253,253,253,0)",sideMenuScrollShadow:"rgb(240, 240, 240)",sideMenuScrollShadowTransparent:"rgb(240, 240, 240, 0)",sideMenuSelected:(0,s.default)(e.mainColor).fade(.9).rgb().string(),sideMenuTextColor:p.GOOGLE_GREY_800,sideMenuIconColor:p.GOOGLE_GREY_700,sideMenuBackgroundOverlay:p.SURFACE_DARK,thinScrollbarColor:p.GOOGLE_GREY_700,dropdownChipBackgroundColor:p.GOOGLE_WHITE,dropdownChipBorderColor:"#DADCE0",dropdownSpecialOptionBorderColor:p.GOOGLE_GREY_700,dropdownOverflowNumberColor:"#5F6368",dropdownInputBaseTableQuickEditFocusedColor:p.GOOGLE_WHITE,syncErrorIconColor:p.GOOGLE_RED_600,syncButtonBorderColor:"#dadce0",syncSeverityInfo:p.GOOGLE_THEME_INFO_LIGHT,syncSeverityWarning:p.GOOGLE_THEME_WARNING_LIGHT,syncSeverityError:p.GOOGLE_THEME_ERROR_LIGHT,syncSeverityOffline:p.GOOGLE_GREY_100,syncBadgeForUnsyncedChanges:"rgb(241,152,1)",syncErrorButtonBackground:p.GOOGLE_THEME_ERROR_LIGHT,syncErrorButtonTextAndBorder:p.GOOGLE_RED_500,syncErrorButtonTextAndBorderOffline:p.GOOGLE_RED_500,syncErrorButtonBackgroundHoverOrFocus:p.GOOGLE_THEME_ERROR_LIGHT_HOVER_OR_FOCUS,syncErrorButtonBorderHoverOrFocus:p.GOOGLE_RED_300,syncMenuBackgroundColor:p.GOOGLE_WHITE,simpleDialogCloseIcon:p.GOOGLE_GREY_500,"formattingRule-red":"#cc0b0b","formattingRule-orange":"#da7a00","formattingRule-yellow":"#c3ad00","formattingRule-green":"#00b11f","formattingRule-cyan":"#01cebc","formattingRule-blue":"#037be4","formattingRule-purple":"#7c00ff","formattingRule-pink":"#fb0a82","formattingRule-white":"#ffffff","formattingRule-black":"#000000",muiPalette:{type:"light",primary:{main:e.mainColor,contrastText:e.mainTextColor},secondary:{main:e.mainColor,contrastText:e.mainTextColor}}}}(w[t]);else if(t&&t.includes(" - ")){var a=t.split(" - "),l=(0,i.default)(a,2),u=l[0],c=l[1],d="Dark"===u,h=e.computeColor(c,d);r=d?function(e,t){var n,r,o=null===(n=null==t?void 0:t.Presentation)||void 0===n?void 0:n.HeaderStyle,i=null===(r=null==t?void 0:t.Presentation)||void 0===r?void 0:r.FooterStyle,a=(0,s.default)(e.mainColor),l=p.SURFACE_DARK,u=p.DARK_ELEVATION,c=p.DARK_ELEVATION2,d=p.DARK_ELEVATION3,f=p.DARK_ELEVATION4,h=u,m=u,y=u,v=l,b=u,O=(0,s.default)(m).mix((0,s.default)(p.GOOGLE_WHITE),.12).rgb().string(),w=(0,s.default)(m).mix((0,s.default)(p.GOOGLE_WHITE),.04).rgb().string(),S=(0,s.default)(m).mix((0,s.default)(p.GOOGLE_WHITE),.18).rgb().string(),T=(0,s.default)(e.mainColor).mix((0,s.default)("#242424"),.78).rgb().string();return{mainBackground:l,mainContentBackground:b,mainBackgroundVariant:"#313131",mainContentBackgroundList:l,mainBackgroundVariantTranslucent:"rgba(255, 255, 255, 0.06)",mainBackgroundVariantExtra:p.GOOGLE_GREY_600,mainBackgroundTranslucent:(0,s.default)(b).fade(.4).rgb().string(),formTabHover:"rgba(48,48,48,.9)",inputBackground:"#222",disabledInputBackground:"#383838",detailBackground:h,dividerColor:"#4C4C4C",mainBorderColor:p.GOOGLE_GREY_800,weakAccentColor:p.DARK_STATE_FOCUS,mediumAccentColor:"#595959",focusColor:e.mainColor,detailSectionDivider:p.GOOGLE_GREY_800,primaryText:p.GOOGLE_GREY_100,secondaryText:p.GOOGLE_GREY_200,minorText:p.GOOGLE_GREY_400,minorBodyText:p.GOOGLE_GREY_400,disabledText:"rgba(232, 234, 237, 0.38)",highlightOverlay:T,highlightOverlayUpdate:T,highlightOverlayTransparent:(0,s.default)(e.mainColor).fade(.5).rgb().string(),elevationTone1:u,elevationTone2:c,elevationBoxShadow2:"0px 3px 4px rgba(0, 0, 0, 0.14), 0px 3px 3px rgba(0, 0, 0, 0.12), 0px 1px 8px rgba(0, 0, 0, 0.2)",elevationTone3:d,elevationBoxShadow3:"0px 3px 4px rgba(0, 0, 0, 0.14), 0px 3px 3px rgba(0, 0, 0, 0.12), 0px 1px 8px rgba(0, 0, 0, 0.2)",buttonDisabledBorder:"rgba(232, 234, 237, 0.38)",buttonDisabledBackground:"rgba(232, 234, 237, 0.12)",faintBorderColor:"rgba(232, 234, 237, 0.12)",buttonOutline:"rgba(232, 234, 237, 0.38)",buttonTextColor:p.GOOGLE_GREY_900,bottomDrawerText:p.GOOGLE_GREY_200,bottomDrawerIcon:p.GOOGLE_GREY_500,tableBackground:y,tableGroupedHeaderTitle:p.GOOGLE_GREY_400,tableGroupedHeader:v,tableGroupedAggregateContent:p.GOOGLE_GREY_200,tableAggregateBackground:p.GOOGLE_GREY_600,tableRow:m,tableRowFocus:O,tableRowHover:w,tableRowSelectedHover:S,tableRowSelectedHoverUpdate:S,chipHover:(0,s.default)(m).mix((0,s.default)(p.GOOGLE_WHITE),.04).rgb().string(),drilldownArrow:p.GOOGLE_GREY_300,inputBorder:p.GOOGLE_GREY_500,inputBorderHover:p.GOOGLE_GREY_400,inputBorderDisabled:p.GOOGLE_GREY_700,inputInlineButtons:p.GOOGLE_GREY_500,inputBlockerBackground:(0,s.default)(p.GOOGLE_GREY_900).fade(.2).rgb().string(),activeButtonText:p.GOOGLE_GREY_100,codeBackgroundColor:p.GOOGLE_GREY_800,codeTextColor:p.GOOGLE_GREY_100,slideshowArrowColor:p.GOOGLE_WHITE,slideshowArrowBackgroundHover:p.GOOGLE_GREY_700,slideshowArrowBackgroundColor:p.GOOGLE_GREY_800,groupedByAggregateBackground:p.GOOGLE_GREY_600,groupedByAggregateContent:p.GOOGLE_GREY_200,calendarDivider:p.GOOGLE_GREY_700,elevationBoxShadow1:"0px 2px 2px -2px rgba(0, 0, 0, 0.14),  0px 3px 1px -1px rgba(0, 0, 0, 0.12), 0px 1px 5px -5px rgba(0, 0, 0, 0.2)",cardOutlineDefault:p.GOOGLE_GREY_800,cardHoverShadowDefault:"0px 3px 4px rgba(0, 0, 0, 0.14), 0px 3px 3px rgba(0, 0, 0, 0.12), 0px 1px 8px rgba(0, 0, 0, 0.2)",cardHoverBackgroundNarrowscreen:p.DARK_STATE_HOVER,cardHoverBackgroundDefault:c,modalContentBorder:p.GOOGLE_GREY_500,focusColorRgb:(0,s.default)(e.mainColor).fade(.88).rgb().string(),hoverColorRgb:(0,s.default)(e.mainColor).fade(.96).rgb().string(),interfaceBackgroundShadow:"rgba(0, 0, 0, 0.1)",interfaceBackgroundShadowStrong:"rgba(0, 0, 0, 0.3)",interfaceText:"#EEE",interfaceHighlightText:e.mainTextColor,interfaceTextShadow:"transparent",interfaceBackground:"#2b2b2b",headerText:o===g.HEADERSTYLE_COLOR?e.mainTextColor:p.GOOGLE_GREY_100,headerBackground:o===g.HEADERSTYLE_COLOR?e.mainColor:c,footerText:i===g.FOOTERSTYLE_COLOR?e.mainTextColor:p.GOOGLE_GREY_500,footerBackground:i===g.FOOTERSTYLE_COLOR?e.mainColor:c,interfaceSecondaryBackground:"#252525",interfaceTertiaryBackground:"#0e0e0e",interfaceHighlightBackground:e.mainColor,interfaceIndicator:"#f12b2b",actionIcon:e.mainColor,actionButtonDeselectedShadow:"none",actionButtonDeselectedText:p.GOOGLE_GREY_400,actionButtonDeselectedBackground:p.GOOGLE_GREY_900,actionButtonDeselectedBorder:p.GOOGLE_GREY_500,actionButtonText:e.mainTextColor,actionButtonBackground:e.mainColor,actionButtonHighlight:e.highlightColor,actionButtonBorder:e.mainColor,actionButtonHoverText:p.GOOGLE_GREY_300,actionButtonHoverBackground:l,actionButtonHoverBorder:p.GOOGLE_GREY_300,actionButtonPressText:p.GOOGLE_GREY_300,actionButtonPressBackground:p.GOOGLE_GREY_900,actionButtonPressBorder:p.GOOGLE_GREY_300,flatControlBackground:"rgba(0, 0, 0, 0.5)",flatControlForeground:e.mainTextColor,flatControlHighlight:e.mainColor,attentionItemText:e.mainTextColor,attentionBackground:e.mainColor,errorColor:"#FC9991",warningColor:"#A9911F",webpageBarColor:"#303030",androidSystemBarColor:"#232323",amplifyColor:"rgba(255, 255, 255, 0.3)",amplifyColorTransparent:"rgba(255, 255, 255, 0)",signatureBackground:"#C2C2C2",themeMainColor:e.mainColor,themeTextColor:p.GOOGLE_WHITE,themeBackgroundColor:e.mainColor,themeBackgroundHover:a.lighten(.2).rgb().string(),sideMenuHeaderDividerColor:p.GOOGLE_GREY_700,sideMenuBackgroundColor:f,sideMenuBackgroundColorTransparent:"rgba(46,46,46,0)",sideMenuScrollShadow:"rgb(38, 38, 38)",sideMenuScrollShadowTransparent:"rgb(38, 38, 38, 0)",sideMenuSelected:(0,s.default)(e.mainColor).fade(.9).rgb().string(),sideMenuTextColor:p.GOOGLE_GREY_300,sideMenuIconColor:p.GOOGLE_GREY_500,sideMenuBackgroundOverlay:l,thinScrollbarColor:p.GOOGLE_GREY_300,dropdownChipBackgroundColor:p.GOOGLE_BLACK,dropdownChipBorderColor:"rgba(255, 255, 255, 0.08)",dropdownSpecialOptionBorderColor:p.GOOGLE_GREY_200,dropdownOverflowNumberColor:"#9AA0A6",dropdownInputBaseTableQuickEditFocusedColor:p.GOOGLE_BLACK,syncErrorIconColor:p.GOOGLE_RED_300,syncButtonBorderColor:"#3c4043",syncSeverityInfo:p.GOOGLE_THEME_INFO_DARK,syncSeverityWarning:p.GOOGLE_THEME_WARNING_DARK,syncSeverityError:p.GOOGLE_THEME_ERROR_DARK,syncErrorButtonBackground:"",syncSeverityOffline:p.GOOGLE_GREY_700,syncBadgeForUnsyncedChanges:"rgb(255,159,0)",syncErrorButtonTextAndBorder:p.GOOGLE_RED_100,syncErrorButtonTextAndBorderOffline:p.GOOGLE_RED_200,syncErrorButtonBackgroundHoverOrFocus:p.GOOGLE_THEME_ERROR_DARK_HOVER_OR_FOCUS,syncErrorButtonBorderHoverOrFocus:p.GOOGLE_RED_300,syncMenuBackgroundColor:p.GOOGLE_BLACK,simpleDialogCloseIcon:p.GOOGLE_GREY_500,"formattingRule-red":"#f12b2b","formattingRule-orange":"#f19a2b","formattingRule-yellow":"#e0ca18","formattingRule-green":"#14da37","formattingRule-cyan":"#19d0c0","formattingRule-blue":"#2c97f5","formattingRule-purple":"#a24bff","formattingRule-pink":"#ff4bce","formattingRule-white":"#ffffff","formattingRule-black":"#000000",muiPalette:{type:"dark",primary:{main:e.mainColor,contrastText:e.mainTextColor},secondary:{main:e.mainColor,contrastText:e.mainTextColor}}}}(h,n):A(h,n)}else{f.default.warnToDevConsole("Unknown theme (using default instead)",t);var m=e.computeColor("MediumBlue",!1);r=A(m,n)}return r.headerMuiPalette=e.createHeaderMuiPalette(r),Object.assign(Object.assign({},O),r)}},{key:"createHeaderMuiPalette",value:function(e){var t=(0,s.default)(e.headerText).dark()?"light":"dark";return Object.assign(Object.assign({},e.muiPalette),{type:t})}},{key:"dynamicFormattingColors",value:function(){return k}},{key:"isDynamicFormattingColor",value:function(e){return!!E[e]}},{key:"getFormattingColorForTheme",value:function(t,n){var r=e.getThemeData(t),o=r["formattingRule-"+n];if(o)return o;var i=r[n];return i||(f.default.warnToDevConsole("Unknown color specified in getFormattingColorForTheme"),"")}},{key:"computeColor",value:function(e,t){if(e||(f.default.warnToDevConsole("Unknown color name",e,"defaulting"),e="MediumBlue"),!v.default.isHexColor(e))return t?S[e]:w[e];var n=(0,s.default)(e),r=n.rotate(120).rgb().string(),o=n.rotate(240).rgb().string(),i=n.darken(.1).rgb().string(),a=p.GOOGLE_GREY_900,l=p.GOOGLE_WHITE;return{mainColor:e,secondaryColor:r,tertiaryColor:o,highlightColor:i,mainTextColor:n.light()?a:l}}},{key:"getColorLabel",value:function(e){var t={LightGreen:"Light green",ForestGreen:"Forest green",MediumBlue:"Medium blue",NavyBlue:"Navy blue"};return e in t?t[e]:e}},{key:"getLegacyColorsForLightOrDark",value:function(e){return e?w:S}},{key:"getColorsForLightOrDark",value:function(e){return T[e?"White":"Dark"]}}]),e}();t.default=P},881219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.abortOutstandingCalls=function(){for(;n.length>0;)n.shift().abort()};var n=[];$(document).ajaxComplete((function(e,t){var r=n.indexOf(t);r>-1&&n.splice(r,1)})),$(document).ajaxSend((function(e,t){n.push(t)}))},307827:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.onAppTemplateLoadCallbacks=t.CallbackGroup=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(593186));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){function e(){(0,o.default)(this,e),this.callbacks=[]}return(0,i.default)(e,[{key:"add",value:function(e){this.callbacks.push(e)}},{key:"run",value:function(){var e,t=l(this.callbacks);try{for(t.s();!(e=t.n()).done;){var n=e.value;try{n()}catch(e){a.default.ReportError({errorMessage:"Error in CallbackGroup.run",error:e,suppressBackendPost:!1})}}}catch(e){t.e(e)}finally{t.f()}}}]),e}();t.CallbackGroup=s;var c=new s;t.onAppTemplateLoadCallbacks=c},649431:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ReduxActionEvent=void 0;var o=r(n(689728)),i=r(n(856690)),a=r(n(861655)),l=r(n(994993)),u=r(n(73808)),s=n(377131),c=n(218546);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var p=function(e){(0,a.default)(n,e);var t=d(n);function n(e,r){return(0,i.default)(this,n),t.call(this,c.AppEventName.ReduxAction,{action:e,payload:r})}return(0,o.default)(n)}(s.AppEvent);t.ReduxActionEvent=p},976661:(e,t)=>{"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.valuesOnly,o=void 0===r||r;e.forEach((function(e){e.OrderDirection="Ascending"===e.Order?1:-1}));var i=function(n,r){for(var o,i=0;o=e[i];){var a=t[o.Column],l=o.Comparer(n[o.Column],r[o.Column],a);if(0!==l)return l*o.OrderDirection;i+=1}return 0};return o?i:function(e,t){return i(e.values,t.values)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.makeObjectComparer=n,t.makeSortRulesComparer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sortBy,r=void 0===n?o:n;return e.forEach((function(e){e.OrderDirection="Ascending"===e.Order?1:-1})),function(t,n){for(var o,i=0;o=e[i];){var a=o,l=a.Comparer,u=a.OrderDirection,s=l(r(t,i,o),r(n,i,o));if(0!==s)return s*u;i+=1}return 0}};var r=n;t.default=r;var o=function(e){return e}},971145:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.FifeMapTiling=void 0;var o=r(n(364687)),i=r(n(856690)),a=r(n(689728));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},c=["tile_width","tile_height","image_width","image_height","full_pyramid_depth"],d=["num_tiles_x","num_tiles_y","empty_pels_x","empty_pels_y"],p=function(){function e(t,n){(0,i.default)(this,e),this.zoom=t,this.attributes=n}return(0,a.default)(e,[{key:"attrValue",value:function(e){var t;return null===(t=this.attributes.getNamedItem(e))||void 0===t?void 0:t.value}},{key:"xTiles",get:function(){return Number(this.attrValue("num_tiles_x"))}},{key:"yTiles",get:function(){return Number(this.attrValue("num_tiles_y"))}},{key:"emptyX",get:function(){return Number(this.attrValue("empty_pels_x"))}},{key:"emptyY",get:function(){return Number(this.attrValue("empty_pels_y"))}}]),e}(),f=function(){function e(t,n){var r=this;(0,i.default)(this,e),this.url=t,this.tileUrl=function(e,t,n){return"".concat(r.url,"=").concat(["rp","pd","pc0x0","x".concat(e),"y".concat(t),"z".concat(n.zoom)].join("-"))};var o=n.children[0];this.attributes=o.attributes,this.zoomLevels=Array.from(o.children).map((function(e,t){return new p(t,e.attributes)}))}return(0,a.default)(e,[{key:"attrValue",value:function(e){var t;return null===(t=this.attributes.getNamedItem(e))||void 0===t?void 0:t.value}},{key:"zoomLevel",value:function(e){return this.zoomLevels[e]}},{key:"maxZoom",get:function(){return Number(this.attrValue("full_pyramid_depth"))-1}},{key:"tileWidth",get:function(){return Number(this.attrValue("tile_width"))}},{key:"tileHeight",get:function(){return Number(this.attrValue("tile_height"))}},{key:"widthScaling",get:function(){return 1-this.zoomLevels[0].emptyX/this.tileWidth}},{key:"heightScaling",get:function(){return 1-this.zoomLevels[0].emptyY/this.tileHeight}}],[{key:"tryGetFor",value:function(t){return s(this,void 0,void 0,o.default.mark((function n(){var r,i;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new URL(t)).searchParams.append("fifeParameters","g"),n.next=4,fetch(r.href);case 4:return i=n.sent,n.abrupt("return",e.fromFetchResponse(i));case 6:case"end":return n.stop()}}),n)})))}},{key:"fromFetchResponse",value:function(t){var n;return s(this,void 0,void 0,o.default.mark((function r(){var i,a,u,s,p,f,g,h,m,y;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=function(e){if(!e)throw new Error("FifeMapTiling xml did not match expected format")},r.next=3,t.text();case 3:if(!(a=r.sent).startsWith("Error")){r.next=6;break}throw new Error(a);case 6:self.trustedTypes&&self.trustedTypes.createPolicy?(s=self.trustedTypes.createPolicy("fifemaptiling",{createHTML:function(e){return e}}),u=s.createHTML(a)):u=a,p=(new window.DOMParser).parseFromString(u,"text/xml"),f=p.children[0],g=l(c);try{for(g.s();!(h=g.n()).done;)m=h.value,i("string"==typeof(null===(n=f.attributes.getNamedItem(m))||void 0===n?void 0:n.value))}catch(e){g.e(e)}finally{g.f()}return i(f.children.length>0),Array.from(f.children).forEach((function(e){var t,n,r=l(d);try{for(r.s();!(n=r.n()).done;){var o=n.value;i("string"==typeof(null===(t=e.attributes.getNamedItem(o))||void 0===t?void 0:t.value))}}catch(e){r.e(e)}finally{r.f()}})),y=t.url.replace(/(=[\w-]+)?$/,""),r.abrupt("return",new e(y,p));case 15:case"end":return r.stop()}}),r)})))}}]),e}();t.FifeMapTiling=f},46239:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageMapType=void 0;var o=r(n(364687)),i=r(n(627424)),a=r(n(856690)),l=r(n(689728)),u=r(n(593186)),s=n(515128),c=n(714067),d=n(44617),p=n(971145),f=n(186473),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},h={},m=function(e){return Math.round(1e8*e)/1e6},y=function(){function e(t){var n=this;(0,a.default)(this,e),this.url=t,this.callbacks=[],this.getTileUrl=function(e,t){var r,o=e.x,i=e.y,a=null===(r=n.tiling)||void 0===r?void 0:r.zoomLevel(t);if(null==a||null==n.tiling)return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";var l=n.getNormalizedCoord(o,i,a);return l?(o=l.x,i=l.y,n.tiling.tileUrl(o,i,a)):null},this.getTiling(t)}return(0,l.default)(e,[{key:"getTiling",value:function(e){return g(this,void 0,void 0,o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.dynamicRollouts.includeByOwnerId("ClientFifeMapTiling")||!c.GETIMAGEURL_PATTERN.test(e)&&!c.GETREMOTEIMAGEURL_PATTERN.test(e)){t.next=10;break}return t.prev=1,t.next=4,p.FifeMapTiling.tryGetFor(e);case 4:this.tiling=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),u.default.ReportErrorOnce({errorMessage:"Failed to get FifeMapTiling",error:(0,s.asError)(t.t0)});case 10:if(null!=this.tiling){t.next=21;break}return t.prev=11,t.next=14,f.ImgixMapTiling.tryGetFor(e);case 14:this.tiling=t.sent,t.next=21;break;case 17:t.prev=17,t.t1=t.catch(11),u.default.ReportErrorOnce({errorMessage:"Failed to get ImgixMapTiling",error:(0,s.asError)(t.t1)}),this.error=(0,s.asError)(t.t1);case 21:for(;this.callbacks.length;)this.callbacks.shift()(this.error);case 22:case"end":return t.stop()}}),t,this,[[1,7],[11,17]])})))}},{key:"tileWidth",get:function(){var e,t;return null!==(t=null===(e=this.tiling)||void 0===e?void 0:e.tileWidth)&&void 0!==t?t:1280}},{key:"tileHeight",get:function(){var e,t;return null!==(t=null===(e=this.tiling)||void 0===e?void 0:e.tileHeight)&&void 0!==t?t:1280}},{key:"widthScaling",get:function(){var e,t;return null!==(t=null===(e=this.tiling)||void 0===e?void 0:e.widthScaling)&&void 0!==t?t:1}},{key:"heightScaling",get:function(){var e,t;return null!==(t=null===(e=this.tiling)||void 0===e?void 0:e.heightScaling)&&void 0!==t?t:1}},{key:"id",value:function(){return"image"}},{key:"isReady",value:function(){return null!=this.tiling}},{key:"whenReady",value:function(e){var t=this;this.isReady()?setTimeout(e,1):this.error?setTimeout((function(){e(t.error)}),1):this.callbacks.indexOf(e)<0&&this.callbacks.push(e)}},{key:"getAllTileUrls",value:function(e){var t,n=[],r=null===(t=this.tiling)||void 0===t?void 0:t.zoomLevel(e);if(r)for(var o=0;o<r.xTiles;o++)for(var i=0;i<r.yTiles;i++){var a=this.getTileUrl({x:o,y:i},e);null!=a&&n.push(a)}return n}},{key:"definition",value:function(t){var n,r,o=this,i=new t.maps.ImageMapType({getTileUrl:this.getTileUrl,tileSize:new t.maps.Size(this.tileWidth,this.tileHeight),maxZoom:null!==(r=null===(n=this.tiling)||void 0===n?void 0:n.maxZoom)&&void 0!==r?r:10,minZoom:1,name:"Image"});return i.projection={fromLatLngToPoint:function(n){var r=n.lat(),i=n.lng(),a=e.fromLatLngToPoint(r,i),l=a.x,u=a.y;return new t.maps.Point(l*o.tileWidth*o.widthScaling,u*o.tileHeight*o.heightScaling)},fromPointToLatLng:function(n,r){var i=n.x/o.tileWidth/o.widthScaling,a=n.y/o.tileHeight/o.heightScaling,l=e.fromPointToLatLng(i,a),u=l.lat,s=l.lng;return new t.maps.LatLng(u,s,r)}},i}},{key:"mapOptions",value:function(){return{mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1}}},{key:"wrapX",value:function(){return!1}},{key:"wrapY",value:function(){return!1}},{key:"defaultZoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focused,n=void 0!==t&&t;return n?3:1}},{key:"getNormalizedCoord",value:function(e,t,n){var r=n.xTiles,o=n.yTiles;if(t<0||t>=o){if(!this.wrapY())return null;t=(t%o+o)%o}if(e<0||e>=r){if(!this.wrapX())return null;e=(e%r+r)%r}return{x:e,y:t}}}],[{key:"MIN_ZOOM",get:function(){return 1}},{key:"MAX_ZOOM",get:function(){return 10}},{key:"CACHE_MAX_ZOOM",get:function(){return 4}},{key:"DEFAULT_ZOOM",get:function(){return 1}},{key:"getForUrl",value:function(t){return t in h&&!h[t].error||(h[t]=new e(t)),h[t]}},{key:"fromLatLngToPoint",value:function(e,t){return{x:.5+4*t/360,y:.5+4*e/180}}},{key:"fromPointToLatLng",value:function(e,t){return{lat:(180*t-90)/4,lng:(360*e-180)/4}}},{key:"fromLatLngToXY",value:function(t,n){var r=e.fromLatLngToPoint(t,n),o=r.x,i=r.y;return{x:m(o),y:m(i)}}},{key:"fromXYToLatLng",value:function(t,n){return e.fromPointToLatLng(t/100,n/100)}},{key:"fromLatLngToXYString",value:function(t,n){var r=e.fromLatLngToPoint(t,n),o=r.x,i=r.y;return"".concat(m(o),", ").concat(m(i))}},{key:"fromXYStringToLatLng",value:function(t){var n=(t=t||"").split(","),r=(0,i.default)(n,2),o=r[0],a=r[1];return e.fromPointToLatLng(Number(o)/100,Number(a)/100)}}]),e}();t.ImageMapType=y},186473:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ImgixMapTiling=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(402568)),l=n(504674),u=256,s=function(e,t){null==t&&(t={});var n=function(e,t){var n=l.IMGIX+e+t,r=(0,a.default)(n);return t.length>0?t+"&s="+r:"?s="+r}(e="/".concat(function(e){return e=e.replace(/^\//,""),/^https?:\/\//.test(e)?encodeURIComponent(e):encodeURI(e)}(e)),function(e){var t,n,r,o,i=[];for(t in e)n=e[t],r=encodeURIComponent(t),o=encodeURIComponent(n),i.push(r+"="+o);return i[0]&&(i[0]="?"+i[0]),i.join("&")}(t));return"https://appsheet.imgix.net"+e+n},c=function(){function e(t,n,r){(0,o.default)(this,e),this.url=t,this.tileWidth=n,this.tileHeight=r,this.widthScaling=1,this.heightScaling=1}return(0,i.default)(e,[{key:"zoomLevel",value:function(e){var t=Math.pow(2,e);return{zoom:e,xTiles:t,yTiles:t}}},{key:"tileUrl",value:function(e,t,n){var r={fit:"crop",crop:"focalpoint",w:this.tileWidth,h:this.tileHeight,"fp-x":(e+.5)/n.xTiles,"fp-y":(t+.5)/n.yTiles,"fp-z":n.xTiles};return s(this.url,r)}}],[{key:"tryGetFor",value:function(t){return new Promise((function(n,r){var o=new Image;o.onload=function(){var r=o.width/o.height,i=r<=1?u:Math.floor(r*u),a=r>=1?u:Math.floor(u/r);n(new e(t,i,a))},o.onerror=function(){r(new Error("XY BaseImage failed to load url "+t))},o.src=s(t,{w:128,h:128,fit:"fill"})}))}}]),e}();t.ImgixMapTiling=c},454852:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=n(606610),u=r(n(888861)),s=r(n(385857)),c=r(n(962553)),d=n(166089),p="Display_Prominently",f="Display_Inline",g=function(){function e(t){(0,o.default)(this,e),this.action=t,this._evalTreeLookup={}}return(0,i.default)(e,[{key:"getFA5CompatibleIcon",value:function(){var e=this.action.Icon;return e.startsWith("fa ")||e.startsWith("fal ")||e.startsWith("far ")||e.startsWith("fas ")?e:"fa "+e}},{key:"getFA5LightIconToReplaceDefault",value:function(){return this.getFA5CompatibleIcon().replace("fa ","fal ")}},{key:"name",value:function(){return this.action.Name}},{key:"createdBy",value:function(){return this.action.CreatedBy||"Unknown"}},{key:"isAutoCreated",value:function(){return a.default.includes(["Auto (column)","Auto (row)","Auto (table)"],this.createdBy())}},{key:"evalTreeLookup",value:function(e){if(!this._evalTreeLookup[e]){var t=this.action.ExprLookup||{};try{t[e]&&(this._evalTreeLookup[e]=u.default.create(t[e]))}catch(e){}}return this._evalTreeLookup[e]}},{key:"displayName",value:function(e,t,n,r){if("Delete"===this.action.Name)return e.MapActionName(this.action.Name);var o=this.evalTreeLookup("DisplayName");if(o){var i=o.run(new s.default(e,t,n,void 0,void 0,void 0,r));return i?String(i):this.name()}return this.name()}},{key:"type",value:function(){return"NAVIGATE_DIFFERENT_APP"===this.action.ActionType?"NAVIGATE_APP":this.action.ActionType}},{key:"table",value:function(){return this.action.Table}},{key:"icon",value:function(){return this.action.Icon}},{key:"dynamicTableScope",value:function(){var e=this,t=l.actionTypes[this.type()];return t&&!!t.tableScopeWhenStatic&&0===this.valueFormulaColumnsReferenced().length&&0===this.conditionFormulaColumnsReferenced().length&&["DisplayName"].every((function(t){var n=e.evalTreeLookup(t);return!n||0===n.columnsReferenced().length}))}},{key:"tableScope",value:function(){return this.action.TableScope}},{key:"prominence",value:function(){return this.action.ActionDefinition&&this.action.ActionDefinition.Prominence||p}},{key:"needsConfirmation",value:function(){return this.action.ActionDefinition&&this.action.ActionDefinition.NeedsConfirmation||!1}},{key:"confirmationMessage",value:function(e,t,n){var r=this.evalTreeLookup("ConfirmationMessage");if(r){var o=r.run(new s.default(e,t,n));return o?String(o):this.name()}return e.MapActionName("Are you sure?")}},{key:"autoReferencedColumn",value:function(){return this.action.AutoReferencedColumn}},{key:"launchExternal",value:function(){return this.action.ActionDefinition&&this.action.ActionDefinition.LaunchExternal||!1}},{key:"isValid",value:function(e){if(!this.action.IsValid)return!1;var t=l.actionTypes[this.type()];if(!t)return!1;if(t.requireValueEvalTree&&!this.action.ValueEvaluatable)return!1;if((this.tableScope()||this.dynamicTableScope())&&e){var n=this.conditionEvalTree();if(n&&!n.run(e))return!1}return!0}},{key:"isValidForTable",value:function(e,t,n,r){var o=this;return!(this.requiresDeletePermission(n)&&!e.allowsDelete(n))&&(!(this.requiresUpdatePermission(n)&&!e.allowsUpdate(n))&&(!(this.requiresAddPermission(n)&&!e.allowsAdd(n))&&((!t.isSlice()||!this.isAutoCreated()||null==this.columnToEdit()||0!==t.allAttributes().filter((function(e){return e.name()===o.columnToEdit()})).length)&&!(n&&(this.tableScope()||this.dynamicTableScope())&&!this.isValid(r||n.dataContext())))))}},{key:"isValidForRow",value:function(e,t){var n=this.conditionEvalTree();if(n&&(a.default.isEqual(e,t.rowData)||((t=t.copy()).rowData=e),!n.run(t)))return!1;return!0}},{key:"isBulkRunnable",value:function(){if(this.action.ActionDefinition&&null!=this.action.ActionDefinition.BulkApplicable)return this.action.ActionDefinition.BulkApplicable;var e=l.actionTypes[this.type()];return!!e&&e.bulkRunnable}},{key:"navigatesApp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.AppGlobals.AppModel,t=l.actionTypes[this.type()];return!t||("COMPOSITE"===this.type()?this.nestedActions(e).some((function(t){return t.navigatesApp(e)})):t.navigatesApp)}},{key:"requiresDeletePermission",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.AppGlobals.AppModel,t=l.actionTypes[this.type()];return!t||("COMPOSITE"===this.type()?this.nestedActions(e).some((function(t){return t.requiresDeletePermission(e)})):t.requireDeletePermission)}},{key:"requiresUpdatePermission",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.AppGlobals.AppModel,t=l.actionTypes[this.type()];return!t||("COMPOSITE"===this.type()?this.nestedActions(e).some((function(t){return t.requiresUpdatePermission(e)})):t.requireUpdatePermission)}},{key:"requiresAddPermission",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.AppGlobals.AppModel,t=l.actionTypes[this.type()];return!t||("COMPOSITE"===this.type()?this.nestedActions(e).some((function(t){return t.requiresAddPermission(e)})):t.requireAddPermission)}},{key:"nestedActions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.AppGlobals.AppModel;if("COMPOSITE"!==this.type())return[];if(!this.action.ActionDefinition||!this.action.ActionDefinition.Actions)return[];var n=[];return this.action.ActionDefinition.Actions.forEach((function(r){var o=t.appTemplate.actions().findByName(e.table(),r.ActionName);o&&n.push(o)})),n}},{key:"columnToEdit",value:function(){return this.action.ColumnToEdit}},{key:"columnAttachment",value:function(){return this.action.ColumnAttachment}},{key:"conditionEvalTree",value:function(){return this.action.ConditionEvaluatable?(this._conditionEvalTree||(this._conditionEvalTree=u.default.create(this.action.ConditionEvaluatable)),this._conditionEvalTree):null}},{key:"conditionFormulaColumnsReferenced",value:function(){var e=this.conditionEvalTree();return e?e.columnsReferenced():[]}},{key:"valueEvalTree",value:function(){return this.action.ValueEvaluatable?(this._valueEvalTree||(this._valueEvalTree=u.default.create(this.action.ValueEvaluatable)),this._valueEvalTree):null}},{key:"valueFormulaColumnsReferenced",value:function(){var e=this.valueEvalTree();return e?e.columnsReferenced():[]}},{key:"messageBodyEvalTree",value:function(){return this.evalTreeLookup("TextMessage")}},{key:"messageSubjectEvalTree",value:function(){return this.evalTreeLookup("MessageSubject")}},{key:"referencedRowsEvalTree",value:function(){return this.evalTreeLookup("ReferencedRows")}},{key:"inputParameterValueEvalTree",value:function(e){return this.evalTreeLookup("Parameters["+e+"]")}},{key:"assignments",value:function(){var e,t,n=null===(t=null===(e=null==this?void 0:this.action)||void 0===e?void 0:e.ActionDefinition)||void 0===t?void 0:t.Assignments;if(n){for(var r=0;r<n.length;r++)n[r].NewColumnValue&&(n[r].valueEvalTree=this.evalTreeLookup("Assignments["+r+"]"));return n.filter((function(e){var t=e.ColumnToEdit;return null!=t&&""!==t}))}return this.valueEvalTree()?[{ColumnToEdit:this.columnToEdit(),valueEvalTree:this.valueEvalTree()}]:[]}},{key:"csvLocale",value:function(e){var t,n;if(null===(t=this.action.ActionDefinition.CsvLocale)||void 0===t?void 0:t.startsWith("=")){var r=this.evalTreeLookup("CsvLocale");if(r){var o=r.run(new s.default(e));return String(o)}return""}return null!==(n=this.action.ActionDefinition.CsvLocale)&&void 0!==n?n:"en-US"}},{key:"referencedTable",value:function(){return this.action.ActionDefinition?this.action.ActionDefinition.ReferencedTable:null}},{key:"referencedAction",value:function(){return this.action.ActionDefinition?this.action.ActionDefinition.ReferencedAction:null}},{key:"showInlineFor",value:function(e){if(this.prominence()!==f)return!1;var t=this.columnAttachment();return t&&t===e.name()}},{key:"triggerEventId",value:function(){var e,t;return null===(t=null===(e=this.action)||void 0===e?void 0:e.ActionDefinition)||void 0===t?void 0:t.triggerEventId}}],[{key:"DISPLAY_PROMINENTLY",get:function(){return p}},{key:"DO_NOT_DISPLAY",get:function(){return"Do_Not_Display"}},{key:"DISPLAY_INLINE",get:function(){return f}},{key:"DISPLAY_OVERLAY",get:function(){return"Display_Overlay"}},{key:"createFromAttribute",value:function(t,n,r,o){var i=[],l="Ref"===o.type()?o:o.basestAttribute(),s=u.default.createNot(u.default.createIsBlank(u.default.createColumnLookup(n,l))).model;if("Email"===l.type())i.push({ActionType:"EMAIL",ActionDefinition:{Prominence:f},Icon:"fa-envelope",Name:"Compose Email ("+l.name()+")",ValueEvaluatable:u.default.createColumnLookup(n,l).model});else if("Address"===l.type()||"LatLong"===l.type()||"ChangeLocation"===l.type())i.push({ActionType:"NAVIGATE_APP",ActionDefinition:{Prominence:f},Icon:"fa-map-marker",Name:"View Map ("+l.name()+")",ValueEvaluatable:u.default.createConcatenate(u.default.createConstantValue(t.AppTemplate.Name+"#page=map&table="+r+"&mapcolumn="+l.name()+"&row=","Text"),u.default.createColumnLookup(n,n.keyAttribute())).model});else if("App"===l.type())i.push({ActionType:"NAVIGATE_APP",ActionDefinition:{Prominence:f},Icon:"fa-tasks",Name:"Open App ("+l.name()+")",ValueEvaluatable:u.default.createColumnLookup(n,l).model});else if("Ref"===l.type()){var d=l.referencedTableName();c.default.findByName(d,t).tableSchema&&i.push({ActionType:"NAVIGATE_APP",ActionDefinition:{Prominence:f},Icon:"fa-chevron-circle-right",Name:"View Ref ("+l.name()+")",ValueEvaluatable:u.default.createConcatenate(u.default.createConstantValue("#page=detail&table="+d+"&row=","Text"),u.default.createColumnLookup(n,l)).model})}else if("Phone"===l.type()){var p=l.evalTreeLookup("TextMessage"),g=p?p.model:null,h=!1!==l.auxData().Callable,m=!1!==l.auxData().Textable;h&&i.push({ActionType:"CALL",ActionDefinition:{Prominence:f},Icon:"fa-phone",Name:"Call Phone ("+l.name()+")",ValueEvaluatable:u.default.createColumnLookup(n,l).model}),m&&i.push({ActionType:"SMS",ActionDefinition:{Prominence:f},Icon:"fa-comment",Name:"Send SMS ("+l.name()+")",ValueEvaluatable:u.default.createColumnLookup(n,l).model,ExprLookup:{TextMessage:g}})}else"Url"===l.type()?i.push({ActionType:"NAVIGATE_URL",ActionDefinition:{Prominence:f,LaunchExternal:l.auxData().LaunchExternal},Icon:"fa-external-link",Name:"Open URL ("+l.name()+")",ValueEvaluatable:u.default.createConcatenate(u.default.createColumnLookup(n,l)).model}):"File"===l.type()&&i.push({ActionType:"OPEN_FILE",ActionDefinition:{Prominence:f},Icon:"fa-file-text",Name:"Open File ("+l.name()+")",ValueEvaluatable:u.default.createColumnLookup(n,l).model});return i.map((function(t){return new e(a.default.extend(t,{ConditionEvaluatable:s,CreatedBy:"Auto (column)",Table:r,IsValid:!0,ColumnToEdit:l.name(),ColumnAttachment:l.name(),AutoReferencedColumn:l.name()}))}))}}]),e}();t.default=g},181405:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(454852)),u=r(n(962553)),s=r(n(385857)),c=r(n(593186)),d=function(){function e(t){(0,o.default)(this,e),this.actions=t.map((function(e){return new l.default(e)})).filter((function(e){return e.isValid()})),this.actionsByTable=a.default.groupBy(this.actions,(function(e){return e.table()}))}return(0,i.default)(e,[{key:"findByName",value:function(e,t){return a.default.find(this.actionsByTable[e],(function(e){return e.name()===t}))}},{key:"hasSystemAddActions",value:function(){return this.actions.filter((function(e){return"ADD_RECORD"===e.type()&&e.isAutoCreated()})).length>0}},{key:"actionsForTable",value:function(e,t,n,r){var o=u.default.findByName(e,t),i=o.table,a=o.tableSchema;if(!i||!a)return[];var l=a.isSlice()?a.sourceTableName():e,s=this.actions.filter((function(e){return e.table()===l}));if(a.isSlice()){var c=a.sliceDefinition.Actions;c&&c.indexOf("**auto**")<0&&(s=c.map((function(e){return s.find((function(t){return t.name()===e}))})))}var d=s.filter((function(e){return e.isValidForTable(i,a,t,r)}));return n?d.filter((function(e){return e.isBulkRunnable()})):d}},{key:"actionsForRows",value:function(e,t,n,r,o){var i=u.default.findByName(t,n).tableSchema;if(!i)return c.default.warnToDevConsole("Error running actionsForRow, unknown table:",t),[];var l=this.actionsForTable(t,n).filter((function(t){if(t.tableScope())return!1;var r=o||new s.default(n,i);return!a.default.some(e,(function(e){return r.replaceRowData(e),t.isValidForRow(e,r)?null:e}))}));return r?l.filter((function(e){return e.isBulkRunnable()})):l}},{key:"actionsForRow",value:function(e,t,n,r){return this.actionsForRows([e],t,n,!1,r)}},{key:"actionsAtTableScope",value:function(e,t,n){return u.default.findByName(e,t).tableSchema?this.actionsForTable(e,t,void 0,n).filter((function(e){return e.tableScope()||e.dynamicTableScope()})):(c.default.warnToDevConsole("Error running actionsAtTableScope, unknown table:",e),[])}}]),e}();t.default=d},429815:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.allExternalServicesEnabled=t.SCANNER_MIN_SUBSCRIPTION=t.SCANNER=void 0,t.getMaxImageResolution=function(){var e;return(null===(e=S.AppGlobals.AppModel)||void 0===e?void 0:e.appTemplate.imageResolution)||600};var o,i=r(n(856690)),a=r(n(689728)),l=r(n(496486)),u=r(n(192137)),s=r(n(282615)),c=r(n(181405)),d=r(n(173861)),p=r(n(593186)),f=r(n(985341)),g=r(n(973289)),h=r(n(455842)),m=r(n(738628)),y=r(n(81873)),v=r(n(454852)),b=n(161171),O=n(506871),w=n(591530),S=n(166089),T=n(714067),A=n(894002),k=w.SubscriptionType.FREE;t.SCANNER_MIN_SUBSCRIPTION=k,t.SCANNER=o,function(e){e[e.DISABLED=0]="DISABLED",e[e.MLKIT=1]="MLKIT",e[e.SCANDIT=2]="SCANDIT"}(o||(t.SCANNER=o={}));var E={EnableMapsAndGeocoding:!0,EnableFirebase:!0,EnableBarcodeScanning:!0,ScanningServiceName:"System Default: Google MLKit"};t.allExternalServicesEnabled=E;var P={ComparisonOperatorBlankValuesMode:b.ExpressionSettingsOption.Legacy,RefRowsParentMode:b.ExpressionSettingsOption.Legacy,NumberDivisionMode:O.NumberDivisionOption.Number};var C=function(){function e(t,n){var r=this;(0,i.default)(this,e),this._cacheStore={},this._ocrExtractors={},this._predictors={},this.model=t,this.appModel=n,this._actions=null,this._viewControlsByName=l.default.keyBy(this.viewControls(),(function(e){return e.Name.toLowerCase()})),this._richViewControlsByName=l.default.mapValues(this._viewControlsByName,(function(e){return new s.default(e)})),this._flatTableSchemasByName=l.default.keyBy(this.rootTableSchemas(),(function(e){return e.Name.toLowerCase()})),this._richTableSchemasByName=l.default.mapValues(this._flatTableSchemasByName,(function(e){return new u.default(e)})),this._tableDefinitionsByName=l.default.keyBy(this.tableDefinitions(),(function(e){return e.Name.toLowerCase()})),this._sliceDefinitionsByName=l.default.keyBy(this.sliceDefinitions(),(function(e){return e.Name.toLowerCase()})),this._schemasByTableName=l.default.mapValues(this._tableDefinitionsByName,(function(e){return r.findSchema(e.SchemaName)})),this._sliceTableSchemasBySliceName=l.default.mapValues(this._sliceDefinitionsByName,(function(e){var t=r.findRootTableDefinition(e.SourceTable),n=((null==t?void 0:t.SchemaName)||"").toLowerCase(),o=r._flatTableSchemasByName[n];return new u.default(o,e)}))}return(0,a.default)(e,[{key:"_cache",value:function(e,t){return this._cacheStore.hasOwnProperty(e)||(this._cacheStore[e]=t()),this._cacheStore[e]}},{key:"id",value:function(){return this.model.Id}},{key:"name",value:function(){return this.model.Name}},{key:"shortName",value:function(){return this.model.ShortName}},{key:"respectShowIf",get:function(){return!(!this.model.Presentation||!this.model.Presentation.RespectShowIfEverywhere)}},{key:"aboutUrl",get:function(){var e,t;return null===(t=null===(e=this.model.Behavior)||void 0===e?void 0:e.Description)||void 0===t?void 0:t.AboutUrl}},{key:"ownerEmail",get:function(){return this.model.OwnerEmail}},{key:"needsUserConsent",get:function(){return this.model.Behavior.UsageScopes!==this.model.Behavior.UserConsentedScopes}},{key:"usageScopes",get:function(){return this.model.Behavior.UsageScopes}},{key:"logoUrl",get:function(){var e;return null===(e=this.model.Presentation)||void 0===e?void 0:e.LogoUrl}},{key:"imageResolution",get:function(){switch(this.model.Presentation&&this.model.Presentation.PhotoResolution){case"Low":return 200;case"Medium":return 800;case"High":return 1600;case"Full":return T.NO_RESIZE_WIDTH;default:return 600}}},{key:"barcodeScanner",get:function(){if(this.model.OwnerId,this.model.OwnerSubscription<k)return{enabled:!1,type:o.DISABLED};var e=this.externalServiceSettings,t=e.EnableBarcodeScanning,n=e.ScanningServiceName,r=this.externalAccounts[n];return t?n&&r?{enabled:!0,type:o.SCANDIT,key:r}:this.appModel.inRollout("mlkitScanner")?{enabled:!0,type:o.MLKIT}:{enabled:!0,type:o.SCANDIT}:{enabled:!1,type:o.DISABLED}}},{key:"scanningDisabled",get:function(){return!this.barcodeScanner.enabled}},{key:"ownedByCurrentUser",get:function(){return S.AppGlobals.AppState.UserInformation.Id===this.model.OwnerId}},{key:"automaticUpdates",get:function(){return!(!this.model.Behavior.AutoBackgroundUpdate||(this.model.IsPublic||this.model.IsTeamPublic)&&!this.ownedByCurrentUser)}},{key:"syncOnStart",get:function(){return this.model.Behavior.SyncOnStart}},{key:"externalServiceSettings",get:function(){return e.getExternalServiceSettings(this.model)}},{key:"externalAccounts",get:function(){var e;return null!==(e=this.model.ExternalAccounts)&&void 0!==e?e:{}}},{key:"isGoogleMapsDisabled",get:function(){return!1===this.externalServiceSettings.EnableMapsAndGeocoding}},{key:"isFirebaseDisabled",get:function(){return!1===this.externalServiceSettings.EnableFirebase}},{key:"isBarcodeScanningDisabled",get:function(){return!1===this.externalServiceSettings.EnableBarcodeScanning}},{key:"lastModified",value:function(){var e=null;if(this.model.LastModified){var t=this.model.LastModified.match(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d(?::[0-5]\d(?:\.\d+)?)?([+-][0-2]\d:[0-5]\d|[Zz])?$/);t&&(e=this.model.LastModified,null==t[1]&&(e+="Z"))}return e}},{key:"normalizedFontSize",value:function(){var e,t=null===(e=this.model.Presentation)||void 0===e?void 0:e.FontSize;return 16===t?18:t}},{key:"tableDefinitions",value:function(){return(this.model.AppData.DataSets||[]).filter((function(e){return e.IsValid}))}},{key:"actions",value:function(){var e=this;return this._cache("actions",(function(){var t=(e.model.AppData.DataActions||[]).filter((function(e){return e.IsValid&&!(0,A.isEntityEmbedded)(e.Scope)})),n=l.default.sortBy(t,(function(e){return e.ActionOrder}));return new c.default(n)}))}},{key:"getProminentActionsForTable",value:function(e){return this.actions().actionsForTable(e,this.appModel,!1).filter((function(e){return e.prominence()===v.default.DISPLAY_PROMINENTLY})).map((function(e){return e.action}))}},{key:"sliceDefinitions",value:function(){return(this.model.AppData.TableSlices||[]).filter((function(e){return e.IsValid}))}},{key:"rootTableSchemas",value:function(){var e=this.model.AppData.DataSchemas||[];return e.filter((function(e){return e.IsValid}))}},{key:"expressionSettings",value:function(){return this.model.AppData.ExpressionSettings||P}},{key:"viewControls",value:function(){return(this.model.Presentation.Controls||[]).filter((function(e){return e.IsValid}))}},{key:"formattingRules",value:function(){var e=this;return this._cache("formattingRules",(function(){var t=e.model.Presentation.FormatRules||[];return new d.default(l.default.sortBy(t.filter((function(e){return e.IsValid})),(function(e){return e.RuleOrder})),e.appModel)}))}},{key:"predictiveModels",value:function(){var e=this;return this._cache("predictiveModels",(function(){var t;return((null===(t=e.model.Behavior)||void 0===t?void 0:t.AppPredictiveModels)||[]).filter((function(e){return e.IsValid})).map((function(e){return new g.default(e)}))}))}},{key:"ocrModels",value:function(){var e=this;return this._cache("ocrModels",(function(){var t;return((null===(t=e.model.Behavior)||void 0===t?void 0:t.AppOcrModels)||[]).filter((function(e){return e.IsValid})).map((function(e){return new h.default(e)}))}))}},{key:"ocrTextExtractor",value:function(){var e=this;return this._cache("ocrTextExtractor",(function(){var t=e.id();return new y.default({appId:t})}))}},{key:"loadOcrExtractors",value:function(){var e=this;this._cache("loadOcrExtractors",(function(){var t=e.ocrModels(),n=e.id();t.forEach((function(t){var r=new m.default({appId:n,ocrModel:t});e._ocrExtractors[t.name()]=r}))}))}},{key:"loadPredictors",value:function(){var e=this;this._cache("loadPredictors",(function(){e._predictors={};var t=e.predictiveModels().filter((function(e){return e.predictorReady()}));Promise.all(t.map((function(t){return f.default.fromDefinition(e.model,t).then((function(n){e._predictors[t.name()]=n}))}))).catch((function(e){if(!(String(e).indexOf("Unexpected token < in JSON")>=0))throw e})).catch((function(e){return p.default.ReportError({errorMessage:"Error loading predictive models",error:e})}))}))}},{key:"findOcrModel",value:function(e){return this.ocrModels().find((function(t){return t.name()===e}))}},{key:"findOcrExtractor",value:function(e){return this._ocrExtractors?this._ocrExtractors[e]:null}},{key:"findPredictor",value:function(e){return this._predictors?this._predictors[e]:null}},{key:"findSchema",value:function(e){var t=(e=e||"").toLowerCase();return this._richTableSchemasByName[t]}},{key:"findSchemaForTable",value:function(e){var t=(e=e||"").toLowerCase();return this._sliceTableSchemasBySliceName[t]||this._schemasByTableName[t]}},{key:"findRootSchemaForTable",value:function(e){var t;e=e||"";var n=this._sliceTableSchemasBySliceName[e.toLowerCase()];return t=n?(n.sourceTableName()||"").toLowerCase():e.toLowerCase(),this.findSchemaForTable(t)}},{key:"findRootTableDefinition",value:function(e){var t=(e=e||"").toLowerCase(),n=this._tableDefinitionsByName[t];if(!n){var r=this._sliceDefinitionsByName[t];r&&(t=r.SourceTable.toLowerCase(),n=this._tableDefinitionsByName[t])}return n}},{key:"findSliceDefinition",value:function(e){return e=e||"",this._sliceDefinitionsByName[e.toLowerCase()]}},{key:"findControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||"";var n=this._viewControlsByName[e.toLowerCase()];return n&&t&&t!==n.Action?null:n}},{key:"findControlsForTable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||"","string"==typeof t&&(t=[t]);var r=l.default.includes(t,"form"),o=this.viewControls().filter((function(o){var i="table"===o.Action?"fastTable":o.Action,a=o.TableOrFolderName&&o.TableOrFolderName.toLowerCase()===e.toLowerCase(),u=l.default.includes(t,i),s="ref"===o.Position;return n?!(!r&&"form"===o.Action)&&(a&&(u||s)):a&&u}));return l.default.sortBy(o,(function(e){return"ref"===e.Position?1:2}))}},{key:"getView",value:function(e){return e=e||"",this._richViewControlsByName[e.toLowerCase()]}},{key:"getViewDefinition",value:function(e){var t=this.getView(e);return t?t.definition():{}}},{key:"views",value:function(){return l.default.values(this._richViewControlsByName)}},{key:"secureImageAccess",get:function(){return(this.model.Behavior||{}).SecureImageAccess}},{key:"usesLocation",get:function(){var e;return null===(e=this.model.Behavior)||void 0===e?void 0:e.UsesGeolocation}},{key:"hasValidUsageScopesConsent",value:function(){return this.model.IsValid&&(!this.model.Behavior.RequireUserConsent||this.model.Behavior.UsageScopes===this.model.Behavior.UserConsentedScopes)}},{key:"recordUsageScopesConsent",value:function(){var e;l.default.set(this.model,"Behavior.UserConsentedScopes",null===(e=this.model.Behavior)||void 0===e?void 0:e.UsageScopes)}}],[{key:"getExternalServiceSettings",value:function(e){var t,n;return null!==(n=null===(t=e.Behavior)||void 0===t?void 0:t.ExternalServiceSettings)&&void 0!==n?n:E}}]),e}();t.default=C},150198:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.typeComparers=t.textTypes=t.temporalTypes=t.presentableImageTypes=t.numberTypes=t.mostlyNumberTypes=t.listTypes=t.imageTypes=t.externalFileTypes=t.enumeratedTypes=t.default=t.decimalTypes=t.colorMap=t.changeTriggeredTypes=t.booleanTypes=t.basicTypes=t.actionTypes=t.ValueFormat=t.LongTextFormatting=t.Attribute=void 0;var i,a,l=r(n(918698)),u=r(n(627424)),s=r(n(856690)),c=r(n(689728)),d=r(n(496486)),p=r(n(593302)),f=r(n(498967)),g=r(n(249e3)),h=r(n(190644)),m=r(n(593186)),y=E(n(365914)),v=r(n(730381)),b=r(n(440587)),O=r(n(302443)),w=r(n(304878)),S=E(n(888861)),T=n(166089),A=r(n(112368));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}t.ValueFormat=i,function(e){e.Native="Native",e.Wire="Wire"}(i||(t.ValueFormat=i={})),t.LongTextFormatting=a,function(e){e.HTML="HTML",e.Markdown="Markdown",e.PlainText="Plain Text"}(a||(t.LongTextFormatting=a={}));var P={green:"green",yellow:"yellow",orange:"orange",red:"red",purple:"purple",blue:"blue",white:"white",black:"black"};t.colorMap=P;var C=d.default.keyBy(["Text","Enum","EnumList","LongText","Name","Number","PostalCode","DateTime","Percent","Decimal","Price","Date","Time","Duration"]);t.basicTypes=C;var x=d.default.keyBy(["Email","Phone","LatLong","XY","Address","File","Url","ChangeLocation"]);t.actionTypes=x;var D=d.default.keyBy(["Image","Drawing","Signature","Thumbnail"]);t.imageTypes=D;var R=d.default.keyBy(["Image","Thumbnail"]);t.presentableImageTypes=R;var I=d.default.keyBy(["Yes/No"]);t.booleanTypes=I;var N=d.default.keyBy(["ChangeCounter","Number","Percent","Decimal","Price","Duration"]);t.numberTypes=N;var j=d.default.keyBy(["Address","Text","LongText","Url","Name","LatLong","XY","ChangeLocation","Phone"]);t.textTypes=j;var L=d.default.keyBy(["Date","Time","DateTime"]);t.temporalTypes=L;var _=d.default.keyBy(["ChangeCounter","ChangeLocation","ChangeTimestamp"]);t.changeTriggeredTypes=_;var M=d.default.keyBy(["Percent","Decimal","Price"]);t.decimalTypes=M;var G=d.default.keyBy(["ChangeCounter","Number","PostalCode","DateTime","ChangeTimestamp","Percent","Decimal","Price","Date","Time","Duration","Phone"]);t.mostlyNumberTypes=G;var F=d.default.keyBy(["Ref","Enum","EnumList","Color","Progress","Yes/No"]);t.enumeratedTypes=F;var B=d.default.keyBy(["List","EnumList"]);t.listTypes=B;var V=d.default.keyBy(["Image","Drawing","Signature","Thumbnail","File"]);t.externalFileTypes=V;var U={Text:f.default.textComparer,LongText:f.default.textComparer,Name:f.default.textComparer,Address:f.default.textComparer,LatLong:f.default.textComparer,XY:f.default.textComparer,ChangeLocation:f.default.textComparer,Number:f.default.numericComparer,ChangeCounter:f.default.numericComparer,Decimal:f.default.numericComparer,Percent:f.default.numericComparer,Price:f.default.numericComparer,Date:f.default.dateComparer,DateTime:f.default.dateComparer,ChangeTimestamp:f.default.dateComparer,Time:f.default.timeComparer,Duration:f.default.durationComparer,Ref:f.default.labelComparer,Enum:"special-enum",Color:"special-enum",Progress:"special-enum"};t.typeComparers=U;var H={Date:f.default.nativeDateComparer,DateTime:f.default.nativeDateComparer,ChangeTimestamp:f.default.nativeDateComparer,Time:f.default.nativeDateComparer},q=function(){function e(t){var n=this;(0,s.default)(this,e),this.model=t,this._evalTreeLookup={},this.getImageLabel=function(e,t){var r;if(n.isImageType())return e;var o=T.AppGlobals.AppModel.findTableCollection(n.auxData().ReferencedTableName),i=o.rootTable,a=o.rootTableSchema,l=null==a?void 0:a.labelImageAttribute();return l&&(null===(r=null==i?void 0:i.lookupTableRow(e,t))||void 0===r?void 0:r.get(l.name()))||""},this.localizeWireValue=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(o>50)return t;switch(n.type().toLowerCase()){case"list":case"enumlist":if(!t)return"";if("function"==typeof t.split){var i=n.itemSeparator()||e.inferEnumListDelimiter(t);t=n.splitEnumListValue(t);var a=n.nestedAttribute();return t.map((function(e){return a.localizeWireValue(e,r,o+1)})).join(i)}return t;case"enum":var l=n.nestedAttribute();return l?l.localizeWireValue(t,r,o+1):t;case"ref":if(!r.noRefLabel){var u=1,s=n.referencedLabelCollection(u),c=s.table,d=s.labelBasicAttribute;if(c&&d&&d!==n)return d.localizeWireValue(c.labelTextForId(t,r.transaction),r,o+1)}if(r.noRefKeyFallback)return"";var p=n.nestedAttribute();return p?p.localizeWireValue(t,r,o+1):t;case"time":return t?y.default.toLocaleTimeString(t,n.ignoreSeconds()):"";case"date":return t?y.default.toLocaleDateString(t,n.useLongDateFormat()):"";case"datetime":case"changetimestamp":return t?y.default.localizeDateTime(t,n.ignoreSeconds(),n.useLongDateFormat()):"";case"percent":return n.normalizePercentValueToString(t);case"number":case"decimal":case"price":return e.formatLocalizedNumber(t,{precision:n.decimalDigits(),numericDigits:n.numericDigits(),useGrouping:!r.suppressGrouping&&n.showThousandsSeparator(),currencySymbol:n.currencySymbol()});case"yes/no":var f=n.booleanTypeLabels(r.dataContext),g=f.yesLabel,h=f.noLabel,m=e.booleanValueFromWireFormat(t);return m?g:h;default:return t}},this.getNormalizedLookupValue=function(e){d.default.isNil(e)&&(e="");var t,r=n.type(),o=n.nestedAttribute();switch(r){case"Enum":case"Ref":return d.default.isNil(o)?e:o.getNormalizedLookupValue(e);case"Date":case"DateTime":case"ChangeTimestamp":return new Date(e||0).getTime();case"Time":return e?y.default.timeToDate(e).getTime():"";case"Duration":return y.default.getDurationSecs(y.default.parseDuration(e));case"Yes/No":switch(t=(0,y.toNormalizedString)(e)){case"y":case"yes":case"t":case"true":return!0;case"n":case"no":case"f":case"false":return!1}return t;case"Progress":switch(t=(0,y.toNormalizedString)(e)){case"empty":return"empty";case"quarter":case"one quarter":return"quarter";case"half":return"half";case"three quarter":case"three quarters":return"three quarter";case"full":return"full"}return t;case"Number":case"Decimal":case"Price":case"Percent":case"ChangeCounter":return Number(e);case"File":case"Image":case"Signature":case"Thumbnail":case"Drawing":return y.default.stripRefImageValue(e,r);case"Url":if(e&&"function"==typeof e.indexOf&&0!==e.indexOf("{"))return JSON.stringify(n.valueFromWireFormat(e)).toLowerCase()}return(0,y.toNormalizedString)(e)}}return(0,c.default)(e,[{key:"auxData",value:function(){if(this._auxDataCache)return this._auxDataCache;var t=this.model.TypeAuxData||{};return"string"==typeof t&&(t=e.parseAuxData(t,this)),this._auxDataCache=t,t}},{key:"auxDataString",value:function(){return null==this.model.TypeAuxData?"":"string"==typeof this.model.TypeAuxData?this.model.TypeAuxData:(this._auxDataString||(this._auxDataString=JSON.stringify(this.model.TypeAuxData)),this._auxDataString)}},{key:"setInternalQualifier",value:function(e){this.model.InternalQualifier=e}},{key:"internalQualifier",value:function(){return this.model.InternalQualifier||{}}},{key:"isValid",value:function(){return this.model.IsValid}},{key:"isLabel",value:function(){return!!this.model.IsLabel}},{key:"isHidden",value:function(){return this.model.IsHidden}},{key:"isReadOnly",value:function(){return this.model.IsReadOnly}},{key:"isRequired",value:function(){return this.model.IsRequired}},{key:"isSys",value:function(){return this.model.IsSys}},{key:"isKey",value:function(){return!!this.model.IsKey}},{key:"isScannable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>20)return!1;if(this.model.IsScannable)return!0;if("Ref"===this.type()){var t=this.nestedAttribute();if(t&&t.isScannable(e+1))return!0}return!1}},{key:"isNfcScannable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>20)return!1;if(this.model.IsNfcScannable)return!0;if("Ref"===this.type()){var t=this.nestedAttribute();if(t&&t.isNfcScannable(e+1))return!0}return!1}},{key:"isSearchable",value:function(){return this.model.IsValid&&this.model.Searchable}},{key:"supportsEditsInTableView",value:function(){switch(this.type()){case"LongText":case"Yes/No":case"Text":case"Number":case"Decimal":case"Percent":case"Price":case"Url":case"Date":case"DateTime":case"Time":case"Duration":case"Name":case"Email":case"Address":case"Phone":case"Enum":case"EnumList":case"Ref":return!0}return!1}},{key:"shouldShowScannerButtons",value:function(){if(!this.isScannable()&&!this.isNfcScannable())return!1;if(!A.default.SupportsBarcodeScan())return!1;switch(this.type()){case"Text":case"Ref":case"Enum":case"EnumList":case"Number":case"Decimal":case"Price":case"Percent":return!0}return!1}},{key:"isListOfRefs",value:function(){var e=this.nestedAttribute();return!!e&&("List"===this.type()&&"Ref"===e.type())}},{key:"isReverseRef",value:function(){return this.isListOfRefs()&&this.isSys()}},{key:"isDependentRef",value:function(){return"Ref"===this.type()&&this.auxData().IsAPartOf}},{key:"isReverseDependentRef",value:function(){var e;if(!this.isReverseRef())return!1;var t=this.internalQualifier();return null===(e=null==t?void 0:t.Properties)||void 0===e?void 0:e.IsOwnerOf}},{key:"refListFilterDefaults",value:function(e){var t=(0,S.getFilterDefaultsAndFullyMapped)(this.refListFilter(e)),n=(0,u.default)(t,2),r=n[0];if(n[1])return r}},{key:"refListFilter",value:function(e){var t=this;if(this.isListOfRefs()){var n=this.appFormulaEvalTree();if(n){var r=function(n){return(0,S.createKeyInListFilter)(t.listElementType(),t.listElementTypeQualifier(),n.curry(e))};if("SELECT"===n.FunctionName){var o=n.children[0],i=e.appModel;if(!(null==i?void 0:i.inRollout("currySelect"))){var a=n.currySelectFilterOnly(e);return o.isRowList()?(0,S.createAnd)(r(o),a):a}var l=[this.listElementAttribute().referencedTableName(),o.TableName].map((function(e){return null==i?void 0:i.findTableCollection(e).rootTable})),s=(0,u.default)(l,2);if(s[0]===s[1]){var c=n.currySelectFilterOnly(e);return o.isRowList()?(0,S.createAnd)(r(o),c):c}}return r(n)}}}},{key:"type",value:function(){return this.model.Type}},{key:"nestedAttribute",value:function(){if(!this._nestedAttribute){var t,n=null;if("Enum"===this.type()||"EnumList"===this.type()){if(!(t=this.auxData().BaseType))return null;n=this.auxData().BaseTypeQualifier}else if("Ref"===this.type()){if(!(t=this.auxData().ReferencedType))return null;n=this.auxData().ReferencedTypeQualifier}else{if("List"!==this.type())return null;if(!(t=this.auxData().ElementType))return null;n=this.auxData().ElementTypeQualifier}var r=null;"EnumList"!==this.type()&&"List"!==this.type()&&(r=this.model.InternalQualifier&&this.model.InternalQualifier.ColumnStats),this._nestedAttribute=new e({Name:this.name(),Type:t,TypeAuxData:n,autoFrom:this,InternalQualifier:{ColumnStats:r}})}return this._nestedAttribute}},{key:"basestAttribute",value:function(){var e=this.nestedAttribute();return e=e?e.basestAttribute():this}},{key:"yields",value:function(e){var t;return"Ref"===this.type()||"Enum"===this.type()?!!(null===(t=this.nestedAttribute())||void 0===t?void 0:t.yields(e)):this.type()===e}},{key:"yieldsOneOf",value:function(e){var t;return!!Array.isArray(e)&&("Ref"===this.type()||"Enum"===this.type()?!!(null===(t=this.nestedAttribute())||void 0===t?void 0:t.yieldsOneOf(e)):d.default.includes(e,this.type()))}},{key:"firstNestedRef",value:function(){return this.firstNestedOfType("Ref",!1)}},{key:"firstNestedOfType",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.type()===e)return this;if(this.isListType()&&!t)return null;var n=this.nestedAttribute();return n&&(n=n.firstNestedOfType(e,t)),n}},{key:"allNestedTypes",value:function(){for(var e,t=this.nestedAttribute();t;)(e=e||[]).push(t.type()),t=t.nestedAttribute();return e}},{key:"listElementAttribute",value:function(){return"List"===this.type()?this.nestedAttribute():null}},{key:"enumElementAttribute",value:function(){return"Enum"===this.type()||"EnumList"===this.type()?this.nestedAttribute():null}},{key:"nestedType",value:function(){var e=this.nestedAttribute();return e?e.type():null}},{key:"basestType",value:function(){return this.basestAttribute().type()}},{key:"baseTypeQualifier",value:function(){var e=this.nestedAttribute();return e?e.auxData():null}},{key:"listElementType",value:function(){return"List"===this.type()?this.nestedType():null}},{key:"listElementTypeQualifier",value:function(){if("List"===this.type()){var e=this.nestedAttribute();if(e)return e.model.TypeAuxData}return null}},{key:"referencedTableName",value:function(){var e=this.firstNestedRef();return(null==e?void 0:e.auxData().ReferencedTableName)||null}},{key:"referencedTable",value:function(){var e=this.referencedTableName();return e&&T.AppGlobals.AppModel.findTableCollection(e).table||null}},{key:"referencedLabelCollection",value:function(e){for(var t,n,r,o,i=0,a=this.firstNestedRef();null!=a&&(null==e||i<e);){if(o=o||new Set,null==(r=null===(t=(n=T.AppGlobals.AppModel.findTableCollection(a.referencedTableName())).tableSchema)||void 0===t?void 0:t.labelBasicAttribute())||o.has(r))return{};o.add(r),a=r.firstNestedRef(),i++}return r?Object.assign(Object.assign({},n),{labelBasicAttribute:r}):{}}},{key:"derefRow",value:function(e){var t,n=this.referencedTableName(),r=((null===(t=T.AppGlobals.AppModel)||void 0===t?void 0:t.findTableCollection(n))||{}).rootTable;return null==r?void 0:r.lookupTableRow(e)}},{key:"numericDigits",value:function(){return this.auxData().NumericDigits}},{key:"decimalDigits",value:function(){var e=this.auxData().DecimalDigits;return"number"!=typeof e&&this.isNumericType()?"Number"===this.type()?0:2:e}},{key:"showThousandsSeparator",value:function(){return!1!==this.auxData().ShowThousandsSeparator}},{key:"currencySymbol",value:function(){return this.auxData().CurrencySymbol}},{key:"enumValues",value:function(){var e;return null===(e=this.auxData().EnumValues)||void 0===e?void 0:e.map(y.fastTrim)}},{key:"allowOtherValues",value:function(){return!!this.auxData().AllowOtherValues}},{key:"autoCompleteOtherValues",value:function(){return!!this.allowOtherValues()&&!!this.auxData().AutoCompleteOtherValues}},{key:"ignoreSeconds",value:function(){return!!this.auxData().IgnoreSeconds}},{key:"useLongDateFormat",value:function(){return!!this.auxData().UseLongDateFormat}},{key:"itemSeparator",value:function(){return this.auxData().ItemSeparator}},{key:"launchExternal",value:function(){return this.auxData().LaunchExternal}},{key:"geocodingEnabled",value:function(){return this.auxData().GeocodingEnabled}},{key:"name",value:function(){return this.model.Name}},{key:"lowercaseName",value:function(){return this._normalizedName||(this._normalizedName=this.name().trim().toLowerCase()),this._normalizedName}},{key:"longTextFormatting",value:function(){return this.auxData().LongTextFormatting}},{key:"baseImage",value:function(e){var t=this.baseImageEvalTree();if(t){if(e){var n=t.run(e);return n?String(n):""}return""}return this.auxData().BaseImage||""}},{key:"displayName",value:function(e){var t=this.auxData();if(this.name().indexOf("_Computed")>=0&&t.ComponentFieldNames)return t.ComponentFieldNames.join(" ");var n=this.displayNameField(e);return n||this.name()}},{key:"displayNameField",value:function(e){var t,n=this.evalTreeLookup("DisplayName");if(n&&e){var r=n.run(e);r&&(t=String(r))}return t}},{key:"hasDisplayName",value:function(){return!!this.model.DisplayName}},{key:"verboseName",value:function(e){return this.description(e)||this.model.Name}},{key:"description",value:function(e){var t=this.evalTreeLookup("Description");if(t&&e){var n=t.run(e);return n?String(n):""}return this.model.Description}},{key:"showContent",value:function(e){if(this.isShowType()){var t=this.showContentEvalTree();if(t&&e){var n=t.run(e);return n=this.coerceValue(n,t.resultType(),t.resultTypeQualifier()),n=this.valueToWireFormat(n),this.localizeWireValue(n)}return this.auxData().Content}return null}},{key:"appFormula",value:function(){return this.model.AppFormula}},{key:"hasFormula",value:function(){return!!this.model.Formula}},{key:"hasAppFormula",value:function(){var e;return!!(null!==(e=this.model.AppFormula)&&void 0!==e?e:this.appFormulaEvalTree())}},{key:"hasDefaultExpression",value:function(){var e;return!!(null!==(e=this.model.DefaultExpression)&&void 0!==e?e:this.defaultExpressionEvalTree())}},{key:"hasResetExpression",value:function(){return!!this.resetIfEvalTree()}},{key:"setAppFormula",value:function(e,t){delete this._evalTreeLookup.AppFormulaExpression,delete this._auxDataCache,delete this._auxDataString,delete this._nestedAttribute,this.internalQualifier().AppFormulaExpression=e.model,this.model.Type=e.resultType(),this.model.TypeAuxData=null!=t?t:e.resultTypeQualifier()}},{key:"evalTreeLookup",value:function(e){if(!this._evalTreeLookup[e]){var t=this.internalQualifier(),n=t.ExpressionLookup||{},r=this.model.ExprLookup||{};try{r[e]?this._evalTreeLookup[e]=S.default.create(r[e]):n[e]?this._evalTreeLookup[e]=S.default.create(n[e]):t[e]?this._evalTreeLookup[e]=S.default.create(t[e]):"DefaultExpression"===e&&this.model[e]&&(this._evalTreeLookup[e]=S.default.create(this.model[e]))}catch(t){m.default.warnToDevConsole("Failed to create ExprEvalTree for "+e)}}return this._evalTreeLookup[e]}},{key:"appFormulaEvalTree",value:function(){return this.evalTreeLookup("AppFormulaExpression")}},{key:"defaultExpressionEvalTree",value:function(){return this.evalTreeLookup("DefaultExpression")}},{key:"validIfEvalTree",value:function(){return this.evalTreeLookup("Valid_If_AppEval")}},{key:"suggestedValuesEvalTree",value:function(){return this.evalTreeLookup("Suggested_Values")}},{key:"requiredIfEvalTree",value:function(){return this.evalTreeLookup("Required_If_AppEval")}},{key:"showIfEvalTree",value:function(){return this.evalTreeLookup("Show_If_AppEval")}},{key:"editableIfEvalTree",value:function(){return this.evalTreeLookup("Editable_If_AppEval")}},{key:"resetIfEvalTree",value:function(){return this.evalTreeLookup("Reset_If_AppEval")}},{key:"showContentEvalTree",value:function(){return this.evalTreeLookup("ShowContent")}},{key:"baseImageEvalTree",value:function(){return this.evalTreeLookup("XYBaseImage")}},{key:"displayNameEvalTree",value:function(){return this.evalTreeLookup("DisplayName")}},{key:"publishKeyEvalTree",value:function(){return this.evalTreeLookup("Publish_If_Rowkey")}},{key:"isChangeTriggered",value:function(){return!!_[this.type()]}},{key:"invalidMessageEvalTree",value:function(){return this.evalTreeLookup("Error_Message_If_Invalid")}},{key:"booleanEvalTrees",value:function(){return{yesEvalTree:this.evalTreeLookup("YesLabel"),noEvalTree:this.evalTreeLookup("NoLabel")}}},{key:"isBooleanWithCustomLabel",value:function(){var e=this.booleanEvalTrees(),t=e.yesEvalTree,n=e.noEvalTree;return null!=t||null!=n}},{key:"booleanTypeLabels",value:function(t){var n,r;if(t){var o=this.booleanEvalTrees(),i=o.yesEvalTree,a=o.noEvalTree;i&&(n=i.run(t))&&(n=e.valueToWireFormat(n,i.resultType(),i.resultTypeQualifier())),a&&(r=a.run(t))&&(r=e.valueToWireFormat(r,a.resultType(),a.resultTypeQualifier()))}return n||(n="Y"),r||(r="N"),{yesLabel:n,noLabel:r}}},{key:"isDynamic",value:function(){return this.isChangeTriggered()||this.hasAppFormula()||this.hasDefaultExpression()||this.resetsEachUpdate()||this.hasResetExpression()}},{key:"valueDependsOn",value:function(e,t){var n=this.appFormulaEvalTree(),r=this.defaultExpressionEvalTree(),o=this.resetIfEvalTree();return(null==n?void 0:n.tablesReferenced().includes(e))||(null==o?void 0:o.tablesReferenced().includes(e))||t&&(null==r?void 0:r.tablesReferenced().includes(e))}},{key:"isValidityEnum",value:function(){var e=this.validIfEvalTree();return e&&"function"==typeof e.isThisInCondition&&e.isThisInCondition()}},{key:"hasSuggestedValues",value:function(){return!!this.suggestedValuesEvalTree()}},{key:"isVirtual",value:function(){return!!this.model.IsVirtual}},{key:"isShowType",value:function(){return"Show"===this.type()}},{key:"isShowHeader",value:function(){return this.isPageHeader()||this.isSectionHeader()}},{key:"isPageHeader",value:function(){return this.isShowType()&&"Page_Header"===this.auxData().Category}},{key:"isSectionHeader",value:function(){return this.isShowType()&&"Section_Header"===this.auxData().Category}},{key:"isShowText",value:function(){return this.isShowType()&&"Text"===this.auxData().Category}},{key:"isShowUrl",value:function(){return this.isShowType()&&"Url"===this.auxData().Category}},{key:"isShowImage",value:function(){return this.isShowType()&&"Image"===this.auxData().Category}},{key:"isShowVideo",value:function(){return this.isShowType()&&"Video"===this.auxData().Category}},{key:"isBasicType",value:function(){return!!C[this.type()]}},{key:"isActionType",value:function(){return!!x[this.type()]}},{key:"isImageType",value:function(){return!!D[this.type()]}},{key:"isPresentableImageType",value:function(){return!!R[this.type()]}},{key:"isListType",value:function(){return!!B[this.type()]}},{key:"isBooleanType",value:function(){return!!I[this.type()]}},{key:"isNumericType",value:function(){var e=this.nestedAttribute();return e?!!N[e.type()]:!!N[this.type()]}},{key:"isTextualType",value:function(){var e=this.nestedAttribute();return e?!!j[e.type()]:!!j[this.type()]}},{key:"isTemporalType",value:function(){var e=this.nestedAttribute();return e?!!L[e.type()]:!!L[this.type()]}},{key:"isDecimalType",value:function(){var e=this.nestedAttribute();return e?!!M[e.type()]:!!M[this.type()]}},{key:"isEnumerated",value:function(){return!!F[this.type()]||this.isValidityEnum()||this.hasSuggestedValues()}},{key:"isMostlyNumberType",value:function(){return!!G[this.type()]}},{key:"hasInputMethod",value:function(){return"Video"!==this.type()||T.AppGlobals.AppModel.inRollout("videoUpload")}},{key:"shouldRightAlign",value:function(){var e,t,n,r=this.referencedLabelCollection().labelBasicAttribute;if(null!=r)return r.shouldRightAlign();var o=null!==(n=null===(t=null===(e=T.AppGlobals.AppModel)||void 0===e?void 0:e.AppTemplate)||void 0===t?void 0:t.Presentation)&&void 0!==n?n:{},i=o.UseAccountingFormat,a=o.RightAlignNumeric;return this.isNumericType()&&Boolean(i||a)}},{key:"shouldNotStretch",value:function(){return this.isImageType()||this.shouldRightAlign()}},{key:"valueComparer",value:function(e){var t,n=e===i.Native&&H[this.type()]||U[this.type()];if("special-enum"===n){var r=this.auxData(),o=r.EnumValues;n=o?r.AllowOtherValues&&"Color"!==this.type()&&"Progress"!==this.type()?null===(t=this.nestedAttribute())||void 0===t?void 0:t.valueComparer(e):f.default.listComparer.bind(f.default,o):this.nestedAttribute().valueComparer(e)}return n||(n=f.default.genericComparer),n}},{key:"columnStats",value:function(){if(this.model.InternalQualifier&&this.model.InternalQualifier.ColumnStats&&null!=this.model.InternalQualifier.ColumnStats.MaxLength)return this.model.InternalQualifier.ColumnStats;var e=this.basestAttribute().auxData();return(null==e?void 0:e.MaxLength)&&e.MinLength?{MaxLength:e.MaxLength,MinLength:e.MinLength,AverageLength:(e.MaxLength+e.MinLength)/2,StdDevLength:(e.MaxLength-e.MinLength)/10}:null}},{key:"getChartAxisFormat",value:function(e,t){var n=this.auxData(),r=this.isDecimalType(),o=this.isNumericType(),i=",";(r||o)&&(n.ShowThousandsSeparator||(i=""));if(r){var a=0;if(n.DecimalDigits)a=n.DecimalDigits;else if(e>=0&&t>=0){var l=t-e;a=Math.max(Math.ceil(Math.log10(Math.floor(20/l))),0)}return i+"."+a+"f"}return o?i+".0f":null}},{key:"getChartAxisValueRange",value:function(e,t){if(this.isNumericType()){var n=this.auxData().MinValue,r=this.auxData().MaxValue,o=null===n||isNaN(n)||isNaN(e)?n||e||0:Math.min(n,e),i=null===r||isNaN(r)||isNaN(t)?r||t||0:Math.max(r,t);if(!isNaN(o)&&!isNaN(i))return[o,i]}return null}},{key:"validIfConstraintInfo",value:function(){return this.internalQualifier().Valid_If_ConstraintInfo}},{key:"appFormulaColumnsReferenced",value:function(){return this.appFormulaEvalTree()&&this.appFormulaEvalTree().columnsReferenced()||[]}},{key:"defaultExpressionColumnsReferenced",value:function(){return this.defaultExpressionEvalTree()&&this.defaultExpressionEvalTree().columnsReferenced()||[]}},{key:"resetColumnsReferenced",value:function(){return this.resetIfEvalTree()&&this.resetIfEvalTree().columnsReferenced()||[]}},{key:"showContentColumnsReferenced",value:function(){return this.isShowType()&&this.evalTreeLookup("ShowContent")&&this.evalTreeLookup("ShowContent").columnsReferenced()||[]}},{key:"validIfColumnsReferenced",value:function(){return this.validIfEvalTree()&&this.validIfEvalTree().columnsReferenced()||[]}},{key:"suggestedValuesColumnsReferenced",value:function(){return this.suggestedValuesEvalTree()&&this.suggestedValuesEvalTree().columnsReferenced()||[]}},{key:"requiredIfColumnsReferenced",value:function(){return this.requiredIfEvalTree()&&this.requiredIfEvalTree().columnsReferenced()||[]}},{key:"showIfColumnsReferenced",value:function(){return this.showIfEvalTree()&&this.showIfEvalTree().columnsReferenced()||[]}},{key:"editableIfColumnsReferenced",value:function(){return this.editableIfEvalTree()&&this.editableIfEvalTree().columnsReferenced()||[]}},{key:"baseImageColumnsReferenced",value:function(){return this.baseImageEvalTree()&&this.baseImageEvalTree().columnsReferenced()||[]}},{key:"displayNameColumnsReferenced",value:function(){return this.displayNameEvalTree()&&this.displayNameEvalTree().columnsReferenced()||[]}},{key:"changeColumns",value:function(){return this.isChangeTriggered()?this.auxData().ChangeColumns:null}},{key:"changeValues",value:function(){return this.isChangeTriggered()?this.auxData().ChangeValues:null}},{key:"updateMode",value:function(){return this.isChangeTriggered()?this.auxData().UpdateMode:null}},{key:"numberDisplayMode",value:function(){return this.auxData().NumberDisplayMode}},{key:"resetsEachUpdate",value:function(){return"Reset"===this.updateMode()||!!this.model.ResetOnEdit}},{key:"checkChangeTriggered",value:function(e,t,n,r){var o=!1;if(this.isChangeTriggered()){var i=this.changeColumns();if(null==i||0===i.length)o=!0;else for(var a=0;a<i.length;a++){if(i[a].toLowerCase()===n.name().toLowerCase()){var l=this.changeValues();if(null==l||0===l.length){o=!0;break}for(var u={ResultType:"Yes/No",EvalType:"BOOLEAN",OperatorName:"Equals",IsAtomic:!0},s=0;s<l.length;s++){if(u.Children=[{ResultType:n.type(),ResultTypeQualifier:n.auxData(),EvalType:"CONSTANT",ConstantValue:r},{ResultType:n.type(),ResultTypeQualifier:n.auxData(),EvalType:"CONSTANT",ConstantValue:l[s]}],S.default.create(u).run()){o=!0;break}}if(o)break}}}return o}},{key:"getValues",value:function(e){return this.valueFromWireFormat(e)}},{key:"missingRequired",value:function(e){return!(!this.model.IsRequired||this.model.Formula||this.model.AppFormula||null!=e&&""!==e)}},{key:"validateValue",value:function(t){if(this.model.IsReadOnly)return!0;var n=e.validators[this.model.Type];return!n||n(t,this.auxData())}},{key:"convertibleTo",value:function(e){var t=this.type(),n=e.type();return t===n||(!(!this.isNumericType()||!e.isNumericType())||(!(!this.isTextualType()||!e.isTextualType())||(!(!this.isImageType()||!e.isImageType())||(!(!this.isListType()||!e.isListType())||(!(!this.isTemporalType()||"Duration"===t||"Duration"===n||!e.isTemporalType())||("LatLong"===t&&"XY"===n||(("Text"===t||"LongText"===t)&&"List"!==n||("Text"===n||"LongText"===n))))))))}},{key:"isMoreSpecificType",value:function(e){var t=this.type(),n=e.type();return"Text"!==t&&"LongText"!==t&&("Text"===n||"LongText"===n)||"Unknown"!==t&&(!n||"Unknown"===n)}},{key:"coerceValue",value:function(t,n,r){if(n=n||this.type(),r=r||this.auxData(),null==t)return null;if(this.isNumericType()){var o=Number(t),i=0;if("Number"!==this.type()&&"ChangeCounter"!==this.type()&&(i=this.auxData().DecimalDigits),!isNaN(o)&&"number"==typeof i){"Percent"===this.type()&&(i+=2);var a=Math.pow(10,i);return o=Math.round(o*a)/a}}if("function"==typeof t.getMonth&&"object"===(0,l.default)(r)&&r.IgnoreSeconds&&t.setSeconds(0),"Yes/No"===this.type()&&(t=e.normalizeBooleanValue(t)),this.type()!==n){var u=e.valueToWireFormat(t,n,r);return e.valueFromWireFormat(u,this.type(),this.auxData())}return t}},{key:"shouldUpdateOnChange",value:function(){if(this.isValidityEnum()||this.hasSuggestedValues())return!0;switch(this.type().toLowerCase()){case"enum":case"enumlist":case"list":case"ref":case"color":case"image":case"thumbnail":case"file":case"drawing":case"signature":case"progress":case"yes/no":return!0;default:return!1}}},{key:"shouldUseStackSelect",value:function(){return"Stack"===this.auxData().EnumInputMode||"Stack"===this.auxData().InputMode}},{key:"shouldUseButtonSelect",value:function(e,t,n,r){if("Buttons"===this.auxData().EnumInputMode||"Buttons"===this.auxData().InputMode)return!0;if("Stack"===this.auxData().EnumInputMode||"Stack"===this.auxData().InputMode)return!0;if("Dropdown"===this.auxData().EnumInputMode)return!1;if(!e||!e.length)return!!n;if(r)return!1;if(t&&!this.isValidityEnum())return!1;var o=d.default.max(d.default.map(e,(function(e){return"string"!=typeof e?0:e.length}))),i=o<=14&&e.length<=3,a=o<=2&&e.length<=6;return i||a}},{key:"inFullDependentChain",value:function(e){var t,n,r=!1;if(null!=this.validIfConstraintInfo()&&e.length>0){r=!0;for(var o=0;o<e.length;o++){if(t=e[o],n=o>0?e[o-1]:null,null==t.validIfConstraintInfo()){r=!1;break}if(n){var i=t.validIfColumnsReferenced(),a=n.validIfColumnsReferenced();if(i.length!==a.length+1||d.default.intersection(i,a).length!==a.length){r=!1;break}}else if(this.name()!==t.name()){r=!1;break}}}return r}},{key:"valueExists",value:function(t){return e.valueExists(t,this.type())}},{key:"valueFromWireFormat",value:function(t){var n=this.nestedAttribute();switch(this.type()){case"List":return t?"function"==typeof t.split?t.split(e.listDelimiter).filter((function(e){return null!=e&&""!==e})).map((function(e){return n.valueFromWireFormat(e)})):t:[];case"EnumList":return t?"function"==typeof t.split?this.splitEnumListValue(t).filter((function(e){return null!=e&&""!==e})).map((function(e){return n.valueFromWireFormat(e)})):t:[];case"Ref":case"Enum":return n.valueFromWireFormat(t);default:return e.valueFromWireFormat(t,this.type(),this.auxData())}}},{key:"valuesFromWireFormat",value:function(e){var t=this;return e.map((function(e){return t.valueFromWireFormat(e)}))}},{key:"valueToWireFormat",value:function(t){var n=this.nestedAttribute();switch(this.type()){case"List":case"EnumList":return t?Array.isArray(t)?t.filter((function(e){return!d.default.isNil(e)&&""!==e})).map((function(e){return n?n.valueToWireFormat(e):e})).join(e.listDelimiter):t:"";case"Enum":case"Ref":if(n)return n.valueToWireFormat(t)}return e.valueToWireFormat(t,this.type(),this.auxData())}},{key:"valuesToWireFormat",value:function(e){var t=this;return null==e?[]:(e=Array.isArray(e)?e:[e]).map((function(e){return t.valueToWireFormat(e)}))}},{key:"needsAsyncCallback",value:function(){return"LatLong"===this.type()||this.usesOcrAsyncFormula()}},{key:"usesOcrAsyncFormula",value:function(){var e=this.defaultExpressionEvalTree(),t=this.appFormulaEvalTree(),n=function(e){return!!e&&("OCR"===e.FunctionName||"OCRTEXT"===e.FunctionName)};return n(e)||n(t)}},{key:"normalizePercentValueToString",value:function(t){if(""===t)return"";var n=this.auxData(),r=n&&null!=n.DecimalDigits?n.DecimalDigits:0,o=null==n?void 0:n.NumericDigits,i=e.normalizePercentValueToNumber(t);return null===i?"":e.formatLocalizedNumber(i,{precision:r,numericDigits:o})+"%"}},{key:"splitEnumListValue",value:function(t,n){var r=e.listDelimiter;return e.splitEnumListValue(t,r,n)}}],[{key:"parseAuxData",value:function(e,t){if(!e)return{};try{return JSON.parse(e)}catch(n){return m.default.warnToDevConsole("Error parsing aux data",e,t),{}}}},{key:"makeDate",value:function(e){return e?new Date(e):new Date(0)}},{key:"baseTypeFromAuxData",value:function(t,n){var r=t.BaseType||t.ReferencedType||t.ElementType;if(n&&r){var o=e.baseTypeQualifierFromAuxData(t);if(o){var i=e.baseTypeFromAuxData(o,!0);i&&(r=i)}}return r}},{key:"referencedTypeFromAuxData",value:function(t){return"Ref"===t.ReferencedType?e.referencedTypeFromAuxData(e.parseAuxData(t.ReferencedTypeQualifier)):t.ReferencedType}},{key:"baseTypeQualifierFromAuxData",value:function(t){var n=t.BaseTypeQualifier;return n||(n=t.ReferencedTypeQualifier)||(n=t.ElementTypeQualifier),n?e.parseAuxData(n):null}},{key:"fromTypeData",value:function(t,n,r){return new e({Name:t,Type:n,TypeAuxData:r})}},{key:"getColor",value:function(e){return"string"!=typeof e?null:P[e.toLowerCase()]}},{key:"valueExists",value:function(t,n){return"Url"===n?!!e.urlValueFromWireFormat(t).url:null!=t&&""!==t}},{key:"valueFromWireFormat",value:function(t,n,r){var o,i="Date"===n?"MM/DD/YYYY":"MM/DD/YYYY HH:mm:ss";switch(n){case"Yes/No":return e.booleanValueFromWireFormat(t);case"List":return e.listValueFromWireFormat(t,r);case"EnumList":return e.enumlistValueFromWireFormat(t,r);case"Enum":return e.enumValueFromWireFormat(t,r);case"Ref":return e.refValueFromWireFormat(t,r);case"Date":case"DateTime":case"ChangeTimestamp":return o=null,t&&("function"==typeof t.slice&&"00"===t.slice(6,8)?(o=(0,v.default)(t,i,!0).toDate(),isNaN(o.getTime())&&(o=new Date(t))):o=new Date(t)),o;case"Time":return t&&""!==t?y.default.timeToDate(t):null;case"Url":return e.urlValueFromWireFormat(t);case"LatLong":case"ChangeLocation":return e.latLongValueFromWireFormat(t);case"XY":return e.XYValueFromWireFormat(t);case"Number":case"Decimal":case"Percent":case"ChangeCounter":return null!=t&&""!==t?e.getNumberFromString(t):null;case"Price":return e.priceValueFromWireFormat(t,r);case"File":return e.fileValueFromWireFormat(t);default:return null==t?null:t}}},{key:"valueToWireFormat",value:function(t,n,r){var o=null!=t&&"function"==typeof t.getMonth;switch(n){case"Yes/No":return e.booleanValueToWireFormat(t);case"List":return e.listValueToWireFormat(t,r);case"EnumList":return e.enumlistValueToWireFormat(t,r);case"Enum":return e.enumValueToWireFormat(t,r);case"Ref":return e.refValueToWireFormat(t,r);case"Image":case"Thumbnail":case"Drawing":case"Signature":case"File":return t||"";case"Date":if(o)return y.default.MDYformat(t,!0);break;case"Time":if(o)return y.default.dateToTime(t);break;case"DateTime":case"ChangeTimestamp":if(o)return y.default.MDYHMSformat(t,!0);break;case"Url":if(t&&"object"===(0,l.default)(t)){var i=t.url||"",a=t.linkText||"";return JSON.stringify({Url:i,LinkText:a})}if(null===t||""===t)return JSON.stringify({Url:"",LinkText:""})}return null!=t?String(t):""}},{key:"valuesToWireFormat",value:function(t,n,r){return null==t?[]:(t=Array.isArray(t)?t:[t]).map((function(t){return e.valueToWireFormat(t,n,r)}))}},{key:"normalizeBooleanValue",value:function(e){var t=e?String(e).toLowerCase():null;return["y","yes","t","true"].indexOf(t)>=0||!(!1===e||["n","no","f","false"].indexOf(t)>=0)&&null}},{key:"booleanValueFromWireFormat",value:function(t){return e.normalizeBooleanValue(t)}},{key:"booleanValueToWireFormat",value:function(e){return!0===e?"Y":!1===e?"N":""}},{key:"listValueFromWireFormat",value:function(t,n){if(!t)return[];var r=n.ElementType,o=e.parseAuxData(n.ElementTypeQualifier);return"function"==typeof t.split?t.split(e.listDelimiter).filter((function(e){return null!=e&&""!==e})).map((function(t){return e.valueFromWireFormat(t,r,o)})):t}},{key:"enumlistValueFromWireFormat",value:function(t,n){if(!t)return[];var r=n.BaseType,o=e.parseAuxData(n.BaseTypeQualifier);if("function"==typeof t.split){var i=e.fromTypeData("_temp",r,o);return i.splitEnumListValue(t).map((function(e){return i.valueFromWireFormat(e)}))}return t}},{key:"enumValueFromWireFormat",value:function(t,n){var r=n.BaseType,o=e.parseAuxData(n.BaseTypeQualifier);return e.valueFromWireFormat(t,r,o)}},{key:"refValueFromWireFormat",value:function(t,n){var r=n.ReferencedType,o=e.parseAuxData(n.ReferencedTypeQualifier);return e.valueFromWireFormat(t,r,o)}},{key:"listValueToWireFormat",value:function(t,n){var r=this,o=n.ElementType,i=e.parseAuxData(n.ElementTypeQualifier);return t?Array.isArray(t)?t.filter((function(e){return null!=e&&""!==e})).map((function(e){return r.valueToWireFormat(e,o,i)})).join(e.listDelimiter):t:""}},{key:"enumlistValueToWireFormat",value:function(t,n){var r=this,o=n.BaseType,i=e.parseAuxData(n.BaseTypeQualifier);return"string"==typeof t?t:t?t.filter((function(e){return null!=e&&""!==e})).map((function(e){return r.valueToWireFormat(e,o,i)})).join(e.listDelimiter):""}},{key:"enumValueToWireFormat",value:function(t,n){var r=n.BaseType,o=e.parseAuxData(n.BaseTypeQualifier);return e.valueToWireFormat(t,r,o)}},{key:"refValueToWireFormat",value:function(t,n){var r=n.ReferencedType,o=e.parseAuxData(n.ReferencedTypeQualifier);return e.valueToWireFormat(t,r,o)}},{key:"priceValueFromWireFormat",value:function(e,t){var n="$";return(null==t?void 0:t.CurrencySymbol)&&(n=t.CurrencySymbol),"string"==typeof e&&null!=e&&0===e.indexOf(n)&&(e=e.substr(1)),null!=e&&""!==e?this.getNumberFromString(e):null}},{key:"fileValueFromWireFormat",value:function(e){return null==e?null:e}},{key:"urlValueFromWireFormat",value:function(e){if(!e||"{"!==e[0])return new b.default(e,e);try{var t=JSON.parse(e),n=t.Url,r=t.LinkText;return new b.default(n,r)}catch(e){return m.default.ReportErrorOnce({errorMessage:"Error parsing json Url type"}),new b.default("",null)}}},{key:"normalizeUrlValue",value:function(e){return e&&!e.match(/\w+\:/)?"http://"+e:e}},{key:"toHttpsUrl",value:function(e){if(e){if(!e.match(/^\w+:\/\//))return"https://"+e;if(e.match("^http://"))return e.replace("http://","https://")}return e}},{key:"latLongValueFromWireFormat",value:function(e){if(e){var t=String(e).trim().split(/\s*,\s*/g);return 2===t.length?new O.default(t[0],t[1]):null}return null}},{key:"XYValueFromWireFormat",value:function(e){if(e){var t=String(e).trim().split(/\s*,\s*/g);if(2===t.length)return new w.default(t[0],t[1])}return e}},{key:"normalizePercentValueToNumber",value:function(e){var t=e;if(null==t||"number"==typeof t&&isNaN(t))return null;if("string"==typeof e&&e.indexOf("%")===e.length-1){t=e.substr(0,e.length-1);var n=parseFloat(t);return isNaN(n)?null:n}var r=Math.round(1e8*t)/1e6;return isNaN(r)?null:r}},{key:"getNumberFromString",value:function(e){if(null===e||""===e)return null;var t=Number(e);return isNaN(t)&&"string"==typeof e&&(t=Number(e.replace(/,/g,""))),t}},{key:"formatLocalizedNumber",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.precision,o=n.numericDigits,i=n.useGrouping,a=n.currencySymbol,l=void 0===a?"":a;if(!t&&0!==t)return"";var u="string"==typeof t?e.getNumberFromString(t):Number(t);if(isNaN(u))return m.default.warnToDevConsole("formatLocalizedNumber errored parsing number:",t),t;if(void 0!==r){var s=Math.pow(10,r);u=Math.round(u*s)/s}var c=g.default.decimal().toLocaleString(u,{useGrouping:null==i||i,minimumIntegerDigits:o});if(r){var d=u.toString().split(".")[1];if(d){var p=r-d.length;p>0&&(c+=new Array(p+1).join("0"))}else{var f=g.default.decimal().decimalSeparator||".";c+=f+new Array(r+1).join("0")}}return l+c}},{key:"validateNumeric",value:function(e){return!Array.isArray(e)&&e-parseFloat(e)+1>=0}},{key:"inferEnumListDelimiter",value:function(t,n){var r=e.enumListDelimiter;return("function"==typeof t.indexOf&&t.indexOf(e.listDelimiter)>=0||n&&d.default.includes(n,t))&&(r=e.listDelimiter),r}},{key:"splitEnumListValue",value:function(t,n,r){return t=t||"",n=n||e.inferEnumListDelimiter(t,r),"function"==typeof t.split?t.split(n).filter((function(e){return null!=e&&""!==e})):[t]}}]),e}();t.Attribute=q,q.validators={Color:function(){return!0},Enum:function(){return!0},EnumList:function(){return!0},"Yes/No":function(){return!0},Email:function(e){return null==e||""===e||!!e.match(/^[^@]+@[^@]+$/)},Text:function(e,t){return null==e||""===e||!((null==t?void 0:t.MinLength)&&e.length<t.MinLength)&&!((null==t?void 0:t.MaxLength)&&e.length>t.MaxLength)},LongText:function(e,t){return q.validators.Text(e,t)},LatLong:function(e){if(null==e||""===e)return!0;var t=e.match(/^(-?\d+(?:\.\d+)?),\s?(-?\d+(?:\.\d+)?)$/);return!!t&&h.default.isValidLatLng(t[1],t[2])},XY:function(e){if(null==e||""===e)return!0;var t=e.match(/^(-?\d+(?:\.\d+)?),\s?(-?\d+(?:\.\d+)?)$/);return!!t&&(w.default.isValidXOrY(t[1])&&w.default.isValidXOrY(t[2]))},Number:function(e,t){return q.validators.Decimal(e,d.default.extend({},t,{DecimalDigits:0}))},Decimal:function(e,t){if(t||(t={}),null==e||""===e)return!0;var n,r=(0,y.fastTrim)(e);try{n=new p.default(r)}catch(e){return!1}var o,i=t.MinValue||0;if(t.StepValue&&null!=t.MaxValue){o=new p.default(t.MaxValue).minus(i).div(t.StepValue).round(void 0,0).times(t.StepValue).plus(i).toString()}else o=t.MaxValue;if(null!=t.MaxValue&&n.gt(o))return!1;if(null!=t.MinValue&&n.lt(t.MinValue))return!1;var a,l=null==t.DecimalDigits?2:t.DecimalDigits;return a=0===l?"^-?\\d*?$":"^-?\\d*(?:\\.\\d{1,"+l+"})?$",new RegExp(a).test(r)},Percent:function(e,t){return t||(t={}),d.default.endsWith(e,"%")&&(e=e.substr(0,e.length-1)),q.validators.Decimal(e,d.default.extend({},t,{DecimalDigits:null==t.DecimalDigits?t.DecimalDigits:t.DecimalDigits+2,MinValue:null==t.MinValue||0===t.MinValue?t.MinValue:t.MinValue/100,MaxValue:null==t.MaxValue||0===t.MaxValue?t.MaxValue:t.MaxValue/100,StepValue:null==t.StepValue||0===t.StepValue?t.StepValue:t.StepValue/100}))},Price:function(e,t){return q.validators.Decimal(e,t)},ChangeCounter:function(){return!0},ChangeTimestamp:function(){return!0},DateTime:function(e,t){var n;if(null==e||""===e)return!0;var r=new Date(e);if(isNaN(r.getSeconds()))return!1;if((null===(n=T.AppGlobals.AppModel)||void 0===n?void 0:n.inRollout("DateTimeRespectsMinMax"))&&t){var o=t.MinValue,i=t.MaxValue;if(null!=i&&r>new Date(i))return!1;if(null!=o&&r<new Date(o))return!1}return!0},Date:function(e){if(null==e||""===e)return!0;var t=g.default.date().momentFromWireFormat(e).toDate();return!isNaN(t.getSeconds())},Time:function(e){if(null==e||""===e)return!0;if(!e.match(/^\d{2}:\d{2}(:\d{2})?/))return!1;var t=new Date("12/30/1970 "+e);return!isNaN(t.getSeconds())},Duration:function(e){return null==e||""===e||null!=e.match(/^-?(\d+):([0-5][0-9]):([0-5][0-9])$/)},Drawing:function(){return!0},Signature:function(){return!0}},q.enumListDelimiter=", ",q.listDelimiter=" , ",q.SHEET_FORMULA_NEEDS_RECOMPUTE="[sync to compute]";var W=q;t.default=W},107465:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(689728)),i=r(n(856690)),a=(0,o.default)((function e(t,n){(0,i.default)(this,e),this.singleDataContext=t,this.rows=n}));t.default=a},385857:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(627424)),a=r(n(600861)),l=r(n(856690)),u=r(n(689728)),s=r(n(496486)),c=A(n(150198)),d=r(n(192137)),p=r(n(962553)),f=A(n(302443)),g=r(n(190644)),h=r(n(498967)),m=r(n(365914)),y=A(n(888861)),v=n(959191),b=n(166089),O=n(714067),w=r(n(819433)),S=n(95483);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},C=new WeakMap;function x(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.rowData;if(i[e.tempId])return a;i[e.tempId]=!0,s.default.keys(e.pendingRefStates).forEach((function(a){x(e.pendingRefStates[a],t,n,r,o+1,i)})),s.default.keys(e.pendingReverseRefStates).forEach((function(a){x(e.pendingReverseRefStates[a],t,n,r,o-1,i)}));var l=t[e.tableName]||{},u=n[o]||{};return l[e.tempId]=e,u[e.tempId]=e,t[e.tableName]=l,t[e.rootTableName]=l,n[o]=u,r[e.tempId]=e,a}var D=function(){function e(t,n,r,o,i,a,u,s){(0,l.default)(this,e),this.appModel=t,this.formState=o,this._parentContext=i,this.inputParameterValues=a,this.uiContext=u,this._transaction=s,this.isFakeContext=!1,this.rowData=r||{},!n||n instanceof d.default||(n=new d.default(n)),this.tableSchema=n}return(0,u.default)(e,[{key:"pendingTransaction",get:function(){var e,t,n,r;if(!p.default.usePendingChangesStore)return this.appModel.dataManager.currentTransaction;if(this._transaction&&!this._transaction.closed)return this._transaction;var o=null===(e=this.uiContext)||void 0===e?void 0:e.viewStateKey;if(o){var i=(0,w.default)().getState(),a=null===(n=null===(t=(0,S.getViewStack)(i).find((function(e){return e.viewStateKey===o})))||void 0===t?void 0:t.mutableState)||void 0===n?void 0:n.transactionId;return null===(r=b.AppGlobals.AppModel)||void 0===r?void 0:r.dataManager.getTransaction(a)}}},{key:"schemaName",value:function(){return this.tableSchema&&this.tableSchema.name()}},{key:"isSettingsSchema",value:function(){return this.schemaName()===O.userSettingsSchemaName}},{key:"setParentContext",value:function(e){this._parentContext=e}},{key:"getParentContext",value:function(){return this._parentContext?this._parentContext:this.isSettingsSchema()||this.appModel.IsTestModel?null:this.appModel.userSettingsDataContext()}},{key:"getInputParameterValue",value:function(e){if(this.inputParameterValues&&e){var t=this.inputParameterValues[e.toLowerCase()];if(void 0!==t)return t;if(this._parentContext)return this._parentContext.getInputParameterValue(e)}return null}},{key:"isEmpty",value:function(){return 0===s.default.keys(this.rowData).length}},{key:"copy",value:function(){var t=new e(this.appModel,this.tableSchema,this.rowData,s.default.clone(this.formState),this._parentContext,void 0,this.uiContext,this._transaction);return t}},{key:"replaceRowData",value:function(e){this.rowData=e||{},this.formState&&(this.formState.rowData=e)}},{key:"augmentWithRowData",value:function(t){var n={};s.default.forEach(t,(function(e,t){n[t]={value:e,enumerable:!0,configurable:!0,writable:!0}}));var r=Object.create(this.rowData,n);return new e(this.appModel,this.tableSchema,r,void 0,void 0,void 0,this.uiContext)}},{key:"augmentWithViewContext",value:function(e,t){var n;if(!e||(null===(n=this.uiContext)||void 0===n?void 0:n.viewStateKey)===e)return this;var r=t?this:this.copy();return r.uiContext={viewStateKey:e},r}},{key:"augmentWithTransaction",value:function(e,t){var n,r=this;if(p.default.usePendingChangesStore&&e!==this._transaction&&((r=t?this:this.copy())._transaction=e),null==this.uiContext&&e){var o=null===(n=e.owningViewState)||void 0===n?void 0:n.viewStateKey;if(o)return r.augmentWithViewContext(o,t||r!==this)}return r}},{key:"augmentWith",value:function(e,t,n){var r=n?this.augmentWithRowData(n):this;return r=(r=r.augmentWithViewContext(e,r!==this)).augmentWithTransaction(t,r!==this)}},{key:"getValue",value:function(e){return"string"!=typeof e&&(e=e.name()),this.rowData[e]}},{key:"setValue",value:function(e,t){var n=this.rowData[e]!==t;return this.rowData[e]=t,this.formState&&(this.formState.rowData[e]=t),n}},{key:"extendDefaultRecomputeParams",value:function(e){var t=e.theseAttributesAndInfluenced,n=P(e,["theseAttributesAndInfluenced"]);return t=s.default.clone(t),Object.assign({considered:{},computed:{},computeDefaults:!1,skipChangeTriggers:!1,skipLeafAttrs:!1,initialData:s.default.clone(this.rowData),nowDate:new Date,theseAttributesAndInfluenced:t},n)}},{key:"recomputeDynamicValues",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.extendDefaultRecomputeParams(n),o=null!==(e=r.theseAttributesAndInfluenced)&&void 0!==e?e:this.tableSchema.dynamicAttributes(),i=k(o);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.recomputeAttribute(a,r)}}catch(e){i.e(e)}finally{i.f()}}},{key:"recomputeAppFormulas",value:function(e){var t,n=this.extendDefaultRecomputeParams(e),r=k(this.tableSchema.dynamicAttributes());try{for(r.s();!(t=r.n()).done;){var o=t.value;(o.hasAppFormula()||o.isChangeTriggered()||o.resetsEachUpdate()||o.hasResetExpression())&&this.recomputeAttribute(o,n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"recomputeVirtualColumns",value:function(e){this.recomputeAppFormulas({computeDefaults:!1,skipLeafAttrs:!1,virtualOnly:!0,recomputeKey:!!(null==e?void 0:e.recomputeKey)})}},{key:"recomputeInfluencedAttributes",value:function(e,t){var n=this;t=t||{},this.tableSchema.influencedDynamicAttributes(e).forEach((function(e){n.recomputeAttribute(e,t)}))}},{key:"recomputeAttribute",value:function(e,t){var n,r,o,i,l=this,u=(t=t||{}).considered=t.considered||{},c=t.computed=t.computed||{},d=t.skipTheseDefaults||{},p=t.initialData=t.initialData||s.default.clone(this.rowData),f=t.wasReset||{},h=t.theseAttributesAndInfluenced,y=this,v=e.name(),b=!1;if(!u[v]&&(u[v]=!0,e.isDynamic()&&(!t.virtualOnly||e.isVirtual()))){var O=v in d,w=this.tableSchema.dynamicDependencies(e);if((w.length||!t.skipLeafAttrs)&&(w.forEach((function(e){var n=e.name();u[n]||n===v||l.recomputeAttribute(e,t)})),!h||h.includes(e))){y._tempInitialData=p;var S=function(n){if(null!=n){var r;t.noAsync||"function"!=typeof t.getAsyncCallback||(r=t.getAsyncCallback(e));var o=n.run(y,{asyncCallback:r,attrName:v});o=e.coerceValue(o),o=e.valueToWireFormat(o),b=y.setValue(v,o),c[v]=!0}},T=e.resetsEachUpdate(),A=e.resetIfEvalTree();if(A&&(T=A.run(y)),O||(e.hasDefaultExpression()&&(t.computeDefaults||T)?S(e.defaultExpressionEvalTree()):T&&(b=y.setValue(v,""),c[v]=!0,f[v]=!0)),!t.skipChangeTriggers&&e.isChangeTriggered()){var k,E=0,P=y.getValue(v);T&&(p[v]=P);for(var C=T?P:p[v],x=0;x<w.length;x++){var D=w[x],R=D.name(),I=null!==(n=y.getValue(R))&&void 0!==n?n:"";if((null!==(r=p[R])&&void 0!==r?r:"")!==I&&(t.noAsync||"function"!=typeof t.getAsyncCallback||(k=t.getAsyncCallback(e)),e.checkChangeTriggered(C,P,D,I)&&(E++,!T)))break}if(E>0){var N;switch(e.type().toLowerCase()){case"changecounter":var j=1,L=Number(C);T&&(j=E),N=isNaN(L)?j:L+j;break;case"changetimestamp":N=P===C?m.default.MDYHMSformat(null!==(o=t.nowDate)&&void 0!==o?o:new Date,!0):P;break;case"changelocation":if(g.default.fetchLatLong((function(e,t){return k?k(g.default.stringifyLatLng(e,t)):null})),N="",g.default.lastPosition){var _=g.default.lastPosition.coords,M=_.latitude,G=_.longitude;N=g.default.stringifyLatLng(M,G)}}b=y.setValue(v,e.valueToWireFormat(N)),c[v]=!0}else b=y.setValue(v,p[v]),c[v]=!0}else if(e.hasAppFormula()){var F=this.tableSchema.isKeyComponent(e);(t.computeDefaults||!F||F&&t.recomputeKey)&&S(e.appFormulaEvalTree())}e.isKey()&&this.resolveParentRefs(),delete y._tempInitialData,b&&(null===(i=t.onDynamicValueChanged)||void 0===i||i.call(t,e,this.getValue(v)),h&&h.push.apply(h,(0,a.default)(this.tableSchema.influencedDynamicAttributes(e))))}}}},{key:"tableRow",get:function(){var e,t,n=this,r=this.pendingTransaction,o=null===(e=this.tableSchema)||void 0===e?void 0:e.sourceTableName(),i=null===(t=this.tableSchema)||void 0===t?void 0:t.keyAttribute().name(),a=this.appModel.findTableCollection(o).rootTable;return null==a?void 0:a.lookupTableRows(i,this.keyValue,r).filter((function(e){return e.values===n.rowData}))[0]}},{key:"stableId",get:function(){var e,t;return null!==(t=null===(e=this.tableRow)||void 0===e?void 0:e.stableId)&&void 0!==t?t:this.keyValue}},{key:"getColumnValue",value:function(e,t,n){var r,o;if(n||(n=0),-2===n){var i,a=this.pendingTransaction;if(this.formState&&this.formState.initialData)i=this.formState.initialData;else if(this._tempInitialData)i=this._tempInitialData;else if(a&&this.rowData){var l=this.tableSchema.sourceTableName();i=a.getInitialRowValues(l,this.stableId)}if(i)return i[e]}return n<1?(null===t||e&&"_this"!==e.toLowerCase()?"_thisrow"===e.toLowerCase()?e=null==(o=this.tableSchema.keyAttribute())?void 0:o.name():null!=t&&this.rowData&&!this.rowData.hasOwnProperty(e)&&(e=(null==(o=null===(r=this.tableSchema)||void 0===r?void 0:r.model.Attributes[t])?void 0:o.Name.toLowerCase())===e.toLowerCase()?null==o?void 0:o.Name:e):e=null==(o=this.tableSchema.model.Attributes[t])?void 0:o.Name,null!=e&&null!=this.rowData?this.rowData[e]:null):this.getParentContext()?this.getParentContext().getColumnValue(e,t,n-1):null}},{key:"getTableColumnValue",value:function(e,t,n,r){var o=p.default.findByName(e,this.appModel),i=o.table,a=o.tableSchema;if(null!=i&&null!=a){var l=a.keyAttribute().name(),u=i.table,s=this.appModel.FindTableDefinition(e);if(null!=u&&null!=s&&null!=s.SchemaName){var c=this.getTableRow(u,t,{keyAttrName:l});if(null!=c){if(null==n){var d=this.appModel.FindSchema(s.SchemaName);null!=d&&(n=d.Attributes[r].Name)}if(null!=n)return c[n]}}}return null}},{key:"makeColumnSetKey",value:function(e){var t=e.tableName,n=e.rowListAttrName,r=e.columnIndex,o=e.makeDistinct,i=e.maxEntries,a=e.elementAttribute;return[t,n,r,o,i,a.type(),a.auxDataString()].join("|")}},{key:"sortData",value:function(e,t,n,r){var o=this,i=p.default.findByName(t,this.appModel),a=i.table,l=i.tableSchema;if(!a||!l)return e.slice(0,r);var u=l.keyAttribute(),s=this.makeNestedContext(l),d=e.map((function(e){var t,r=u.valueToWireFormat(e);return s.replaceRowData(null===(t=a.lookupTableRow(r,o.pendingTransaction))||void 0===t?void 0:t.values),{refVal:e,sortExpr:n.map((function(e){return e.sortExpression.run(s)}))}})),f=n.map((function(e){return new c.default({Type:e.sortExpression.resultType(),TypeAuxData:JSON.stringify(e.sortExpression.resultTypeQualifier())})}));return h.default.sort(d,(function(e,t){for(var r=0;r<n.length;r++){var o=f[r].valueComparer(c.ValueFormat.Native)(e.sortExpr[r],t.sortExpr[r]);if(0!==o)return n[r].descending?-1*o:o}return 0})),r&&(d=d.slice(0,r)),d.map((function(e){return e.refVal}))}},{key:"makeNestedContext",value:function(t){var n=new e(this.appModel,t,void 0,void 0,this,void 0,this.uiContext);return this.isFakeContext&&(n.isFakeContext=!0),n}},{key:"getTableColumnSet",value:function(e,t,n,r,o,a,l){var u,d,p=this,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,g=this.appModel.findTableCollection(e),h=g.table,m=g.tableSchema,O=g.rootTableSchema,w=O&&O.allAttributes()[t];if(null!=h&&null!=m&&null!=w){var S=h.table,T=null,A=null,k=null,E=null,P=!1;if(null!=n&&(E=this.makeNestedContext(m),k=n.curry(E)),null!=a){var C=this.getColumnValue(l,a,f),x=null===(u=b.AppGlobals.AppState)||void 0===u?void 0:u.pendingFormState;if(null==x)A=(null==C?void 0:C.split(c.default.listDelimiter).filter((function(e){return null!=e&&""!==e})))||[],T=s.default.compact(A.map((function(e){var t;return null===(t=h.lookupTableRow(e,p.pendingTransaction))||void 0===t?void 0:t.values})));else{var D="List",R={ElementType:"Ref",ElementTypeQualifier:null};A=c.default.valueFromWireFormat(C,D,R);var I=S.keyAttrName;T=[];for(var N=0;N<A.length;N++){var j=A[N],L={};L[I]=j,T=T.concat(this.getTableRows(S,L))}}}else if(null!=k)if("CONSTANT"===k.evalType()&&"Yes/No"===k.resultType()&&"N"===k.constantValue())T=null;else{var _=null;if(null===(d=this.appModel)||void 0===d?void 0:d.inRollout("curryNativeValue")){var M,G=(0,y.getFilterDefaultsAndFullyMapped)(k),F=(0,i.default)(G,2);M=F[0],P=F[1],_=(0,v.filterDefaultsToLookupValues)(M)}else"BOOLEAN"===k.evalType()&&(_=k.getLookupValues());T=this.getTableRows(S,_)}else T=this.getTableRows(S);if(null!=T){if(null!=k&&!P){var B=0,V={noCache:!0};T=T.filter((function(e){if(E.replaceRowData(e),o&&B>=o)return!1;var t=k.run(E,V);return t&&B++,t}))}var U=T.map((function(e){return e[w.name()]}));return r&&(U=s.default.uniq(U)),U}}return[]}},{key:"keyValue",get:function(){var e,t;return null===(e=this.rowData)||void 0===e?void 0:e[null===(t=this.tableSchema)||void 0===t?void 0:t.keyAttribute().name()]}},{key:"getTableRows",value:function(e,t){var n,r=(null===(n=b.AppGlobals.AppState)||void 0===n?void 0:n.pendingFormState)||this.formState,o=this.appModel.findTableCollection(e.Name).table;if(null==o)return[];var i=this.pendingTransaction;if(r&&!p.default.usePendingChangesStore){var a=(0,v.lookupValuesToFilterDefaults)(t);return o.filteredRowValues({filterDefaults:a,transaction:i},this.appModel,this)}var l=t&&o.lookupTableRowsByLookupValues(t,i,this);return(null!=l?l:o.rows({transaction:i,dataContext:this})).map((function(e){return e.values}))}},{key:"getTableRow",value:function(e,t){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.keyAttrName;if(e instanceof p.default?e=(o=e).table:o=p.default.findByName(e.Name,this.appModel).table,a){var l=(null===(n=b.AppGlobals.AppState)||void 0===n?void 0:n.pendingFormState)||this.formState,u=this.pendingRowsForTable(e.Name).filter((function(e){return e.tempId!==l.tempId&&e.rowData[a]===t}));if(u.length)return u[0].rowData}return o?null===(r=o.lookupTableRow(t,this.pendingTransaction))||void 0===r?void 0:r.values:null}},{key:"getFilteredTableRows",value:function(e,t){var n,r=(null===(n=b.AppGlobals.AppState)||void 0===n?void 0:n.pendingFormState)||this.formState,o=this.appModel.findTableCollection(e.Name).table;if(null==o)return[];if(r&&!p.default.usePendingChangesStore)return o.filteredRowValues({filterExpr:t});var i=this.pendingTransaction;return o.queryRowValues({filterExpr:t,transaction:i},this.appModel,this)}},{key:"findTableKeyValues",value:function(e){var t=p.default.findByName(e,this.appModel).tableSchema;if(null==t)return{data:[],key:null};var n=t.findAttributeIndex(t.keyAttribute().name());return{data:this.getTableColumnSet(e,n),key:t.keyAttribute()}}},{key:"getFilterDefaultValues",value:function(e){var t=null,n=e.refListFilter(this);if(n){var r=y.default.getFilterDefaults(n);if(r){t={};for(var o=0;o<r.length;o++)t[r[o].ColumnName]=r[o].ColumnValue}}return t}},{key:"resolveParentRefs",value:function(){for(var e,t=(null===(e=b.AppGlobals.AppState)||void 0===e?void 0:e.pendingFormState)||this.formState,n={};t;){var r=t,o=r.tempId,i=r.parentState,a=r.rowData,l=r.keyAttrName,u=r.launchedBy;if(n[o])break;if(n[o]=!0,i&&o in i.pendingRefStates){var c=a[l],d=i.rowData[u];if(d!==c){var p=this.appModel.findTableCollection(i.tableName).tableSchema,f=p&&p.findAttributeByName(u),g=null!=c?c:"";if(f&&"EnumList"===f.type()){d=f.valueFromWireFormat(d)||[];var h=C.get(t),m=null!=h?d.indexOf(h):-1;m>=0?d[m]=g:s.default.includes(d,g)||d.unshift(g),C.set(t,g),g=f.valueToWireFormat(d)}i.rowData[u]=g}}t=t.parentState}}},{key:"pendingSaves",value:function(){var e,t={},n={},r={},o=(null===(e=b.AppGlobals.AppState)||void 0===e?void 0:e.pendingFormState)||this.formState;return o&&x(o,t,n,r,0),{byTable:t,byDepth:n,byId:r}}},{key:"pendingRowsForTable",value:function(e){return s.default.values(this.pendingSaves().byTable[e]||{})}},{key:"pendingKeysForTable",value:function(e){return this.pendingRowsForTable(e).map((function(e){return e.rowData[e.keyAttrName]}))}},{key:"getLatLong",value:function(e){if(null==e?void 0:e.supportsAsync)return new Promise((function(t){g.default.fetchLatLong((function(e,n){return t(new f.default(e,n))}),(function(){return t(f.defaultLatLong)}),e)}));if(g.default.lastPositionAge()>1e4){var t=null==e?void 0:e.asyncCallback;g.default.fetchLatLong((function(e,n){return t?t(g.default.stringifyLatLng(e,n)):null}))}if(g.default.lastPosition){var n=g.default.lastPosition.coords,r=n.latitude,o=n.longitude;return new f.default(r,o)}return f.defaultLatLong}}],[{key:"getDefaultValues",value:function(e,t){var n;if(!t||e&&e.length||(e=y.default.getFilterDefaults(t)),e){if(!(e.length&&e[0].hasOwnProperty("ColumnName")&&e[0].hasOwnProperty("ColumnValue")))return e;n={};for(var r=0;r<e.length;r++){var o=e[r],i=o.ColumnName,a=o.ColumnValue;n[i]=a}}return n}}]),e}();t.default=D},743537:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=n(166089),l=function(){function e(t,n){(0,o.default)(this,e),this.model=t,this.view=n}return(0,i.default)(e,[{key:"type",value:function(){return this.model.EventType}},{key:"actionName",value:function(){return"**auto**"!==this.model.EventAction?this.model.EventAction:null}},{key:"action",value:function(e,t){e=e||a.AppGlobals.AppModel;var n=null;if(null!==this.actionName()&&e&&this.view){var r=e.appTemplate.actions();if(!t){var o=this.view.table(),i=o&&e.findTableCollection(o).rootTable;t=i&&i.name()}var l=this.actionName();l&&(n=r.findByName(t,l))}return n}}]),e}();t.default=l},513979:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(888861)),u=r(n(266522)),s=r(n(593186)),c=n(166089),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},p=function(e){var t;return e&&u.default.isDynamicFormattingColor(e)?u.default.getFormattingColorForTheme(null===(t=c.AppGlobals.AppModel)||void 0===t?void 0:t.AppTemplate.Presentation.DisplayTheme,e):e},f=function(){function e(t){(0,o.default)(this,e),this.data=t}return(0,i.default)(e,[{key:"settings",get:function(){if(!this._settings){var e={};try{var t=JSON.parse(this.data.Settings),n=t.icon,r=t.textSize,o=t.highlightColor,i=t.textColor,l=d(t,["icon","textSize","highlightColor","textColor"]),u=void 0,c=Number(r);c?u=Math.max(.2,Math.min(3,c)):0!==r&&"0"!==r||(u=0),e=a.default.omitBy(Object.assign(Object.assign({},l),{icon:"_blank_"===n?null:n,textColor:p(i),highlightColor:p(o),textSize:u}),a.default.isNil)}catch(e){s.default.warnToDevConsole("Formatting Rule Settings was not valid json",this.data)}this._settings=e}return this._settings}},{key:"tableOrSlice",value:function(){return this.data.TableOrSlice}},{key:"columns",value:function(){return this.data.ColumnsToFormat}},{key:"condition",value:function(){return!this._conditionEvalTree&&this.data.IsValid&&null!=this.data.Condition&&null!=this.data.ConditionEvaluatable&&(this._conditionEvalTree=l.default.create(this.data.ConditionEvaluatable)),this._conditionEvalTree||null}},{key:"equivalentKeyRollout",value:function(){var e=this.condition();if(null!=e&&"Equals"===e.operatorName()){var t=e.children.find((function(e){return"COLUMN"===e.evalType()})),n=e.children.find((function(e){return"CONSTANT"===e.evalType()}));if(null!=t&&null!=(null==n?void 0:n.constantValue()))return"SourceColumn:".concat(t.ColumnName," - RuleTable:").concat(this.tableOrSlice())}return null}},{key:"equivalentKey",value:function(){var e;if(null===(e=c.AppGlobals.AppModel)||void 0===e?void 0:e.inRollout("curryNativeValue"))return this.equivalentKeyRollout();var t=this.condition();if(t){var n=t.model;if(n&&"Equals"===n.OperatorName){var r=n.Children.find((function(e){return"COLUMN"===e.EvalType})),o=n.Children.find((function(e){return"CONSTANT"===e.EvalType}));if(!r||!o)return null;if(null!=o.ConstantValue)return"SourceColumn:"+r.ColName+" - RuleTable:"+this.tableOrSlice()}}return null}}]),e}();t.default=f},173861:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(513979)),u=r(n(962553)),s=r(n(385857)),c=r(n(365914)),d=n(166089),p={icon:[]},f=function(){function e(t,n){(0,o.default)(this,e);var r=t.filter((function(e){return!0===e.IsValid&&!e.Disabled}));this.rules=a.default.map(r,(function(e){return new l.default(e)})),this.appModel=n||d.AppGlobals.AppModel,this._cacheStore={timestamp:this.appModel.DataStamp,rulesForColumnOrAction:{},rulesForTable:{},formattingById:{}}}return(0,i.default)(e,[{key:"_makeCacheKey",value:function(e,t,n,r,o){return c.default.hashCode([e,t,n,r,o].join("|"))}},{key:"_validateCache",value:function(){this._cacheStore.timestamp!==this.appModel.DataStamp&&(this._cacheStore.timestamp=this.appModel.DataStamp,this._cacheStore.formattingById={})}},{key:"getFormatting",value:function(t){var n=t.tableOrSlice,r=t.rootTable,o=t.column,i=t.actionName,l=t.rowKey,c=t.dataContext,f=this.appModel||d.AppGlobals.AppModel;if(!r&&n){var g=u.default.findByName(n,f).table;g&&(r=g.rootTable())}if(r&&!c){var h={};l&&(h=r.findRow(l)||{}),c=new s.default(f,r.tableSchema,h)}this._validateCache();var m=r?r.name():"",y=this._makeCacheKey(m,o,i,l,c?JSON.stringify(c.rowData):null),v=this._cacheStore.formattingById[y];if(!v){var b=this.activeRules({rootTableName:m,column:o,actionName:i,dataContext:c}),O=b.activeRules,w=b.isPure;v=a.default.omitBy(e.mergeRulesByImportance(O),a.default.isNil),w&&(a.default.isEqual(v,p)&&(v=p),this._cacheStore.formattingById[y]=v)}return v}},{key:"rulesForTable",value:function(e){var t=this._cacheStore.rulesForTable[e];return t||(t=a.default.filter(this.rules,(function(t){return!(!e||t.data.TableOrSlice!==e)})),this._cacheStore.rulesForTable[e]=t),t}},{key:"rulesForColumnOrAction",value:function(e,t,n){var r=this._makeCacheKey(e,t,n),o=this._cacheStore.rulesForColumnOrAction[r];return o||(o=a.default.filter(this.rulesForTable(e),(function(e){return t?a.default.includes(e.data.ColumnsToFormat,t):n?a.default.includes(e.data.ColumnsToFormat,"__action__"+n):null==e.data.ColumnsToFormat||0===e.data.ColumnsToFormat.length})),this._cacheStore.rulesForColumnOrAction[r]=o),o}},{key:"activeRules",value:function(e){var t=e.rootTableName,n=e.column,r=e.actionName,o=e.dataContext,i=this.rulesForColumnOrAction(t,n,r),l=a.default.every(i,(function(e){return a.default.isNil(e.condition())||e.condition().isPure()})),u=a.default.filter(i,(function(e){return!!a.default.isNil(e.condition())||!!o&&!!e.condition().run(o)}));return{activeRules:u,isPure:l}}},{key:"computeWorstCaseFormatting",value:function(t,n){var r=n.tableOrSlice,o=n.column;return e.combineRulesToWorst(t,this.worstCaseRules({tableOrSlice:r,column:o}))}},{key:"worstCaseRules",value:function(e){var t=e.tableOrSlice,n=e.column,r=a.default.find(this.appModel.AppTemplate.AppData.TableSlices,(function(e){return e.Name===t})),o=r?r.SourceTable:t,i=a.default.filter(this.appModel.AppTemplate.AppData.TableSlices,(function(e){return e.SourceTable===o})),l=a.default.map(i,(function(e){return e.Name})),u=a.default.filter(this.rules,(function(e){return e.data.TableOrSlice===o||a.default.includes(l,e.data.TableOrSlice)}));return a.default.filter(u,(function(e){return n?a.default.includes(e.data.ColumnsToFormat,n):null==e.data.ColumnsToFormat||0===e.data.ColumnsToFormat.length}))}}],[{key:"mergeRulesByImportance",value:function(e){return a.default.reduce(e,(function(e,t){return a.default.extendWith(e,t.settings,(function(e,t,n){return"textSize"===n&&1===t?e:"icon"===n?(t&&e.unshift(t),e):t||e}))}),a.default.cloneDeep(p))}},{key:"combineRulesToWorst",value:function(e,t){var n={};return a.default.reduce(t,(function(e,t){var r=!1,o=t.equivalentKey();return o&&(n[o]&&(r=!0),n[o]=t),a.default.extendWith(e,t.settings,(function(e,t,n){return"icon"===n?(r||t&&e.unshift(t),e):"textSize"===n&&null!=e?Math.max(parseFloat(e),parseFloat(t)):t||e}))}),a.default.cloneDeep(p))}},{key:"cssStylesForText",value:function(e){var t={};return e.textColor&&(t.color=e.textColor),e.textSize&&(t.fontSize=e.textSize+"em"),t}},{key:"styleClassesForText",value:function(e){var t=[];return e.bold&&t.push("FormatRule--bold"),e.italic&&t.push("FormatRule--italic"),e.underline&&t.push("FormatRule--underline"),e.strikethrough&&t.push("FormatRule--strikethrough"),e.uppercase&&t.push("FormatRule--uppercase"),t.join(" ")}}]),e}();t.default=f},895466:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MISSING_AUTH_TOKEN=t.ImageHandle=void 0,t.isImageHandle=function(e){return null!=e&&"object"===(0,a.default)(e)&&null!=e.type&&null!=e.value};var o=r(n(856690)),i=r(n(689728)),a=r(n(918698)),l=r(n(496486)),u=r(n(365914)),s=r(n(571524)),c=r(n(593186)),d=r(n(112368)),p=n(263198),f=r(n(440587)),g=n(629503),h=n(646317),m=n(635672),y=n(166089),v=n(557310),b="missing_auth_token";t.MISSING_AUTH_TOKEN=b;var O=function(e,t){return"".concat(e,"|").concat(t)};var w={},S=function(){function e(t,n){if((0,o.default)(this,e),this._flattenCallbacks=new Map,this._flattened={},this._processCallbacks=[],this._processed=null,this._processPending=!1,"string"==typeof t&&0===t.indexOf("{")){var r=t;try{t=JSON.parse(r),t=f.default.from(t).url||t}catch(e){c.default.ReportError({errorMessage:"Tried to create ImageHandle from non-url string",serializedString:r})}}t&&"object"===(0,a.default)(t)?v.ReactRootUIConfig.isReactRoot()?this.model=Object.assign({},t):this.model=t.model||t:"string"==typeof t?(this.model={value:t},t&&0!==t.indexOf("data:")?this.model.type="Url":this.model.type="Data"):this.model={},n&&(this.model.tableName=n);var i=this.id()||(0,h.makeGuid)();this.model.id=i;var l=this.timestamp()||(new Date).toISOString();this.model.timestamp=l,w[i]=this,this.model.cachedById&&(this.model.value=y.AppGlobals.AppModel.GetFromImageCache(this.model.id)||"",delete this.model.cachedById)}return(0,i.default)(e,[{key:"equals",value:function(t){return t=e.from(t),this.id()===t.id()||this.value()&&this.value()===t.value()}},{key:"isValid",value:function(){return!(!this.type()||null==this.value())}},{key:"isAndroidHandle",value:function(){return this.isValid()&&"Android"===this.type()}},{key:"isIosHandle",value:function(){return this.isValid()&&"IOS"===this.type()}},{key:"isWebFileHandle",value:function(){return this.isValid()&&"WebFileReader"===this.type()}},{key:"isWebImageHandle",value:function(){return this.isValid()&&"WebImageReader"===this.type()}},{key:"isUrlHandle",value:function(){return this.isValid()&&"Url"===this.type()}},{key:"isDataHandle",value:function(){return this.isValid()&&"Data"===this.type()}},{key:"isBlank",value:function(){return null==this.value()||""===this.value()}},{key:"id",value:function(){return this.model.id}},{key:"timestamp",value:function(){return this.model.timestamp}},{key:"tableName",value:function(){return this.model.tableName}},{key:"type",value:function(){return this.model.type}},{key:"value",value:function(){return this.model.value}},{key:"mediaType",value:function(){return this.model.mediaType}},{key:"filePath",value:function(){var e,t;if(void 0===this.model.filePath){var n=null===(t=null===(e=y.AppGlobals.AppModel)||void 0===e?void 0:e.localState)||void 0===t?void 0:t.GetFilePaths(),r=this.id();n&&r&&(this.model.filePath=n[r]||void 0)}return this.model.filePath}},{key:"setFilePath",value:function(e){this.model.filePath=e,y.AppGlobals.AppModel.localState.AddImageFilePath(this.id(),e)}},{key:"setFileInput",value:function(e){this.file=e}},{key:"fileName",value:function(){return this.model.filename}},{key:"setFileName",value:function(e){this.model.filename=e}},{key:"preferredWidth",get:function(){return this.model.preferredWidth}},{key:"nestedHandle",value:function(){if(void 0!==this.model.nestedHandle){var t=e.from(this.model.nestedHandle,this.tableName());return t.isValid()?t:null}return null}},{key:"setNestedHandle",value:function(t){var n=e.from(t,this.tableName());return this.model.nestedHandle=n.isValid()?n:null,this}},{key:"resolve",value:function(){return this.isValid()?this.isDataHandle()?this.value():this.isUrlHandle()?y.AppGlobals.AppModel.ResolveFile(this.value(),this.tableName()):y.AppGlobals.AppModel.ResolveFile(this.model,this.tableName()):""}},{key:"_flushProcessCallbacks",value:function(e,t){var n=this,r=l.default.uniq(this._processCallbacks);this._processCallbacks=[],r.forEach((function(r){return r(e,t,n)}))}},{key:"canUseFirebaseUpload",value:function(){return this.isAndroidHandle()&&d.default.SupportsFirebaseFileUpload()}},{key:"getFirebaseToken",value:function(e){var t=this;(0,m.ajaxGet)("/api/firebaseToken").then((function(n){(null==n?void 0:n.firebaseToken)?(p.JeeneeBrowserAPI.setStorageAuth(n.firebaseToken),t.getUrlForSync(e,!1)):e(null,"")})).catch((function(){e(null,"")}))}},{key:"getUrlForSync",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.nestedHandle()?this.flatten(e):this.isBlank()?e(null,""):this.canUseFirebaseUpload()?p.JeeneeBrowserAPI.getFileStorageUrl(this.value(),(function(r){r&&r!==b?e(null,r):r===b&&n?t.getFirebaseToken(e):(c.default.ReportErrorOnce({errorMessage:"getUrlForSync firebase path falling back to base64"}),t.getBase64UrlForSync(e))})):this.getBase64UrlForSync(e)}},{key:"getBase64UrlForSync",value:function(e){var t=this;g.Common.processImage(this,(function(n){t.fileName()&&n.indexOf("#")<0&&(n+="#filename=".concat(encodeURIComponent(t.fileName()))),t.value()&&!n&&c.default.ReportErrorOnce({errorMessage:"Failed to get base64 data for sync",imageUrl:n}),e(null,n)}),(function(t){c.default.ReportErrorOnce({errorMessage:"Failed to get base64 data for sync",nestedErrorMessage:t}),e(t)}))}},{key:"getUrlForImgSrc",value:function(){var e=g.Common.getCachedImage(this);if(null!=e)return e;var t=this.value();switch(this.type()){case"Data":case"Url":return t;case"IOS":return void 0!==window.webkit?"appsheetios://?path="+encodeURIComponent(t)+"&method=getImageOrFile&id=5":"/jeenee_url?path="+encodeURIComponent(t)+"&id=5";case"Android":return d.default.IsAndroidAppWithMinVersion(6.8)&&t&&t.length<50?"/jeenee_url?path="+encodeURIComponent(t):t;case"WebFileReader":case"WebImageReader":return null}return null}},{key:"getBase64OrWebUrl",value:function(e){var t=this;if(this._processCallbacks.push(e),!this.isValid())return setTimeout((function(){return t._flushProcessCallbacks(null,"")}),1),"";if(this._processed)return setTimeout((function(){return t._flushProcessCallbacks(null,t._processed)}),1),this._processed;if(this.isUrlHandle()){var n=this.resolve();return setTimeout((function(){return t._flushProcessCallbacks(null,n)}),1),n}return this._processPending?"":(this._processPending=!0,g.Common.processImage(this,(function(e){t._processPending=!1,t._processed=e,t._flushProcessCallbacks(null,e)}),(function(e){t._processPending=!1,c.default.warnToDevConsole("unable to process image: ",e),t._flushProcessCallbacks(null,"")})))}},{key:"flushFlattenCallbacks",value:function(e,t,n){var r=this,o=l.default.uniq(this._flattenCallbacks.get(e));this._flattenCallbacks.delete(e),o.forEach((function(e){return e(t,n,r)}))}},{key:"cachedFlattened",value:function(e,t){return this._flattened[O(e,t)]}},{key:"flatten",value:function(e,t,n){var r=this,o=O(t,n),i=this._flattenCallbacks.get(o)||[];this._flattenCallbacks.set(o,i);var a=i.length>0;if(i.push(e),this.isValid()){var l=this.cachedFlattened(t,n);if(l)setTimeout((function(){return r.flushFlattenCallbacks(o,null,l)}),1);else if(!a){var d=document.createElement("canvas");d.width=0,d.height=0;var p=function(){c.default.warnToDevConsole("unable to load image data in ImageHandle.flatten"),r.flushFlattenCallbacks(o,null,r.resolve())},f=function(e,r){if(d){var o=e.width,i=e.height;if(s.default.IsMobileBrowser()){var a=Math.max(window.innerWidth,window.innerHeight);o=Math.min(e.width,a),i=Math.min(e.height,a)}t=d.width||t||o,n=d.height||n||i;var l=u.default.computeImageSizing({mode:d.width?"cover":"contain",containerWidth:t||0,containerHeight:n||0,imageWidth:e.width,imageHeight:e.height,centerHorizontal:!0}),c=l.scaledWidth,p=l.scaledHeight,f=l.left,g=l.top,h=d.getContext("2d");if(!d.width||!d.height){if(d.width=c,d.height=p,f=0,g=0,h.setTransform(1,0,0,1,0,0),v.ReactRootUIConfig.isReactRoot())h.fillStyle="rgba(0,0,0,0)";else{var m="#F8F8F8";y.AppGlobals.ViewManager.theme&&(m=y.AppGlobals.ViewManager.theme.getThemeColor("signatureBackground")||m),h.fillStyle=m}h.fillRect(0,0,d.width,d.height)}h.setTransform(1,0,0,1,0,0),h.drawImage(e,f,g,c,p)}delete e.onload,delete e.onerror,delete e.src,r(e)};!function e(o,i){var a=function(e){var t=new Image;e.match(/^data:/)?delete t.crossOrigin:t.crossOrigin="Anonymous",t.onerror=p,e?(t.onload=f.bind(null,t,i),t.src=e):setTimeout((function(){i(t)}),1)},l=o.cachedFlattened(t,n);l&&v.ReactRootUIConfig.isReactRoot()?a(l):o.getBase64OrWebUrl((function(t,n){if(t)p();else{n=n||"";var l=o.nestedHandle();l?function(t,n){e(n,(function(e){t?(e=new Image,t.match(/^data:/)?delete e.crossOrigin:e.crossOrigin="Anonymous",e.onerror=p,e.onload=f.bind(r,e,i),e.src=t):i(e)}))}(n,l):a(n)}}))}(this,(function(){try{v.ReactRootUIConfig.isReactRoot()?r._flattened[o]=d.toDataURL("image/png",1):r._flattened[o]=d.toDataURL("image/jpeg"),r.flushFlattenCallbacks(o,null,r._flattened[o])}catch(e){c.default.warnToDevConsole("unable to flatten composite image: ",e),r.flushFlattenCallbacks(o,null,r.resolve())}}))}}else setTimeout((function(){return r.flushFlattenCallbacks(o,null,"")}),1)}},{key:"toJSON",value:function(){var e=this.value(),t=l.default.clone(this.model);if(this.isDataHandle()&&e){var n=y.AppGlobals.AppModel.GetFromImageCache(this.id());n&&n===e||y.AppGlobals.AppModel.AddToImageCache(this.id(),e),t.cachedById=!0,t.value=u.default.hashCode(e)}return t}},{key:"toString",value:function(){return"Url"===this.type()&&this.value()||""}},{key:"toDebugString",value:function(){return JSON.stringify(this.model)}}],[{key:"from",value:function(t,n){return t instanceof e?(!t.tableName()&&n&&(t.model.tableName=n),t):t&&"object"===(0,a.default)(t)&&null!=t.id&&t.id in w?w[t.id]:new e(t,n)}},{key:"clearCache",value:function(){w={}}}]),e}();t.ImageHandle=S;var T=S;t.default=T},87786:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(654158)),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;(0,o.default)(this,e),this.tableRows=t,this._indexStore=n}return(0,i.default)(e,[{key:"indexStore",get:function(){var e;return null!==(e=this._indexStore)&&void 0!==e?e:this._indexStore=new Map}},{key:"push",value:function(e){this.tableRows.push(e)}},{key:"allRows",value:function(){return this.tableRows}},{key:"count",get:function(){return this.tableRows.length}},{key:"lookupAtomic",value:function(e,t){return e?this.getIndex(e).lookup(t).allRows():[]}},{key:"lookup",value:function(e){var t=this;if(!this.tableRows||!e.length)return null;if(e.map((function(e){return e.attribute})).filter((function(e){return!e||"List"===e.type()||"EnumList"===e.type()})).length)return null;var n=new WeakMap;if(e.forEach((function(e){n.set(e,t.getIndex(e.attribute).lookup(e.value))})),1===e.length)return n.get(e[0]).allRows();var r=a.default.sortBy(e,(function(e){return n.get(e).count}));return n.get(r[0]).lookup(r.slice(1))}},{key:"getIndex",value:function(e){var t=e.lowercaseName(),n=this.indexStore.get(t);return n||(n=new l.default(this.tableRows,e),this.indexStore.set(t,n)),n}}]),e}();t.default=u},306593:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.Paging=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=function(){function e(t){(0,o.default)(this,e);for(var n=1,r=[],i={1:r},a={},l=0;l<t.length;l++){var u=t[l],s=t[l-1],c=t[l+1];if(u.isPageHeader()){var d=r.filter((function(e){return!e.isHidden()&&!e.isPageHeader()})),p=u.showContent(),f=u.description(),g=!(null!=p&&""!==p||null!=f&&""!==f||u.hasDisplayName()),h=s&&s.isPageHeader()||c&&c.isPageHeader();if(g&&h)continue;if(g&&!c)continue;if(!d.length){if(g)continue;if(1===n){r.unshift(u),a[u.name()]=n;continue}var m=r[0];if(!(null!=m.showContent()&&""!==m.showContent()||null!=m.description()&&""!==m.description())){r[0]=u,a[m.name()]=null,a[u.name()]=n;continue}}r=[u],i[++n]=r,a[u.name()]=n}else r.push(u),a[u.name()]=n}this.attributes=t,this.attributesByPage=i,this.pagesByAttribute=a}return(0,i.default)(e,[{key:"formPageCount",get:function(){return a.default.keys(this.attributesByPage).length}},{key:"rowStateColumnNames",get:function(){return this.attributes.map((function(e){return e.name()}))}},{key:"pageHeader",value:function(e){return this.attributesOnPage(e).filter((function(e){return e.isPageHeader()}))[0]}},{key:"attributesOnPage",value:function(e){return this.attributesByPage[e]||[]}},{key:"onPage",value:function(e){return this.pagesByAttribute[e]}}]),e}();t.Paging=l},455127:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=n(166089),l=function(){function e(t){(0,o.default)(this,e),this.uiController=t,this.totalBigSteps=4,this.totalQueued=0,this.remainingQueued=0,this.completedSteps={},this.errorCount=0,this.intervalTimerCount=0,this.completeCount=1,this.errors=[]}return(0,i.default)(e,[{key:"disable",value:function(){this.clearIntervalTimer(),this.disabled=!0}},{key:"start",value:function(e){this.uiController.onStart(e)}},{key:"updateProgress",value:function(e){this.disabled||this.uiController.onProgress(e)}},{key:"finish",value:function(){this.disabled||(this.disable(),this.uiController.onFinish())}},{key:"raiseWarning",value:function(e){this.uiController.onWarning(e)}},{key:"getPlanInfo",value:function(){var e=a.AppGlobals.AppModel.AppTemplate,t=!1===e.HasValidPlan&&!e.IsPersonal&&!e.IsDeployable,n=e.PlanViolationLevel,r=e.OwnerId===a.AppGlobals.AppState.UserInformation.Id;return{violationLevel:n,upgradeNeeded:t,inTestMode:!e.IsDeployable&&!r}}},{key:"setSyncQueueStatus",value:function(e){var t,n;this.totalQueued=null!==(t=e.totalSteps)&&void 0!==t?t:0,this.remainingQueued=null!==(n=e.remainingSteps)&&void 0!==n?n:0,this.updateProgress(e)}},{key:"clearIntervalTimer",value:function(){null!=this.intervalHandle&&(clearInterval(this.intervalHandle),delete this.intervalHandle,this.intervalTimerCount=0)}},{key:"completeSection",value:function(e){var t=this;if(!this.disabled&&!this.completedSteps[e])if(this.completedSteps[e]=!0,this.completeCount++,this.updateProgress({step:e,percentDone:this.getCompletePercentage()}),this.checkFinished()){this.clearIntervalTimer();var n=this.getPlanInfo();(n.violationLevel||n.upgradeNeeded||n.inTestMode)&&this.raiseWarning(n),this.finish()}else this.clearIntervalTimer(),this.intervalHandle=setInterval((function(){t.intervalTimerCount++,t.updateProgress({percentDone:t.getCompletePercentage()}),t.intervalTimerCount>9&&t.clearIntervalTimer()}),3e3)}},{key:"raiseError",value:function(e){if(!this.disabled){var t=e instanceof Error?e.message:e;this.clearIntervalTimer(),this.errorCount++,this.errors.push(t),this.uiController.onError(t)}}},{key:"getErrors",value:function(){return this.errors[0]}},{key:"getCompletePercentage",value:function(){var e=this.totalQueued+this.totalBigSteps,t=1-(this.remainingQueued+this.totalBigSteps-this.completeCount)/e,n=this.intervalTimerCount;return n>=9&&(n=9),100*(t+=n/(10*e))}},{key:"checkFinished",value:function(){return this.totalBigSteps===this.completeCount}},{key:"setSyncingStatus",value:function(e){var t,n;this.disabled||null===(n=(t=this.uiController).onSyncingStatus)||void 0===n||n.call(t,e)}},{key:"closeDialog",value:function(){this.uiController.close()}}]),e}();t.default=l},494012:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RowState=t.DynamicStateStore=void 0;var o=r(n(238416)),i=r(n(856690)),a=r(n(689728)),l=r(n(496486)),u=r(n(150198)),s=n(365914),c=n(166089),d=r(n(962553)),p=n(557310);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,i.default)(this,e),this.name=t,this.evalName=n,this.store=new Map,this.checkFn=r,this.dependencies=o}return(0,a.default)(e,[{key:"evalTree",value:function(e){return e.evalTreeLookup(this.evalName)}},{key:"tablesReferenced",value:function(e){return l.default.compact(l.default.flatMap(l.default.concat(this.dependencies,this),(function(t){return t.evalTree(e)&&t.evalTree(e).tablesReferenced()})))}},{key:"invalidate",value:function(t){var n,r=e.makeCacheKeyPrefix(t),o=e.makeCacheKey(t),i=f(this.store.keys());try{for(i.s();!(n=i.n()).done;){var a=n.value;(a===o||null!=r&&a.startsWith(r))&&this.store.delete(a)}}catch(e){i.e(e)}finally{i.f()}}},{key:"check",value:function(t,n){var r=e.makeCacheKey(t,n);if(this.store.has(r))return this.store.get(r);var o=this.checkFn(t,n);return this.store.set(r,o),o}}],[{key:"makeCacheKey",value:function(e,t){return p.ReactRootUIConfig.isReactRoot()?e.name()+(t?"/".concat(t):""):e.name()}},{key:"makeCacheKeyPrefix",value:function(e){return p.ReactRootUIConfig.isReactRoot()?e.name()+"/":null}}]),e}();t.DynamicStateStore=h;var m=function(){function e(t,n,r,o){var a=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};(0,i.default)(this,e),this._checkValidOptions=function(e,t){if(e.isValidityEnum()){var n=e.validIfEvalTree().getInConditionListInformation(a.dataContext.augmentWithViewContext(t)),r=n.values;return n.elementAttribute.valuesToWireFormat(r)}return null},this._checkSuggestedValues=function(e,t){return e.hasSuggestedValues()?e.valuesToWireFormat(e.suggestedValuesEvalTree().run(a.dataContext.augmentWithViewContext(t))):null},this._checkShowContent=function(e,t){if(e.isShowType()){var n=e.evalTreeLookup("ShowContent");if(n){var r=n.run(a.dataContext.augmentWithViewContext(t));return r=e.coerceValue(r,n.resultType(),n.resultTypeQualifier()),r=e.valueToWireFormat(r),e.localizeWireValue(r)}return e.auxData().Content||null}return null},this._checkDisplayName=function(e,t){return e.displayName(a.dataContext.augmentWithViewContext(t))},this._checkHidden=function(e,t){var n,r,o,i=a.value(e),s=e.isReverseDependentRef(),c=a.pendingFormState(),p=null===(o=null===(r=null===(n=null===window||void 0===window?void 0:window.AppState)||void 0===n?void 0:n.CurrentUIState)||void 0===r?void 0:r.FormUIState)||void 0===o?void 0:o.DefaultValues,f=Array.isArray(p)&&p.length>1;if(c||f){if(e.isVirtual()&&e.isKey())return!0;if(e.isSys()&&!s)return!0;if(f){if(e.isKey())return!0;if(l.default.includes(l.default.keys(p[0]),e.name()))return!0}}if(!e.isShowType()&&!u.default.valueExists(i,e.type())&&(!a.isEditable(e,t)||!a.appModel.allowScanOverride()&&(e.isScannable()||e.isNfcScannable())&&!e.shouldShowScannerButtons())){if(!s)return!0;if(f)return!0;var g=a.appModel.findTableCollection(e.nestedAttribute().referencedTableName()).table;if(!g||!g.allowsAdd(a.appModel))return!0}if(a.isEditable(e,t)&&e.isValidityEnum()){var h=a.validOptions(e,t);if(null==h||0===h.length){var m=e.referencedTableName();if(null==m)return!0;var y=d.default.findByName(m,a.appModel).table;if(null==y||!y.allowsAdd(a.appModel))return!0}}if(c||f||a.appModel.appTemplate.respectShowIf){var v=e.showIfEvalTree();if(v){var b=a.dataContext;return e.isPageHeader()&&a.getVisitedDataContext&&(b=a.getVisitedDataContext()||a.dataContext),!v.run(b.augmentWithViewContext(t))}}return!!e.isHidden()},this._checkValid=function(e,t){var n=e.validIfEvalTree(),r=a.value(e);if(e.isShowType())return!0;if(!u.default.valueExists(r,e.type())||r===u.default.SHEET_FORMULA_NEEDS_RECOMPUTE)return!0;if(a.isHidden(e,t))return!0;var o=a.paging.onPage(e.name()),i=a.paging.pageHeader(o);return!(!a.includes(i)||!a.isHiddenPage(i,t))||!(n&&!n.run(a.dataContext.augmentWithViewContext(t)))&&e.validateValue(r)},this._checkRequired=function(e,t){if(e.isKey())return!0;if(a.isHidden(e,t))return!1;if(e.isShowType())return!1;var n=a.paging.onPage(e.name()),r=a.paging.pageHeader(n);if(a.includes(r)&&a.isHiddenPage(r,t))return!1;var o=e.requiredIfEvalTree();return o?!!o.run(a.dataContext.augmentWithViewContext(t)):!!e.isRequired()},this._checkEditable=function(e,t){if(!1===a.table.allowsUpdate(a.appModel)&&!a.isNewRow)return!1;if(!1===a.table.allowsAdd(a.appModel)&&a.isNewRow)return!1;if(a.editableColumnAllowlist&&!l.default.includes(a.editableColumnAllowlist,e.name()))return!1;if(a.editableColumnDenylist&&l.default.includes(a.editableColumnDenylist,e.name()))return!1;if(null!=e.firstNestedRef()&&a.stableId&&a.appModel.dataManager.currentTransaction.hasStableReverseRef({tableName:a.table.rootName(),stableId:a.stableId,refColumnName:e.name()}))return!1;if(e.isReadOnly()||e.hasAppFormula()||e.hasFormula()||e.isShowType()||e.isChangeTriggered())return!1;if(!a.isNewRow&&(e.isKey()||a.tableSchema.isKeyComponent(e)))return!1;var n=e.editableIfEvalTree();return!n||!!n.run(a.dataContext.augmentWithViewContext(t))},this.appModel=t,this.table=n,this.tableSchema=n.tableSchema,this.view=c.view,this.dataContext=r,this.getVisitedDataContext=c.getVisitedDataContext,this.rowKey=o,this.stableId=c.stableId,this.stateAttributes=s,this.editableColumnAllowlist=c.editableColumnAllowlist,this.editableColumnDenylist=c.editableColumnDenylist,this.rowStatePaging=c.paging;var p=new h("displayName","DisplayName",this._checkDisplayName),f=new h("showContent","ShowContent",this._checkShowContent),g=new h("validOptions","Valid_If_AppEval",this._checkValidOptions),m=new h("suggestedValues","Suggested_Values",this._checkSuggestedValues),y=new h("isEditable","Editable_If_AppEval",this._checkEditable),v=new h("isHidden","Show_If_AppEval",this._checkHidden,[y,g]),b=new h("isValid","Valid_If_AppEval",this._checkValid,[v]),O=new h("isRequired","Required_If_AppEval",this._checkRequired,[v]),w={displayName:p,showContent:f,validOptions:g,suggestedValues:m,isEditable:y,isHidden:v,isValid:b,isRequired:O};this.stateStores=w}return(0,a.default)(e,[{key:"displayName",value:function(e,t){return this.stateStores.displayName.check(e,t)}},{key:"showContent",value:function(e,t){return this.stateStores.showContent.check(e,t)}},{key:"validOptions",value:function(e,t){return this.stateStores.validOptions.check(e,t)}},{key:"suggestedValues",value:function(e,t){return this.stateStores.suggestedValues.check(e,t)}},{key:"isEditable",value:function(e,t){return this.stateStores.isEditable.check(e,t)}},{key:"isHidden",value:function(e,t){return this.stateStores.isHidden.check(e,t)}},{key:"isValid",value:function(e,t){return this.stateStores.isValid.check(e,t)}},{key:"isRequired",value:function(e,t){return this.stateStores.isRequired.check(e,t)}},{key:"isNewRow",get:function(){return null==this.rowKey}},{key:"paging",get:function(){var e;return this.rowStatePaging||(null===(e=this.view)||void 0===e?void 0:e.paging)||this.tableSchema.paging}},{key:"values",value:function(){return this.dataContext.rowData}},{key:"value",value:function(e){return"string"!=typeof e&&(e=e.name()),this.dataContext.getValue(e)}},{key:"onDataChange",value:function(e){var t=this;this.stateStores&&l.default.values(this.stateStores).forEach((function(n){t.stateAttributes.forEach((function(t){var r=n.tablesReferenced(t);l.default.includes(r,e.tableName)&&n.invalidate(t)}))}))}},{key:"updateAndValidate",value:function(t,n,r){if("string"==typeof t&&(t=this.tableSchema.findAttributeByName(t)),t){var i=l.default.clone(this.values()),a=this.validateSave({viewStateKey:r}).errorState;this.dataContext.setValue(t.name(),n);var u={initialData:i,noAsync:!0};(t.resetsEachUpdate()||t.hasResetExpression())&&(u.skipTheseDefaults=(0,o.default)({},t.name(),!0)),this.dataContext.recomputeAppFormulas(u),this.refreshState();var s=this.validateSave({viewStateKey:r}).errorState;return e.changeInvalidatesRow(t,a,s)}return null}},{key:"includes",value:function(e){return l.default.includes(this.stateAttributes,e)}},{key:"id",get:function(){var e;return null!==(e=this.stableId)&&void 0!==e?e:this.value(this.tableSchema.keyAttribute())}},{key:"refreshState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stateAttributes;l.default.values(this.stateStores).forEach((function(t){e.forEach((function(e){t.invalidate(e)}))}))}},{key:"getErrorState",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stateAttributes,r=arguments.length>1?arguments[1]:void 0,o=l.default.clone(this.values()),i=function(e){return e.map((function(e){return e.name()}))},a=function(e){return null==o[e.name()]||""===o[e.name()]},u=function(e){return e.isKey()||t.tableSchema.isKeyComponent(e)},s=i(n.filter((function(e){return!t.isValid(e,r)}))),c=i(n.filter((function(e){return a(e)&&t.isRequired(e,r)}))),d=l.default.uniq(l.default.concat(s,c).map((function(e){return t.paging.onPage(e)}))),p=d.length>0,f=n.filter((function(e){return a(e)&&u(e)&&t.isHidden(e,r)}));return f.length&&(e="Key field '".concat(f[0].name(),"' cannot be blank")),{error:p,message:e,invalid:s,missingRequired:c,pages:d,rowValues:o}}},{key:"validateSave",value:function(e){var t,n,r,o=void 0===e?{}:e,i=o.enforceStableKey,a=void 0!==i&&i,s=o.usedTransactions,c=void 0!==s&&s,d=o.transaction,p=o.viewStateKey,f=void 0===p?null===(t=null==d?void 0:d.owningViewState)||void 0===t?void 0:t.viewStateKey:p,g=this.values(),h=this.tableSchema.keyAttribute(),m=h.name(),y=this.rowKey;r=(n=this.getErrorState(void 0,f)).pages,n.error||(n=null,r=null);var v=g[m];if(u.default.valueExists(v,h.type())||(n={error:!0,message:"Key field '".concat(m,"' is required"),pages:r}),this.isNewRow){var b=c?1:0;this.table.rootTable().lookupTableRows(m,v,d).length>b&&(n={error:!0,message:"There is already a row with the key: '".concat(v,"'"),pages:r})}else v!==y&&(this.tableSchema.keyAttribute().isVirtual()&&l.default.trim(v)===l.default.trim(y)||(a?n={error:!0,message:"The key of an existing row cannot be changed",pages:r}:v=y));return{errorState:n,newRowKey:v}}},{key:"pendingFormState",value:function(){var e;return this.dataContext.formState||(null===(e=c.AppGlobals.AppState)||void 0===e?void 0:e.pendingFormState)}},{key:"isHiddenPage",value:function(e,t){return!(!e.isPageHeader()||!this.isHidden(e,t)||null==e.showIfEvalTree())}}],[{key:"diffErrorState",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.checkValueChange,a=void 0===i||i,u=o.wasReset,c=void 0===u?{}:u;if(!t||!t.error)return null;e=e||{};var d=new s.NestedStore;if(t.message&&t.message!==e.message&&d.store("message",t.message),null!=t.invalid)for(var p=0;p<t.invalid.length;p++){var f=t.invalid[p],g=null===(n=e.rowValues)||void 0===n?void 0:n[f],h=null===(r=t.rowValues)||void 0===r?void 0:r[f];(null==e||!l.default.includes(e.invalid,f)||a&&g!==h)&&d.push("invalid",f)}if(t.missingRequired)for(var m=0;m<t.missingRequired.length;m++){var y=t.missingRequired[m];null!=e&&l.default.includes(e.missingRequired,y)?a&&c[y]&&d.push("missingRequired",y):d.push("missingRequired",y)}return d.isEmpty()?null:d.toSimpleObject()}},{key:"changesInvalidateRow",value:function(e,t){var n;if(!t||!t.error)return null;if(e=e||{},t.message&&t.message!==e.message)return{message:t.message};if(null!=t.invalid)for(var r=0;r<t.invalid.length;r++){var o=t.invalid[r],i=null===(n=e.rowValues)||void 0===n?void 0:n[o],a=t.rowValues[o];if(!l.default.includes(e.invalid,o)||i!==a)return{attribute:o,reason:"invalid"}}if(t.missingRequired)for(var u=0;u<t.missingRequired.length;u++){var s=t.missingRequired[u];if(!l.default.includes(e.missingRequired,s))return{attribute:s,reason:"blank and required"}}return null}},{key:"changeInvalidatesRow",value:function(t,n,r){return r&&r.error?l.default.includes(r.invalid,t.name())?{attribute:t.name(),reason:"invalid"}:l.default.includes(r.missingRequired,t.name())?{attribute:t.name(),reason:"blank and required"}:e.changesInvalidateRow(n,r):null}}]),e}();t.RowState=m;var y=m;t.default=y},69411:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(856690)),a=r(n(689728)),l=n(166089),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(21870));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=function(){function e(){var t=this;(0,i.default)(this,e),this.close=function(){l.AppGlobals.ViewManager.ShowingInfoPage()&&"none"!==$("#InfoPage #LaunchScreen").css("display")&&l.AppGlobals.ViewManager.HideInfoPage((function(){$("#InfoPage").hasClass("ActivePage")||t.launchScreen.hide()}))}}return(0,a.default)(e,[{key:"launchScreen",get:function(){return $("#LaunchScreen")}},{key:"onStart",value:function(){u.default.syncState.ui===u.SyncUI.Blocking&&l.AppGlobals.ViewManager.ShowLaunchScreen()}},{key:"onProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.totalSteps,n=e.remainingSteps,r=e.step,o=e.percentDone;if(void 0!==t){var i=l.AppGlobals.AppModel.MapActionName("Saving changes"),a=l.AppGlobals.AppModel.MapActionName("Syncing...");null!=n&&null!=t&&(i="".concat(i," (").concat(t-n+1,"/").concat(t,")"));var u=n&&n>0?i:a;this.launchScreen.find(".SyncingStatusLabel .LoadingStatusLabelMain").text(u)}o&&this.launchScreen.find(".LoadingStatus .bar").css("width",o+"%"),r&&this.launchScreen.find(".LoadStatusDiv .Loaded"+r).removeClass("LoadingState").addClass("LoadedState")}},{key:"onFinish",value:function(){$("#LaunchScreen .AppBlockedMode").hide(),this.closeDataLoadModalTimeout=setTimeout(this.close,0)}},{key:"onWarning",value:function(e){var t=e.violationLevel,n=e.upgradeNeeded,r=e.inTestMode,o=e.message;t||n||r||o&&this.launchScreen.find(".ErrorMessage").show().append($("<p />").text(o))}},{key:"onError",value:function(e){if(e&&"function"==typeof e.indexOf&&0===e.indexOf("__:")&&(e=e.slice(3,e.length)),this.launchScreen.find(" .LoadStatusDiv .LoadingState").removeClass("LoadingState").addClass("ErrorState"),this.launchScreen.find(".LoadingStatus").hide(),this.launchScreen.find(".btn").prop("disabled",!1),"abort"!==e){var t=this.launchScreen.find(".ErrorMessage");e.split("\n").forEach((function(e){return t.append($("<p />").text(e))})),t.show(),this.launchScreen.find(".SyncingStatusLabel").hide(),this.launchScreen.find(".aspinner").hide()}}},{key:"onSyncingStatus",value:function(e){this.launchScreen.find(".LoadingFromCacheStatusLabel").toggle(!e),this.launchScreen.find(".SyncingStatusLabel").toggle(e),e&&(this.launchScreen.find(".LoadingStatus").show(),this.launchScreen.find(".CancelButton").toggle(!0))}}]),e}();t.default=c},962553:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(627424)),a=r(n(600861)),l=r(n(856690)),u=r(n(689728)),s=r(n(496486)),c=r(n(65706)),d=P(n(365914)),p=r(n(674823)),f=r(n(385857)),g=P(n(888861)),h=r(n(389549)),m=r(n(87786)),y=r(n(450513)),v=n(417751),b=n(959191),O=n(166089),w=n(149313),S=n(354632),T=n(44617),A=n(557310),k=n(714067);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},R=function(){function e(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Map,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Set,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Set,p=arguments.length>7?arguments[7]:void 0;(0,l.default)(this,e),this.tableName=t,this.transactionId=n,this.keyAttribute=r,this.createdRows=i,this.updatedRows=u,this.deletedRows=s,this.pendingRows=c,this._indexedRows=p,this.getMergedRows=function(e,t,n,r){var i=(0,a.default)(e);return o.mergeIntoRows(i,t,n,r),i},this.mergeIntoRows=function(e,t,n,r){var i,a=C(o.pendingRows.values());try{for(a.s();!(i=a.n()).done;){var l=i.value;t&&l.values===t.rowData||(null!=n&&!n.includes(l)||null!=r&&!r.run(l.dataContext)?(0,d.remove)(e,l.shadowing):(0,d.addOrReplace)(e,l,l.shadowing))}}catch(e){a.e(e)}finally{a.f()}var u,s=C(o.deletedRows);try{for(s.s();!(u=s.n()).done;){var c=u.value;(0,d.remove)(e,c)}}catch(e){s.e(e)}finally{s.f()}}}return(0,u.default)(e,[{key:"hasChanges",get:function(){return this.pendingRows.size>0||this.deletedRows.size>0}},{key:"indexedRows",get:function(){var e;return null!==(e=this._indexedRows)&&void 0!==e?e:this._indexedRows=new m.default(Array.from(this.pendingRows))}},{key:"onDataChange",value:function(e){delete this._indexedRows}},{key:"addCreatedRow",value:function(e){this.createdRows.set(e.stableId,e),this.pendingRows.add(e),this.onDataChange()}},{key:"getShadowCopy",value:function(e){if(this.pendingRows.has(e))return e;var t=this.updatedRows.get(e.stableId);if(t)return t;var n=e.copy();return n.shadowing=e,this.updatedRows.set(e.stableId,n),this.pendingRows.add(n),this.onDataChange(),n}},{key:"markForDeletion",value:function(e){var t,n=null!==(t=e.shadowing)&&void 0!==t?t:e;this.deletedRows.add(n),this.createdRows.delete(e.stableId),this.updatedRows.delete(e.stableId),this.pendingRows.delete(e),this.onDataChange()}}]),e}(),I=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakMap;(0,l.default)(this,e),this.tableName=t,this.keyAttribute=n,this.store=r}return(0,u.default)(e,[{key:"forTransaction",value:function(e){var t=this.store.get(e);return null==t&&(t=new R(this.tableName,e.id,this.keyAttribute),this.store.set(e,t)),t}}]),e}(),N=function(){function e(t,n,r,o,i){var a,u,p=this;(0,l.default)(this,e),this._updateModeUnmemoized=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.AppGlobals.AppModel,n=p.updateModeEvalTree();if(n){var r=String(n.run(t.dataContext()));return r in v.UpdateModeEnum?v.UpdateModeEnum[r]:v.UpdateModeEnum.READ_ONLY}var o=null!==(e=p.sliceDefinition)&&void 0!==e?e:p.tableDefinition,i=o.UpdateMode;return i},this.appModel=i||O.AppGlobals.AppModel,this.table=this.model=t,this.tableSchema=n,this.tableDefinition=r,this._rootTable=o,t.IsSlice||(this._pendingChanges=new I(this.name(),n.keyAttribute()),this._tableRows=s.default.map(t.Rows,(function(e){return new h.default(e,p)})),this._formatting=new y.default(t.Name,this.appModel),this._indexedTableRowsByName=new Map);this.queryMemoized=(0,c.default)({limit:15,makeKey:function(e){return e.filterExpr&&!e.filterExpr.isPure()?null:(e=(0,d.stripEmptyItems)(e),String(d.default.hashCode(JSON.stringify(e))))},getTimestamp:function(e){var t,n=e.transaction,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.appModel;if(n){var o=null!==(t=n.lastModifiedTimestamp)&&void 0!==t?t:0;return Math.max(p.timestamp(r),o)}return p.timestamp(r)},fn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.appModel,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new f.default(p.appModel,p.tableSchema),r=e.transaction;return p._queryCompatibility(e,t,n.augmentWithTransaction(r))}});var g=null===(u=null===(a=r.ExprLookup)||void 0===a?void 0:a.UpdateMode)||void 0===u?void 0:u.IsPure;this.updateMode=g?(0,c.default)({limit:2,makeKey:function(e){return(0,w.$TSFixMeMaybeNull)(e),e.DataStamp},getTimestamp:function(e){return p.timestamp(e)},fn:this._updateModeUnmemoized}):this._updateModeUnmemoized,this.indexedTableRows=function(){var e=p.rootTable()._indexedTableRowsByName,t=e.get(p.name());return null==t&&(t=new m.default(p.rows()),e.set(p.name(),t)),t}}return(0,u.default)(e,[{key:"pendingChanges",get:function(){return this.rootTable()._pendingChanges}},{key:"isUserSettingsTable",get:function(){return this.name()===k.userSettingsTableName}},{key:"queryRowValues",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!1,valuesOnly:!0,groupBy:void 0}),t,n)}},{key:"queryRows",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!1,valuesOnly:!1,groupBy:void 0}),t,n)}},{key:"queryRowValuesAsync",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!0,valuesOnly:!0,groupBy:void 0}),t,n)}},{key:"queryRowsAsync",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!0,valuesOnly:!1,groupBy:void 0}),t,n)}},{key:"queryRowValuesGroupBy",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!1,valuesOnly:!0}),t,n)}},{key:"queryRowsGroupBy",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!1,valuesOnly:!1}),t,n)}},{key:"queryRowValuesGroupByAsync",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!0,valuesOnly:!0}),t,n)}},{key:"queryRowsGroupByAsync",value:function(e,t,n){return this.queryMemoized(Object.assign(Object.assign({},e),{doAsync:!0,valuesOnly:!1}),t,n)}},{key:"formatting",get:function(){return this.isSlice()?this.rootTable().formatting:this._formatting}},{key:"sliceDefinition",get:function(){return this.tableSchema.sliceDefinition}},{key:"labelTextForId",value:function(e,t){var n=this.lookupTableRow(e,t);if(n){var r=this.tableSchema.labelBasicAttribute();if(r)return n.get(r.name())}return e}},{key:"timestamp",value:function(e){return(e=e||this.appModel)?s.default.max([this.rootTable().ownTimestamp,e.dataStampTime()]):0}},{key:"rootName",value:function(){return this.rootTable().name()}},{key:"rootTable",value:function(){return this.model.IsSlice?this._rootTable:this}},{key:"rowLabelValue",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.dataContext){var r=this.keyAttribute().name();t=n.dataContext.getTableRow(this,e,{keyAttrName:r})}else t=this.findRow(e);if(t){var o=this.tableSchema.labelAttributes(),i=o.map((function(e){return t[e.name()]})).join(" ");return i}return e}},{key:"isSlice",value:function(){return this.model.IsSlice}},{key:"sliceFilterEvalTree",value:function(){var e,t;if(void 0===this._sliceFilterEvalTree){var n=null===(t=null===(e=null==this?void 0:this.tableSchema)||void 0===e?void 0:e.sliceDefinition)||void 0===t?void 0:t.FilterEvaluatable;this._sliceFilterEvalTree=n?g.default.create(n):null}return this._sliceFilterEvalTree}},{key:"keyLabelMap",value:function(e,t){var n=this;e=e||this.appModel,t=t||new f.default(e,this.tableSchema);var r=this.tableSchema.findAttributeIndex(this.keyAttribute().name()),o=t.getTableColumnSet(this.rootName(),r),i=this.tableSchema.labelBasicAttribute()||this.tableSchema.keyAttribute(),a=this.tableSchema.findAttributeIndex(i.name()),l=t.getTableColumnSet(this.rootName(),a);return t.pendingRowsForTable(this.name()).forEach((function(e){var t=e.rowData[n.keyAttribute().name()],r=e.rowData[i.name()];t&&(o.push(t),l.push(r||""))})),s.default.zipObject(o,l)}},{key:"deleteRow",value:function(e){if(this.isSlice())return this.rootTable().deleteRow(e);var t=this.keyAttribute().name(),n=this.rows().find((function(n){return n.get(t)===e}));if(n){var r=n.snapshot(),o=n.keyAttribute.name(),i=n.keyValue,a=function(e){return e[o]===i};return s.default.remove(this.model.Rows,a),s.default.remove(this._tableRows,(function(e){return a(e.values)})),this.onDataChange(),r}return null}},{key:"deleteRowByStableId",value:function(t,n){if(this.isSlice())this.rootTable().deleteRowByStableId(t,n);else if(n&&e.usePendingChangesStore){var r=this.lookupTableRow(t,n);r&&this.pendingChanges.forTransaction(n).markForDeletion(r)}else{var o=this.rows().findIndex((function(e){return e.stableId===t}));o>-1&&(this.model.Rows.splice(o,1),this._tableRows.splice(o,1),this.onDataChange())}}},{key:"createRow",value:function(t,n){if(this.isSlice())return this.rootTable().createRow(t,n);var r=new h.default(t,this);return n&&e.usePendingChangesStore?this.pendingChanges.forTransaction(n).addCreatedRow(r):(this.model.Rows.push(t),this._tableRows.push(r),this.onDataChange()),t}},{key:"replaceRow",value:function(e){var t=this.lookupTableRow(e[this.keyAttribute().name()]);if(t){var n=this._tableRows.indexOf(t),r=this.table.Rows.indexOf(t.values),o=new h.default(e,this);this._tableRows[n]=o,this.table.Rows[r]=e,this.onDataChange()}}},{key:"resetRowValues",value:function(e,t,n){if(this.isSlice())return this.rootTable().resetRowValues(e,t,n);var r=this.keyAttribute().name(),o=this.rows().find((function(t){return t.get(r)===e}));return o?(o.resetValues(t),this.onDataChange(),o):null}},{key:"createNewRow",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isSlice())return this.rootTable().createNewRow(n);var r=this.tableSchema.getDefaultValues(n.initialValues),o=n.transaction,i=s.default.clone(r)||{},a=new f.default(this.appModel,this.tableSchema,i).augmentWithTransaction(o),l={considered:{},computed:{},computeDefaults:!0,skipTheseDefaults:r,skipChangeTriggers:!0,getAsyncCallback:this.getAsyncCallback,nowDate:new Date,onDynamicValueChanged:n.onDynamicValueChanged};this.tableSchema.allBaseTableAttributes().forEach((function(e){var n=e.name(),r=i[n];if("_RowNumber"===n){var u=(s.default.max(t.rootTable().rows({transaction:o}).map((function(e){return Number(e.get("_RowNumber"))})))||1)+1;i[n]=e.valueToWireFormat(u)}else e.isDynamic()?a.recomputeAttribute(e,l):null==r&&(i[n]="")}));var u=new h.default(i,this,{stableId:d.default.makeGuid()});return o&&e.usePendingChangesStore?this.pendingChanges.forTransaction(o).addCreatedRow(u):(this._tableRows.push(u),this.model.Rows.push(i),this.onDataChange()),u}},{key:"getPendingRow",value:function(t,n){return this.isSlice()?this.rootTable().getPendingRow(t,n):e.usePendingChangesStore?this.pendingChanges.forTransaction(n).getShadowCopy(t):t}},{key:"commitPendingChanges",value:function(e){if(this.isSlice())this.rootTable().commitPendingChanges(e);else if(!e.closed){var t=this.pendingChanges.forTransaction(e);t.hasChanges&&(this._tableRows=t.getMergedRows(this._tableRows),this.model.Rows=this._tableRows.map((function(e){return e.values})),this.onDataChange())}}},{key:"rowValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appModel,n=void 0===t?this.appModel:t;return this.rows({appModel:n}).map((function(e){return e.values}))}},{key:"rows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appModel,n=void 0===t?this.appModel:t,r=e.transaction,o=e.dataContext;if(!n)return[];if(this.isSlice()){var i=this.sliceFilterEvalTree();return this.rootTable().queryRows({filterExpr:i||void 0,transaction:r})}return r?this.pendingChanges.forTransaction(r).getMergedRows(this._tableRows,o):s.default.clone(this._tableRows)}},{key:"filteredRowValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.appModel,n=arguments.length>2?arguments[2]:void 0;return this.filteredRows(e,t,n).map((function(e){return e.values}))}},{key:"filteredRows",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.filterExpr,r=t.filterDefaults,o=void 0===r?[]:r,l=t.transaction,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.appModel,c=arguments.length>2?arguments[2]:void 0;if(!u)return[];var d=performance.now(),p=T.dynamicRollouts.includeByOwnerId("ClientExpressionPerformance")?"true":"false",m=new f.default(u,this.tableSchema).augmentWithTransaction(l),y=null==n?void 0:n.curry(m);if(y&&"CONSTANT"===y.evalType()&&"Yes/No"===y.resultType()&&"N"===y.constantValue())return S.filterTimeMetric.record(performance.now()-d,{InRollout:p}),[];var v,w=this.rootTable(),A=w.tableSchema,k=(0,g.getFilterDefaultsAndFullyMapped)(y),E=(0,i.default)(k,2),P=E[0],C=E[1],x=(0,b.filterDefaultsToIndexLookup)(o,A),D=(0,b.filterDefaultsToIndexLookup)(P,A),R=x.concat(D),I=this.indexedTableRows().lookup(R);if(I){if(v=I,l){var N=this.pendingChanges.forTransaction(l),j=N.hasChanges,L=N.getMergedRows,_=N.indexedRows;if(j){var M=_.lookup(R);v=L(I,c,M,this.sliceFilterEvalTree())}}}else v=this.rows({appModel:u,transaction:l});if(o.length&&null==I){var G=s.default.compact(x.map((function(e){var t=e.attribute,n=e.value;return g.default.createColFilter(n,A,t)})).concat(y));y=1===G.length?G[0]:g.default.createAnd.apply(g.default,(0,a.default)(G))}if(y&&(!I||!C)){var F={noCache:!0};v=v.filter((function(e){return m.replaceRowData(e.values),y.run(m,F)}))}if(c){var B=c.pendingRowsForTable(this.name());if(null==B?void 0:B.length){var V=O.AppGlobals.AppState.pendingFormState||c.formState;V&&(B=B.filter((function(t){var r,o=t.tempId!==V.tempId,i=s.default.compact([n]);if(R){var l=R.map((function(t){var n=t.attribute,r=t.value;return g.default.createColFilter(r,e.tableSchema,n)}));i=s.default.concat(i,l)}return i.length>1?r=g.default.createAnd.apply(g.default,(0,a.default)(i)):1===i.length&&(r=i[0]),r&&(m.replaceRowData(t.rowData),o=o&&r.run(m)),o}))),B=B.map((function(t){return new h.default(t.rowData,e)})),v=s.default.uniqBy(B.concat(v),(function(t){return t.get(e.keyAttribute().name())}))}}return S.filterTimeMetric.record(performance.now()-d,{InRollout:p}),v}},{key:"findRow",value:function(e){var t;return null===(t=this.lookupTableRow(e))||void 0===t?void 0:t.values}},{key:"isPendingDeletion",value:function(e,t){return this.pendingChanges.forTransaction(t).deletedRows.has(e)}},{key:"lookupTableRow",value:function(t,n){var r;if(null!=t)return e.usePendingChangesStore?this.lookupTableRows(this.keyAttribute().name(),t,n)[0]:null!==(r=this.appModel.dataManager.findPendingRow(t))&&void 0!==r?r:this.indexedTableRows().lookupAtomic(this.keyAttribute(),t)[0]}},{key:"lookupTableRowsByIndexLookup",value:function(t,n,r){var o=this.indexedTableRows().lookup(t);if(o&&n&&e.usePendingChangesStore){var i=this.pendingChanges.forTransaction(n),a=i.hasChanges,l=i.indexedRows,u=i.getMergedRows;if(a)return u(o,r,l.lookup(t),this.sliceFilterEvalTree())}return o}},{key:"lookupTableRowsByLookupValues",value:function(e,t,n){var r=(0,b.lookupValuesToIndexLookup)(e,this.tableSchema);return this.lookupTableRowsByIndexLookup(r,t,n)}},{key:"lookupTableRows",value:function(t,n,r,o){var i=this.rootTable().tableSchema.findAttributeByName(t),a=this.indexedTableRows().lookupAtomic(i,n);if(r&&e.usePendingChangesStore){var l=this.pendingChanges.forTransaction(r),u=l.hasChanges,s=l.createdRows,c=l.indexedRows,d=l.getMergedRows;if(u){var p=s.get(n);return d(a,o,p?[p]:c.lookupAtomic(i,n),this.sliceFilterEvalTree())}}return a}},{key:"keyAttribute",value:function(){return this.tableSchema.keyAttribute()}},{key:"hasUniqueComputedKey",value:function(){return function e(t){return null!=t&&("UNIQUEID"===t.functionName()||"CONCATENATE"===t.functionName()&&s.default.some(t.children,e))}(this.keyAttribute().defaultExpressionEvalTree())}},{key:"name",value:function(){return this.model.Name}},{key:"imageAttrName",value:function(){var e;return this.isSlice()?this.rootTable().imageAttrName():null===(e=this.tableSchema.imageAttributesByImportance()[0])||void 0===e?void 0:e.name()}},{key:"updateModeEvalTree",value:function(){var e;if(void 0===this._updateModeEvalTree){var t=(null!==(e=this.sliceDefinition)&&void 0!==e?e:this.tableDefinition).ExprLookup;(null==t?void 0:t.UpdateMode)?this._updateModeEvalTree=g.default.create(t.UpdateMode):this._updateModeEvalTree=null}return this._updateModeEvalTree}},{key:"allowsUpdate",value:function(e){e=e||this.appModel;var t=(this.updateMode(e)&v.UpdateModeEnum.UPDATES_ONLY)>0;if(t&&this.isSlice()){var n=this.rootTable();n&&(t=n.allowsUpdate(e))}return t}},{key:"allowsAdd",value:function(e){e=e||this.appModel;var t=(this.updateMode(e)&v.UpdateModeEnum.ADDS_ONLY)>0;if(t&&this.isSlice()){var n=this.rootTable();n&&(t=n.allowsAdd(e))}return t}},{key:"allowsDelete",value:function(e){e=e||this.appModel;var t=(this.updateMode(e)&v.UpdateModeEnum.DELETES_ONLY)>0;if(t&&this.isSlice()){var n=this.rootTable();n&&(t=n.allowsDelete(e))}return t}},{key:"_queryCompatibility",value:function(e,t,n){var r=e.valuesOnly,o=void 0===r||r,i=e.doAsync,a=void 0!==i&&i,l=D(e,["valuesOnly","doAsync"]),u=(0,d.stripEmptyItems)(l),c=this._query(u,t,n),p=l.groupBy;if(o||void 0===o){var f=c.map((function(e){return e.values}));if(null!=p){var g=d.default.getGroupByMap(f,p);return a?Promise.resolve(g):g}return a?Promise.resolve(f):f}if(null!=p){var h=s.default.groupBy(c,(function(e){return e.get(p)}));return a?Promise.resolve(h):h}return a?Promise.resolve(c):c}},{key:"_query",value:function(e,t,n){var r,o=e.filterExpr,i=e.filterDefaults,a=e.sortRules,l=e.searchQuery,u=e.transaction,c=D(e,["filterExpr","filterDefaults","sortRules","searchQuery","transaction"]);if(s.default.isEmpty(c))return null==l?(r=this.filteredRows({filterExpr:o,filterDefaults:i,transaction:u},t,n),this.tableSchema.sortTableRows(r,a)):(r=this.queryRows({filterExpr:o,filterDefaults:i,sortRules:a,transaction:u},t,n),this.evaluateSearch(r,l,t));r=this.queryRows({filterExpr:o,filterDefaults:i,sortRules:a,searchQuery:l,transaction:u},t,n);var d=c.limit,p=c.uniqueBy;return p&&(r=s.default.uniqBy(r,(function(e){var t=e.get(p);return(null==t?void 0:t.toString)?t.toString().toLowerCase():t}))),d&&(r=r.slice(0,d)),r}},{key:"evaluateSearch",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.appModel,o=(0,p.default)(t).toLowerCase().trim(),i=this.tableSchema.searchableAttributes().filter((function(e){return"Ref"===e.type()})),a={};i.forEach((function(e){if(!a[e.referencedTableName()]){var t=r.findTableCollection(e.referencedTableName()),n=t.table,o=t.tableSchema;n&&o&&(a[n.name()]=n.keyLabelMap(r))}}));var l=new f.default(r,this.tableSchema),u=performance.now();e=e.filter((function(e){return l.replaceRowData(e.values),n.tableSchema.searchMatchesRow(e.values,o,a,l)}));var s=performance.now()-u;return S.searchTimeMetric.record(s),e}},{key:"onDataChange",value:function(t,n){var r,o=this;this.isSlice()&&this.rootTable().onDataChange(t,n),null!=t&&A.ReactRootUIConfig.isReactRoot()&&!t.find((function(e){return e.rootTableName===o.rootName()}))||(null===(r=this._indexedTableRowsByName)||void 0===r||r.clear(),this.ownTimestamp=(new Date).getTime(),!this.isSlice()&&n&&e.usePendingChangesStore&&this.pendingChanges.forTransaction(n).onDataChange(t)),this.queryMemoized.invalidate()}},{key:"dispose",value:function(){var e;this.isUserSettingsTable||(this.isSlice()||(this._tableRows.length=0,this.model.Rows.length=0),null===(e=this._indexedTableRowsByName)||void 0===e||e.clear(),this.model.Disposed=!0)}}],[{key:"findByName",value:function(e,t,n){return(t=t||O.AppGlobals.AppModel).findTableCollection(e,n)}},{key:"usePendingChangesStore",get:function(){return T.dynamicRollouts.includeByOwnerId("TransactionPendingChanges")&&A.ReactRootUIConfig.isReactRoot()}}]),e}();t.default=N},450513:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(513979)),u=r(n(593186)),s=n(166089);var c=function(){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.AppGlobals.AppModel;(0,o.default)(this,e);try{var c=(null===(r=null===(n=null==i?void 0:i.AppTemplate)||void 0===n?void 0:n.Presentation)||void 0===r?void 0:r.FormatRules)||[],d=c.filter((function(e){return e.IsValid&&!e.Disabled&&e.TableOrSlice===t})),p=a.default.sortBy(d,(function(e){return e.RuleOrder}));this.rules=p.map((function(e){return new l.default(e)})),this.appModel=i}catch(e){this.rules=[],u.default.warnToDevConsole("error instantiating TableFormatting",e)}}return(0,i.default)(e,[{key:"forColumn",value:function(e,t){var n=this.rules.filter((function(t){return a.default.includes(t.columns(),e)})),r=a.default.every(n,(function(e){return a.default.isNil(e.condition())||e.condition().isPure()}));t&&(n=n.filter((function(e){return a.default.isNil(e.condition())||e.condition().run(t,{noCache:!0})})));var o=function(e){return a.default.reduce(e,(function(e,t){return a.default.extendWith(e,t.settings,(function(e,t,n){return"textSize"===n&&1===t?e:"icon"===n?(t&&e.unshift(t),e):t||e}))}),{icon:[]})}(n);return o.timestamp=this.appModel.dataStampTime(),{rules:o,isPure:r}}},{key:"computeWorstCaseFormatting",value:function(e){var t,n,r,o,i,l,u,s=this,c=e.tableOrSlice,d=e.column;return r=a.default.find(s.appModel.AppTemplate.AppData.TableSlices,(function(e){return e.Name===c})),o=r?r.SourceTable:c,i=a.default.filter(s.appModel.AppTemplate.AppData.TableSlices,(function(e){return e.SourceTable===o})),l=a.default.map(i,(function(e){return e.Name})),u=a.default.filter(s.rules,(function(e){return e.data.TableOrSlice===o||a.default.includes(l,e.data.TableOrSlice)})),t=a.default.filter(u,(function(e){return d?a.default.includes(e.data.ColumnsToFormat,d):0===e.data.ColumnsToFormat.length})),n={},a.default.reduce(t,(function(e,t){var r=!1,o=t.equivalentKey();return o&&(n[o]&&(r=!0),n[o]=t),a.default.extendWith(e,t.settings,(function(e,t,n){return"icon"===n?(r||t&&e.unshift(t),e):"textSize"===n&&null!=e?Math.max(parseFloat(e),parseFloat(t)):t||e}))}),{icon:[]})}}]),e}();t.default=c},389549:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TableRow=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(494012)),u=r(n(385857)),s=r(n(593186)),c=n(557310),d=n(44617),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},f=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.stableId;(0,o.default)(this,e);var a=n.tableSchema,l=n.appModel;this.appModel=l,this.table=n,this.tableSchema=a,this.formatting={},this._stableId=i,this._rowStateMap=new Map,this.values=t,this.keyAttribute=a.keyAttribute(),null===i&&(this._keyValue=t[this.keyAttribute.name()])}return(0,i.default)(e,[{key:"refresh",value:function(){this._rowStateMap.forEach((function(e){return e.refreshState()})),this.rowState.refreshState(),this.rowTimestamp=(new Date).getTime(),this.formatting={}}},{key:"snapshot",value:function(){return a.default.cloneDeep(this.values)}},{key:"copy",value:function(){return new e(this.snapshot(),this.table,{stableId:this._stableId})}},{key:"tableName",get:function(){return this.table.rootName()}},{key:"rowId",get:function(){return this.keyValue}},{key:"keyValue",get:function(){return null!=this._keyValue?this._keyValue:this.values[this.keyAttribute.name()]}},{key:"labelValue",get:function(){return this.table.labelTextForId(this.rowId)}},{key:"stableId",get:function(){return this._stableId||this.keyValue}},{key:"timestamp",get:function(){return a.default.max([this.rowTimestamp||this.table.timestamp(this.appModel)||this.appModel.dataStampTime()])}},{key:"dataContext",get:function(){return null==this._dataContext&&(this._dataContext=new u.default(this.appModel,this.tableSchema,this.values)),this._dataContext}},{key:"rowState",get:function(){if(null==this._rowState){var e=this._stableId?null:this.keyValue;this._rowState=new l.default(this.appModel,this.table,this.dataContext,e,this.tableSchema.allBaseTableAttributes(),{stableId:this._stableId})}return this._rowState}},{key:"getReferencedRows",value:function(e){var t=this;return a.default.compact(this.tableSchema.findBaseTableAttributesByType("Ref").map((function(n){var r=t.get(n.name());if(null!=r&&""!==r){var o=t.appModel.findTableCollection(n.referencedTableName()).rootTable;if(o)return o.lookupTableRow(r,e)}return null})))}},{key:"get",value:function(e){return this.values[e]}},{key:"getRowState",value:function(e){var t=e.paging,n=t.rowStateColumnNames.toString(),r=this._rowStateMap.get(n);if(null==r){var o=this._stableId?null:this.keyValue;r=new l.default(this.appModel,this.table,this.dataContext,o,t.attributes,{paging:t,stableId:this._stableId}),this._rowStateMap.set(n,r)}return r}},{key:"getColumnFormatting",value:function(e){var t,n=this.formatting,r=this.table,o=n[e];if(!(null==o?void 0:o.timestamp)||o.timestamp<(null===(t=this.appModel)||void 0===t?void 0:t.dataStampTime())){var i=this.dataContext,a=r.formatting.forColumn(e,i),l=a.rules;return a.isPure&&(n[e]=l),l}return n[e]}},{key:"isNewRow",value:function(){return null!=this._stableId}},{key:"commitRowId",value:function(){delete this._stableId,delete this._rowState,this._rowStateMap.clear(),this._keyValue=this.values[this.keyAttribute.name()]}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enforceStableKey,n=e.usedTransactions,r=e.transaction,o=e.paging,i=arguments.length>1?arguments[1]:void 0,a=c.ReactRootUIConfig.isReactRoot()&&o?this.getRowState({paging:o}):this.rowState;return a.validateSave({enforceStableKey:t,usedTransactions:n,transaction:r,viewStateKey:i}).errorState}},{key:"recompute",value:function(e){var t=e.userEdited,n=e.transaction,r=e.wasReset,o=void 0===r?{}:r,i=e.noAsync,a=void 0===i||i,l=p(e,["userEdited","transaction","wasReset","noAsync"]);if(d.dynamicRollouts.includeByOwnerId("TransactionRecomputeInfluenced"))return this.dataContext.augmentWithTransaction(n).recomputeDynamicValues(Object.assign(Object.assign({},l),{wasReset:o,noAsync:a,computeDefaults:this.isNewRow(),skipTheseDefaults:t})),this.refresh(),o;var u=l.initialData,s=l.virtualOnly;return this.dataContext.augmentWithTransaction(n).recomputeAppFormulas({initialData:u,virtualOnly:s,wasReset:o,noAsync:!0,skipTheseDefaults:t}),this.refresh(),o}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.userEdited,o=n.initialData,i=n.noAsync,l=n.getAsyncCallback,u=n.wasReset,c=void 0===u?{}:u,d=n.updateInfluenced,p=void 0===d||d,f=n.transaction,g=arguments.length>3?arguments[3]:void 0,h=!this.isNewRow(),y=this.snapshot(),v=this.keyValue,b=this.tableSchema;if(this.values[e.name()]=t,this.table.onDataChange(),p){var O=this.isNewRow(),w=b.changeTriggeredAttributes().map((function(e){return e.name()})),S=a.default.extend(a.default.keyBy(w),r);m(e,b,this.dataContext.augmentWithTransaction(f),this.rowState,{initialData:o,noAsync:i,getAsyncCallback:l,computeDefaults:O,skipTheseDefaults:S,wasReset:c},void 0,g),this.table.onDataChange()}return h&&this.keyValue!==v?(s.default.errorToDevConsole("an update attempted to change the key of an existing row"),a.default.extend(this.values,y),c):(this.refresh(),c)}},{key:"resetValues",value:function(e){a.default.extend(this.values,e),this.refresh(),this.table.onDataChange()}},{key:"invalidate",value:function(){this.refresh()}},{key:"onDataChange",value:function(e,t,n){this!==e&&(this.rowState.onDataChange(e),t&&n&&this.tableSchema.virtualAttributes().filter((function(t){return a.default.includes(t.appFormulaEvalTree().tablesReferenced(),e.tableName)})).length&&t.recompute(this.tableName,this.stableId,{virtualOnly:!0,triggeredBy:n.id}))}}]),e}();t.TableRow=f;var g=f;t.default=g;var h=!1;function m(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6?arguments[6]:void 0;if(h){if(i>0)return;h=!1}var u=new Date,s={},c={},d={},p=a.default.extend({skipLeafAttrs:!0,considered:s,computed:c,wasReset:d,nowDate:u},o);e.isKey()&&n.resolveParentRefs(),n.recomputeInfluencedAttributes(e,p),y(e,t,n,r,o,i,l)}function y(e,t,n,r,o){for(var i,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6?arguments[6]:void 0,c=t.influencedValidityEnums(e),p={},f=[],g=e.inFullDependentChain(c),y=d.dynamicRollouts.includeByOwnerId("TransactionRecomputeInfluenced"),v=0;v<c.length;v++){var b=c[v],O=n.getValue(b),w=r.validOptions(b,u)||[],S=y&&b.hasAppFormula(),T=b===e||S||g&&0===v&&(0===l&&w.length||l>0&&""===O);if(T)i=O;else{if(g&&v>0&&(null==i||""===i))w=[];else{var A=b.validIfEvalTree(),k=A.getInConditionListInformation(n),E=k.values,P=k.elementAttribute;w=P.valuesToWireFormat(E)}p[b.name()]=w;var C=Array.isArray(O)?O:[O];"EnumList"===b.type()&&(C=b.splitEnumListValue(O,w));for(var x=!0,D=0;D<C.length;D++){var R=C[D];if(""!==R&&null!=R&&!a.default.includes(w,R)){x=!1;break}}null==w||x||""===n.getValue(b)||(O="",n.setValue(b.name(),O),f.push({attr:b})),i=O}}return f.forEach((function(i){var a=i.attr;if(e.name()!==a.name())if(l<20)m(a,t,n,r,o,l+1,u);else if(!h){h=!0;var c="Possible infinite loop in handleEntryValueChanged";s.default.ReportErrorOnce({errorMessage:c}),s.default.warnToDevConsole(c)}})),p}},654158:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TableRowIndex=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(87786)),l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;(0,o.default)(this,e),this.tableRows=n,this.indexAttribute=r,this.store=i,this.tableRows=n,this.indexAttribute=r,n.forEach((function(e){var n=e.get(r.name());t.lookup(n).push(e)}))}return(0,i.default)(e,[{key:"distinctValues",value:function(){return Array.from(this.store.keys())}},{key:"lookup",value:function(e){var t=this.indexAttribute.getNormalizedLookupValue(e),n=this.store.get(t);return null==n&&(n=new a.default,this.store.set(t,n)),n}}]),e}();t.TableRowIndex=l;var u=l;t.default=u},192137:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(856690)),a=r(n(689728)),l=r(n(496486)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(150198)),s=r(n(888861)),c=r(n(385857)),d=n(976661),p=n(365914),f=r(n(498967)),g=n(306593),h=r(n(593186)),m=r(n(674823)),y=n(351101),v=n(166089),b=n(251347),O=n(557310);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A="**all other columns**",k=function(){function e(t,n){var r,o,a=this;(0,i.default)(this,e),t instanceof e&&h.default.warnToDevConsole("TableSchema was double-instantiated"),this.model=t,this.sliceDefinition=n,this._cacheStore={};var s=null!==(o=null===(r=this.model)||void 0===r?void 0:r.Attributes.map((function(e){return new u.default(e)})))&&void 0!==o?o:[];this._allBaseTableAttributeIndexesByName={},this._allBaseTableAttributeIndexesByLowercasedName={},s.forEach((function(e,t){a._allBaseTableAttributeIndexesByName[e.name()]=t,e.name()&&(a._allBaseTableAttributeIndexesByLowercasedName[e.name().toLowerCase()]=t)})),this._allBaseTableAttributes=s,this._allAttributes=this.sliceDefinition?n.Columns.map((function(e){return s[a._allBaseTableAttributeIndexesByName[e]]||s[a._allBaseTableAttributeIndexesByLowercasedName[e?e.toLowerCase():e]]})):s,this._allAttributes=this._allAttributes.filter((function(e){return e})),this._nonCosmeticAttributes=this._allAttributes.filter((function(e){return!e.isShowType()})),this.paging=new g.Paging(this._allAttributes),this._allAttributesByName=l.default.keyBy(this._allAttributes,(function(e){return e.name()})),this._allAttributesLowercased=l.default.keyBy(this._allAttributes,(function(e){var t;return null===(t=e.name())||void 0===t?void 0:t.toLowerCase()}));var c=this._allAttributes.filter((function(e){return e.isValid()})).filter((function(e){return!!e.isVirtual()||!e.isSys()}));this._attributes=c}return(0,a.default)(e,[{key:"_cache",value:function(e,t){return this._cacheStore.hasOwnProperty(e)||(this._cacheStore[e]=t()),this._cacheStore[e]}},{key:"name",value:function(){return this.sliceDefinition?this.sliceDefinition.Name:this.model.Name}},{key:"isSlice",value:function(){return!!this.sliceDefinition}},{key:"tableOrSliceName",value:function(){return this.isSlice()?this.sliceDefinition.Name:this.model.AutoSchemaFrom}},{key:"sourceTableName",value:function(){return this.isSlice()?this.sliceDefinition.SourceTable:this.model.AutoSchemaFrom}},{key:"allAttributes",value:function(){return this._allAttributes}},{key:"virtualAttributes",value:function(){return this._allBaseTableAttributes.filter((function(e){return e.isVirtual()}))}},{key:"nonCosmeticAttributes",value:function(){return this._nonCosmeticAttributes}},{key:"allBaseTableAttributes",value:function(){return this._allBaseTableAttributes}},{key:"allAttributesExcept",value:function(e){return this.allAttributes().filter((function(t){return-1===e.indexOf(t.name())}))}},{key:"formItemNumber",value:function(e){return l.default.indexOf(this._nonCosmeticAttributes.map((function(e){return e.name()})),e)}},{key:"visibleAttributes",value:function(){var e=this;return this._cache("visibleAttributes",(function(){return e._attributes.filter((function(e){return!e.isHidden()}))}))}},{key:"visibleAttributesWithoutShowTypes",value:function(){var e=this;return this._cache("visibleAttributesWithoutShowTypes",(function(){return e._attributes.filter((function(e){return!e.isHidden()&&!e.isShowType()}))}))}},{key:"visibleAttributesWithoutPageHeaders",value:function(){var e=this;return this._cache("visibleAttributesWithoutPageHeaders",(function(){return e._attributes.filter((function(e){return!e.isHidden()&&!e.isPageHeader()}))}))}},{key:"visibleAttributesExcept",value:function(e){return this.visibleAttributesWithoutShowTypes().filter((function(t){return-1===e.indexOf(t.name())}))}},{key:"refAttributesToTable",value:function(e){var t=function(t){return t.referencedTableName()===e};return O.ReactRootUIConfig.isReactRoot()?this.allAttributes().filter(t):this.findAttributesByType("Ref",{includeHidden:!0}).filter(t)}},{key:"recurseReferencedRowToTable",value:function(e,t,n,r,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};n=n||v.AppGlobals.AppModel;var l=this.findAttributesByType("Ref",{includeHidden:!0});return(null==l?void 0:l.length)&&null!==(i=l.map((function(i){var l,u=i.referencedTableName(),s=null===(l=e.lookupTableRow(r,o))||void 0===l?void 0:l.values;if(s){var c=s[i.name()];if(null!=c){if(u===t)return c;var d=n.findTableCollection(u),p=d.table,f=d.tableSchema;if(p&&f&&!a[p.name()])return a[p.name()]=!0,f.recurseReferencedRowToTable(p,t,n,c,o,a)}}return null})).find((function(e){return null!=e})))&&void 0!==i?i:null}},{key:"sheetFormulaAttributes",value:function(){return this._allBaseTableAttributes.filter((function(e){return e.hasFormula()}))}},{key:"changeTriggeredAttributes",value:function(){var e=this;return this._cache("changeTriggeredAttributes",(function(){return e._allBaseTableAttributes.filter((function(e){return e.isChangeTriggered()}))}))}},{key:"dynamicAttributes",value:function(){var e=this;return this._cache("dynamicAttributes",(function(){return e._allBaseTableAttributes.filter((function(e){return e.isDynamic()}))}))}},{key:"virtualAttributesThatDependOn",value:function(e){return this.virtualAttributes().filter((function(t){return t.appFormulaEvalTree().tablesReferenced().includes(e)}))}},{key:"dynamicAttributesThatDependOn",value:function(e,t){return this.dynamicAttributes().filter((function(n){return n.valueDependsOn(e,t)}))}},{key:"columnDependencies",value:function(e){var t=this;return this._cache(e.name()+"ColumnDependencies",(function(){var n=t.dynamicDependencies(e),r=t.findAttributesByIndices(l.default.union(e.showIfColumnsReferenced(),e.validIfColumnsReferenced(),e.requiredIfColumnsReferenced(),e.editableIfColumnsReferenced(),e.showContentColumnsReferenced(),e.suggestedValuesColumnsReferenced(),e.displayNameColumnsReferenced())),o=t.paging,i=o.pageHeader(o.onPage(e.name()));i&&i!==e&&i.showIfEvalTree()&&(r=l.default.union(r,t.columnDependencies(i)));var a=[];return r.forEach((function(e){a=l.default.union(a,t.dynamicDependencies(e))})),l.default.union(a,n,r)}))}},{key:"dynamicDependencies",value:function(e){return this._cache(e.name()+"DynamicDependencies",this._dynamicDependencyRecursor.bind(this,e))}},{key:"_dynamicDependencyRecursor",value:function(t,n){n=n||{};var r=this.findAttributesByIndices(t.appFormulaColumnsReferenced()),o=this.findAttributesByIndices(t.defaultExpressionColumnsReferenced()),i=this.findAttributesByIndices(t.resetColumnsReferenced()),a=t.changeColumns();a=null!=a?0===a.length?this._allBaseTableAttributes.filter((function(e){return!e.isChangeTriggered()})):this._allBaseTableAttributes.filter((function(e){return l.default.includes(a,e.name())})):[];var u=l.default.union(r,o,i,a);n[t.name()]=!0;var s=[];return u=u.filter(function(r){if(!(r.name()in n)){var o=this._dynamicDependencyRecursor(r,n);if(t.isChangeTriggered()&&l.default.indexOf(e.attributeNames(o),t.name())>=0)return!1;s=l.default.union(s,o)}return!0}.bind(this)),l.default.union(s,u)}},{key:"influencedAttributes",value:function(t){var n=this;return this._cache(t.name()+"InfluencedAttributes",(function(){return n._allBaseTableAttributes.filter(function(n){var r=this.columnDependencies(n);return e.attributeNames(r).indexOf(t.name())>=0}.bind(n))}))}},{key:"influencedDynamicAttributes",value:function(t){var n=this;return this._cache(t.name()+"InfluencedDynamicAttributes",(function(){return n.dynamicAttributes().filter(function(n){var r=this.dynamicDependencies(n);return e.attributeNames(r).indexOf(t.name())>=0}.bind(n))}))}},{key:"influencedValidityEnums",value:function(t){var n=this;return this._cache(t.name()+"InfluencedValidityEnums",(function(){return n._allBaseTableAttributes.filter(function(n){if(!n.isValidityEnum())return!1;var r=this.columnDependencies(n);return e.attributeNames(r).indexOf(t.name())>=0}.bind(n)).sort((function(e,t){return e.validIfColumnsReferenced().length<t.validIfColumnsReferenced().length?-1:e.validIfColumnsReferenced().length>t.validIfColumnsReferenced().length?1:0}))}))}},{key:"findAttributesByNames",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.includeHidden,o=void 0!==r&&r,i=[];return e.forEach((function(n){if(n===A){var r=o?t.allAttributesExcept(e):t.visibleAttributesExcept(e);i=i.concat(r)}else{var a=t.findAttributeByName(n);a?i.push(a):h.default.warnToDevConsole("Could not find attribute",n,"requested in columnOrder",e,t)}})),i}},{key:"findAttributesByIndices",value:function(e){var t=this,n=[];return e.length&&(n=e.map((function(e){return t._allBaseTableAttributes[e]}))),n}},{key:"keyAttribute",value:function(){var e=this;return this._cache("keyAttribute",(function(){return e._allAttributes.find((function(e){return e.isKey()}))||e._allAttributes[0]}))}},{key:"keyAttributes",value:function(){var e=this;return this._cache("keyAttributes",(function(){var t=e.keyAttribute();return e.hasCompoundKey()?t.appFormulaColumnsReferenced().map((function(t){return e._allBaseTableAttributes[t]})).filter((function(e,t,n){return n.indexOf(e)===t})):[t]}))}},{key:"isKeyComponent",value:function(e){var t=this.keyAttributes().map((function(e){return e.name()}));return this.hasCompoundKey()&&l.default.includes(t,e.name())}},{key:"hasCompoundKey",value:function(){return this.keyAttribute().isVirtual()}},{key:"labelAttributes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._cache("labelAttributes",(function(){var n=e._attributes.filter((function(e){return e.isLabel()}));if(t&&!n.length){var r=e.basicAttributesByImportance()[0],o=e.presentableImageAttributesByImportance()[0];n=[],r&&n.push(r),o&&n.push(o)}return l.default.sortBy(n,(function(e){return e.isImageType()?1:2}))}))}},{key:"labelImageAttribute",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._cache("labelImageAttribute",(function(){var n=e._attributes.filter((function(e){return e.isLabel()&&e.isImageType()}));return n.length?n[0]:t?e.presentableImageAttributesByImportance()[0]:null}))}},{key:"labelBasicAttribute",value:function(){var e=this;return this._cache("labelBasicAttributes",(function(){var t=e._allBaseTableAttributes.filter((function(e){return e.isLabel()&&!e.isImageType()}));return t.length?t[0]:e.basicAttributesByImportance().length?e.basicAttributesByImportance()[0]:null}))}},{key:"searchableAttributes",value:function(){var e=this;return this._cache("searchableAttributes",(function(){return e._allBaseTableAttributes.filter((function(e){return e.model.IsValid&&e.model.Searchable}))}))}},{key:"scannableAttributes",value:function(){var e=this;return this._cache("scannableAttributes",(function(){return e._allBaseTableAttributes.filter((function(e){return e.model.IsValid&&e.model.IsScannable}))}))}},{key:"nfcScannableAttributes",value:function(){var e=this;return this._cache("nfcScannableAttributes",(function(){return e._allBaseTableAttributes.filter((function(e){return e.model.IsValid&&e.model.IsNfcScannable}))}))}},{key:"summaryFormulaAttributesByImportance",value:function(){var e=this;return this._cache("summaryFormulaAttributesByImportance",(function(){return e.visibleAttributesWithoutShowTypes().filter((function(e){return e.hasFormula()&&e.isNumericType()})).reverse()}))}},{key:"imageAttributesByImportance",value:function(){var e=this;return this._cache("imageAttributesByImportance",(function(){var t=e.visibleAttributesWithoutShowTypes().filter((function(e){return e.isImageType()})),n=l.default.sortBy(t,(function(e){return e.isRequired()?1:2}));return l.default.sortBy(n,(function(e){return e.isLabel()?1:2}))}))}},{key:"presentableImageAttributesByImportance",value:function(){var e=this;return this._cache("presentableImageAttributesByImportance",(function(){return e.imageAttributesByImportance().filter((function(e){return e.isPresentableImageType()}))}))}},{key:"basicAttributesByImportance",value:function(){var e=this;return this._cache("basicAttributesByImportance",(function(){var t=e.basicTypeAttributes(),n=l.default.sortBy(t,(function(e){return e.isRequired()?1:2})),r=l.default.sortBy(n,(function(e){return e.isKey()?1:2})),o=l.default.sortBy(r,(function(e){return"Name"===e.type()?1:2})),i=l.default.sortBy(o,(function(e){return"Name"===e.type()&&e.isVirtual()?1:2}));return l.default.sortBy(i,(function(e){return e.isLabel()?1:2}))}))}},{key:"basicTypeAttributes",value:function(){var e=this;return this._cache("basicTypeAttributes",(function(){return e.visibleAttributesWithoutShowTypes().filter((function(e){return e.isBasicType()}))}))}},{key:"actionTypeAttributes",value:function(){var t=this;return this._cache("actionTypeAttributes",(function(){var n=t.visibleAttributesWithoutShowTypes().filter((function(e){return e.isActionType()}));return e.reduceAttributesToUniqueTypes(n)}))}},{key:"rowNumberAttribute",value:function(){return this.findAttributeByName("_RowNumber")}},{key:"findBaseTableAttributeByName",value:function(e){return this._allBaseTableAttributes[this.findAttributeIndex(e)]}},{key:"findAttributeByName",value:function(e){return this._allAttributesByName[e]||this._allAttributesLowercased[e?e.toLowerCase():e]}},{key:"findAttributeIndex",value:function(e){return this._allBaseTableAttributeIndexesByName[e]||this._allBaseTableAttributeIndexesByLowercasedName[e?e.toLowerCase():e]}},{key:"findBaseTableAttributesByType",value:function(e){return this._allBaseTableAttributes.filter((function(t){return t.type()===e}))}},{key:"findAttributesByType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeHidden,r=void 0!==n&&n,o=r?this.allAttributes():this.visibleAttributesWithoutShowTypes();return o.filter((function(t){return t.type()===e}))}},{key:"isInSlice",value:function(e){return null!=this.findAttributeByName(e)}},{key:"getDefaultValues",value:function(e){var t=this,n={};return l.default.isObject(e)?(l.default.keys(e).forEach((function(r){var o=t.findAttributeByName(r);n[o?o.name():r]=e[r]})),n):{}}},{key:"uniqueColumnValues",value:function(e,t){var n=this.findAttributeByName(e);if(!n)return h.default.warnToDevConsole("Could not find column named",e),[];if(!t)return[];var r=[];return t.forEach((function(t){var o=t[e];if("EnumList"===n.type()){var i=n.getValues(o);r=r.concat(i)}else r.push(o)})),l.default.uniq(r.filter((function(e){return!!e})))}},{key:"isAppLauncherSchema",value:function(){var e,t=this.visibleAttributesWithoutShowTypes().length<=3,n=this.findAttributesByType("App").length>0,r=this.presentableImageAttributesByImportance().length>0,o=!!((null===(e=v.AppGlobals.AppModel)||void 0===e?void 0:e.AppTemplate)&&["AppGallery-245842-3-176618-10305","AppGallery-10305","AppGalleryDev-10305"].indexOf(v.AppGlobals.AppModel.AppTemplate.Name)>=0);return t&&n&&r||o}},{key:"isUrlLauncherSchema",value:function(){var e=this.visibleAttributesWithoutShowTypes().length<=3,t=this.findAttributesByType("Url").length>0,n=this.presentableImageAttributesByImportance().length>0;return e&&t&&n}},{key:"isPhotogenic",value:function(){var e=this.presentableImageAttributesByImportance().length>0,t=this.basicTypeAttributes().length>0;return e&&t}},{key:"rowComparer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.valuesOnly,r=void 0===n||n,o=this.augmentSortRules(e),i=o.augmentedSortRules,a=o.additionalComparerArguments;return(0,d.makeObjectComparer)(i,a,{valuesOnly:r})}},{key:"augmentSortRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.inRollout,o=void 0!==r&&r,i=[],a={};t.forEach((function(t){var n=e.findAttributeByName(t.Column);if(n){for(var r,s,c=n,d={},p=(0,y.getAppModel)();null!=c.firstNestedRef()&&p;){var g=p.findTableCollection(c.referencedTableName()),m=g.table,v=g.rootTableSchema;if(!m||!v)break;var b=v.labelBasicAttribute();if(!b)break;var O="".concat(m.rootName(),"|").concat(b.name());if(d[O]){s=f.default.genericComparer,a[c.name()]={labelComparer:s};break}r?function(){var e=m.keyLabelMap();r=l.default.mapValues(r,(function(t){return e[t]}))}():r=m.keyLabelMap(),s=b.valueComparer(u.ValueFormat.Wire),a[n.name()]={keyLabelMap:r,labelComparer:s},c=b,d[O]=!0}var w=l.default.extend({},t,{Comparer:o&&s||n.valueComparer(u.ValueFormat.Wire)});i.push(w)}else h.default.warnToDevConsole("Sort attribute",t.Column,"was not found in table schema",e)}));var s=this.rowNumberAttribute();return s&&i.push({Column:s.name(),Order:"Ascending",Comparer:s.valueComparer(u.ValueFormat.Wire)}),{augmentedSortRules:i,additionalComparerArguments:a}}},{key:"sortTableRows",value:function(e,t){var n=this.augmentSortRules(t,{inRollout:!0}),r=n.augmentedSortRules,o=n.additionalComparerArguments,i=e.map((function(e){var t,n,i=[e],a=S(r);try{for(a.s();!(n=a.n()).done;){var l=n.value,u=l.Column,s=l.Comparer,c=e.get(u),d=null===(t=o[u])||void 0===t?void 0:t.keyLabelMap;if(null!=d){var g=d[c];null!=g&&(c=g)}s!==f.default.textComparer&&"string"==typeof c||(c=(0,p.toNormalizedString)(c)),i.push(c)}}catch(e){a.e(e)}finally{a.f()}return i})),a=(0,d.makeSortRulesComparer)(r,{sortBy:function(e,t){return e[t+1]}});return f.default.sort(i,a),i.map((function(e){return e[0]}))}},{key:"searchMatchesRow",value:function(e,t,n,r){if(!t)return!0;if(null==e)return!1;var o=b.dynamicRollouts.includeByOwnerId("UseDateLocaleInAppSearch");n=n||{};for(var i=this.searchableAttributes(),a=0;a<i.length;a++){var l=i[a],u=e[l.name()];if(null!=u&&"function"==typeof u.toLowerCase){var s=l.type();if(o){var c=u;if(u=l.localizeWireValue(c,{dataContext:r}),null!=l.firstNestedRef())u="".concat(c,"|").concat(u);else if("Decimal"===s||"Number"===s||"Price"===s){var d=l.localizeWireValue(c,{dataContext:r,suppressGrouping:!0});u="".concat(d,"|").concat(u)}}else if("Ref"===s){var p=l.referencedTableName(),f=p&&n[p];f&&(u="".concat(u,"|").concat(f[u]))}else if("Yes/No"===s){var g=l.booleanTypeLabels(r),h=g.yesLabel,y=g.noLabel;u="Y"===u?h:y}if((0,m.default)(u).toLowerCase().indexOf(t)>=0)return!0}}return!1}},{key:"computeAggregate",value:function(e){var t=e.aggregationFunction,n=e.targetColumnName,r=e.rows,o=e.tableName,i=e.appModel;if("COUNT"===t)return r.length;var a=this.findAttributeByName(n);if(!a)return null;var d=this.findAttributeIndex(n),p=new c.default(i,this);p.getTableRows=function(){return r},p.getTableRow=function(e,t){var n=this.keyAttribute().name();return l.default.find(r,(function(e){return e[n]===t}))};var f,g={ResultType:"List",ResultTypeQualifier:{ElementType:a.type(),ElementTypeQualifier:a.auxDataString()},EvalType:"COLUMNSET",ColIndex:d,ColName:a.name(),TableName:o},m={ResultType:a.type(),ResultTypeQualifier:a.auxData(),EvalType:"FUNCTION",FunctionName:t,Children:[g]},y=s.default.create(m).run(p);switch(t){case"MIN":case"MAX":case"SUM":f=a;break;default:f=a.decimalDigits()?a:u.default.fromTypeData(t,"Decimal",'{ "DecimalDigits": 2 }')}try{y=f.coerceValue(y)}catch(e){h.default.warnToDevConsole("error coercing value in computeAggregate",y,f)}return y}}],[{key:"reduceAttributesToUniqueTypes",value:function(e){return l.default.uniqBy(e,(function(e){return"LatLong"===e.type()||"Address"===e.type()?"GenericAddressType":e.type()}))}},{key:"attributeNames",value:function(e){return e.map((function(e){return e.name()}))}}]),e}();t.default=k},282615:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.viewNameIconMap=t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(888861)),l=r(n(385857)),u=r(n(593186)),s=r(n(743537)),c=n(306593),d=n(166089),p=n(557310);t.viewNameIconMap={calendar:"date_range",dashboard:"view_quilt",deck:"ballot",table:"view_list",gallery:"border_all",detail:"category",map:"location_on",chart:"insert_chart_outlined",form:"view_stream",onboarding:"view_carousel",card:"insert_photo",iframe:"web_asset"};var f=function(){function e(t){(0,o.default)(this,e),this._appControl=t,this._evalTreeLookup={},this._cacheStore={}}return(0,i.default)(e,[{key:"_cache",value:function(e,t){return this._cacheStore.hasOwnProperty(e)||(this._cacheStore[e]=t()),this._cacheStore[e]}},{key:"name",value:function(){return this._appControl.Name}},{key:"control",value:function(){return this._appControl}},{key:"table",value:function(){return"dashboard"===this.viewType()?null:this._appControl.TableOrFolderName}},{key:"viewType",value:function(){return this._appControl.Action}},{key:"columnOrder",get:function(){return this.definition().ColumnOrder}},{key:"paging",get:function(){var e=this.columnOrder,t=d.AppGlobals.AppModel.findTableCollection(this.table()).tableSchema;return null!=t&&null!=e&&e.length>0&&("form"===this.viewType()||p.ReactRootUIConfig.isReactRoot())?this._cache("paging",(function(){return new c.Paging(t.findAttributesByNames(e,{includeHidden:!0}))})):null==t?void 0:t.paging}},{key:"createdBy",value:function(){return this._appControl.CreatedBy}},{key:"isSystemView",value:function(){return"System"===this.createdBy()}},{key:"isFullScreen",value:function(){return"onboarding"===this.viewType()}},{key:"position",value:function(){return this._appControl.Position}},{key:"rowKey",value:function(e){if(this._rowKey&&this._rowKey.timestamp===e.DataStamp)return this._rowKey.value;var t=this.definition().RowKey,n=this.evalTreeLookup("ROW_KEY");return n&&(t=n.run(e.dataContext()),n.isPure()&&(this._rowKey={timestamp:e.DataStamp,value:t})),t}},{key:"definition",value:function(){var e=this;return this._cache("definition",(function(){var t=e.control();if(!t)return{};if(t.ViewDefinition)return t.ViewDefinition;try{return JSON.parse(t.Settings)}catch(e){return{}}}))}},{key:"evalTreeLookup",value:function(e){if(!this._evalTreeLookup[e]){var t=this._appControl.ExprLookup||{};try{t[e]&&(this._evalTreeLookup[e]=a.default.create(t[e]))}catch(t){u.default.warnToDevConsole("Failed to create ExprEvalTree for "+e)}}return this._evalTreeLookup[e]}},{key:"hasDisplayName",value:function(){return!!this.evalTreeLookup("DisplayName")}},{key:"displayName",value:function(e,t,n,r){var o=this.evalTreeLookup("DisplayName");if(o){var i=o.run(new l.default(e,t,n,void 0,void 0,void 0,r));return i?String(i):this.name()}return this.name()}},{key:"events",value:function(){var e=this;return this._cache("events",(function(){return(e.definition().Events||[]).map((function(t){return new s.default(t,e)})).filter((function(e){return!!e.actionName()}))}))}},{key:"getEventByType",value:function(e){return this.events().filter((function(t){return t.type()===e.name}))[0]}},{key:"shouldBeShown",value:function(e){var t=this.evalTreeLookup("ShowIf");return!t||!!t.run(e?e.dataContext():new l.default(d.AppGlobals.AppModel))}}],[{key:"createFromControl",value:function(t){return new e(t)}}]),e}();t.default=f},351101:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayMode=void 0,t.checkTemplateMatchesAppState=De,t.default=void 0,t.getAppModel=Pe,t.mapActionName=Ce,t.setTestAppModel=void 0;var i=r(n(364687)),a=r(n(600861)),l=r(n(918698)),u=r(n(627424)),s=r(n(856690)),c=r(n(689728)),d=r(n(496486)),p=r(n(297636)),f=r(n(734155)),g=r(n(294184)),h=r(n(730381)),m=r(n(571524)),y=r(n(143249)),v=r(n(112368)),b=me(n(593186)),O=r(n(315847)),w=n(852468),S=r(n(314247)),T=n(685650),A=r(n(190644)),k=n(46239),E=me(n(21870)),P=n(365914),C=n(75212),x=n(318926),D=n(218546),R=n(431335),I=n(881219),N=n(646317),j=n(422339),L=n(249633),_=n(629503),M=n(354632),G=n(249825),F=me(n(895466)),B=r(n(429815)),V=r(n(962553)),U=r(n(192137)),H=r(n(150198)),q=r(n(385857)),W=r(n(888861)),z=r(n(513954)),Y=r(n(700482)),J=r(n(688291)),K=r(n(27401)),Q=r(n(710229)),X=n(714067),Z=n(263198),ee=n(796326),te=n(946094),ne=n(804758),re=n(161171),oe=n(557310),ie=n(515128),ae=n(764685),le=n(892148),ue=n(166089),se=n(149313),ce=n(737351),de=n(235049),pe=n(44617),fe=n(609464),ge=n(50295);function he(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(he=function(e){return e?n:t})(e)}function me(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=he(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function ye(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be,Oe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))};t.DisplayMode=be,function(e){e.Automatic="Automatic",e.Centered="Centered",e.NoHeadings="No Headings",e.Normal="Normal",e.SideBySide="Side-by-side"}(be||(t.DisplayMode=be={}));var we,Se,Te=function(e){return"errorMessage"in e&&!!e.errorMessage},Ae=function(e){if((0,ee.isSuccessResponse)(e)){var t=e.response,n=null==t?void 0:t.Template,r=null==n?void 0:n.Behavior.UsageScopes,o=(null==n?void 0:n.Behavior.RequireUserConsent)&&r&&r!==t.UserConsentedScopes;return(null==t?void 0:t.GeolocationRequired)&&(!n||!o)}return!1},ke=function(){function e(t,n){(0,s.default)(this,e),this.data=t,this.columns=n}return(0,c.default)(e,[{key:"toRowValues",value:function(){var e=this;return this.data.map((function(t){return d.default.zipObject(e.columns,t)}))}}],[{key:"fromJSON",value:function(t){try{var n=JSON.parse(t);return new e(n.data,n.columns)}catch(t){return b.default.ReportErrorOnce({errorMessage:"Error parsing json",error:t}),new e([],[])}}}]),e}(),Ee=function(e){Se!==ue.AppGlobals.AppModel&&b.default.ReportError({errorMessage:"setCurrentAppModel _currentAppModel !== AppGlobals.AppModel",currentDefined:null!=Se,windowDefined:null!=ue.AppGlobals.AppModel});var t=Se;Se=e,window.AppModel=Se,e&&e===t?b.default.ReportError({errorMessage:"setCurrentAppModel newAppModel === oldAppModel"}):(e&&(null==t?void 0:t.pendingAppModel)===e&&(null==t||delete t.pendingAppModel),null==t||t.Dispose((null==e?void 0:e.AppTemplate.Id)!==(null==t?void 0:t.AppTemplate.Id)))};function Pe(){var e;return ue.AppGlobals.AppModel||b.default.ReportErrorOnce({errorMessage:"getAppModel called but there is no AppGlobals.AppModel"}),Se!==ue.AppGlobals.AppModel&&null!=(null===(e=ue.AppGlobals.AppModel)||void 0===e?void 0:e.appTemplate)?(b.default.ReportErrorOnce({errorMessage:"getAppModel window mismatch"}),ue.AppGlobals.AppModel):Se}function Ce(e,t){var n,r;return null!==(r=null===(n=Pe())||void 0===n?void 0:n.MapActionName(e,t))&&void 0!==r?r:t||e}var xe=window.APPSHEET_TEST_CONTEXT?Ee:d.default.noop;function De(e,t){var n,r,o=function(e){try{var t=e.match(/^\/?([^#]+)#?/)[1];return decodeURIComponent(t).toLowerCase()}catch(t){return e}};return(null===(n=e.Name)||void 0===n?void 0:n.toLowerCase())===o(t.Name)||(null===(r=e.Id)||void 0===r?void 0:r.toLowerCase())===o(t.Id)}t.setTestAppModel=xe;var Re=function(){function e(t){var n=this;(0,s.default)(this,e),this.deferredUntilSwap=[],this.inBackgroundSync=!1,this.startedGeocoding=!1,this.dynamicRollouts=new G.DynamicRolloutContainer,this.readyToSwap=!1,this.useConsistentComparisonOperators=!1,this.Disposed=!1,this.IsTestModel=!1,this.USERSTORE_PROVIDER="user-local",this.NativeProvider="native",this.API_LEVEL=2,this.SYSTEM_OWNER_IDS=[10305,71626],this.DESC_SORT_PREFIX="▼",this.ANY_IMAGE_TYPE="anyImage",this.ROW_NUMBER_ATTRNAME="_RowNumber",this.ROW_ID_ATTRNAME="Row ID",this.SHOW_LIST="list",this.DisplayActions={card:!0,table:!0,dashboard:!0,deck:!0,gallery:!0,slideshow:!0,detail:!0,map:!0,chart:!0,form:!0,search:!0,calendar:!0,onboarding:!0,iframe:!0},this.SHOW_WORKFLOW="flow",this.LIST_OPTION_TABLE="Tabular",this.LIST_OPTION_GROUPED="Grouped",this.LIST_OPTION_CARD="Deck",this.DECK_OPTION_SQUARE="Square Image",this.DECK_OPTION_CIRCLE="Round Image",this.DECK_OPTION_FULL="Full Image",this.CHART_OPTION_ROW="Row Series",this.CHART_OPTION_ROW_STACKED="Row Series [Stack]",this.CHART_OPTION_ROW_LINE="Row Series [Line]",this.CHART_OPTION_COL="Col Series",this.CHART_OPTION_COL_STACKED="Col Series [Stack]",this.CHART_OPTION_COL_LINE="Col Series [Line]",this.CHART_OPTION_SCATTER="Scatter Plot",this.CHART_OPTION_PIECHART="PieChart",this.CHART_OPTION_DONUTCHART="DonutChart",this.CHART_OPTION_HISTOGRAM="Histogram",this.CHART_OPTION_HORIZ_HISTOGRAM="Horizontal Histogram",this.CHART_OPTION_AGGREGATE_PIECHART="Aggregate PieChart",this.CHART_OPTION_AGGREGATE_DONUTCHART="Aggregate DonutChart",this.CHART_OPTION_AGGREGATE_NUMBER="Aggregate Number",this.ACTION_SEARCH="search",this.ACTION_LOOKUP="lookup",this.ACTION_NEW="new",this.ACTION_SCAN="scan",this.POSITION_FAR_LEFT="left most",this.POSITION_FAR_RIGHT="right most",this.POSITION_LEFT="left",this.POSITION_RIGHT="right",this.POSITION_CENTER="center",this.POSITION_MENU="menu",this.POSITION_REF="ref",this.POSITIONS_ORDERED=["left most","left","center","right","right most"],this.FORM_CACHE_INTERVAL_MS=1e4,this.FORM_RESTORE_STATE_TIMEOUT_MS=6e5,this.DataStamp=(new Date).toISOString(),this.ForceDelayedSync=!1,this.InASyncCall=!1,this.ReadFromLocalCache=!0,this.Tables=[],this.backgroundSyncInProgress=!1,this.numOutstandingRequests=0,this.nativeProviderFor=function(e){return(null==e?void 0:e.ProviderName)===n.NativeProvider?n.nativeDataProvider:void 0},t&&(this.ReadFromLocalCache=!1,this.dynamicRollouts=t.dynamicRollouts),this.Types=Y.default.init(this),this.dataManager=new Q.default(this),this.AppTemplate={IsValid:!1,IsRunnable:!0,IsDeployable:!0,AppData:{Folders:[],DataSets:[],DataSchemas:[],TableSlices:[]},Behavior:{},Presentation:{Controls:[],FormatRules:[]}},this.appTemplate=new B.default(this.AppTemplate,this),this.defaultDataProvider=new j.DefaultProvider,this.nativeDataProvider=new L.NativeProvider(this)}return(0,c.default)(e,[{key:"isCurrent",get:function(){return Pe()===this}},{key:"signature",get:function(){return this.appTemplateModel.Id}},{key:"rowCount",get:function(){return d.default.sum(this.Tables.filter((function(e){return e.Rows})).map((function(e){return e.Rows&&e.Rows.length})))}},{key:"appTemplateModel",get:function(){return this.AppTemplate}},{key:"dataContext",value:function(){return this.cachedDataContext||(this.cachedDataContext=new q.default(this)),this.cachedDataContext}},{key:"isReady",value:function(){return this.appTemplateModel.IsValid}},{key:"inDynamicRolloutByOwnerId",value:function(e){return this.dynamicRollouts.byOwner(e)}},{key:"inRollout",value:function(e){return this.rollouts?Boolean(this.rollouts.get(e)):(b.default.errorToDevConsole("Checked rollout ".concat(e," before template was available - using out-of-rollout path.")),!1)}},{key:"setRollout",value:function(e,t){this.rollouts||(this.rollouts=new Map),this.rollouts.set(e,t)}},{key:"setRollouts",value:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=(0,u.default)(n[t],2),o=r[0],i=r[1];this.setRollout(o,i)}}},{key:"setAppTemplate",value:function(e){this.rollouts=y.default.allByOwner(e),this.AppTemplate=e,this.appTemplate=new B.default(e,this),this.rolloutClassNames=(0,g.default)("CSSRolloutContainer",{DesktopNavigationRollout:oe.ReactRootUIConfig.isInDesktopExperience(),OutsideDesktopNavigationRollout:!oe.ReactRootUIConfig.isInDesktopExperience()}),this.storageManager&&this.storageManager.setCurrentTemplate(e),this.dataManager&&this.dataManager.onTemplateChange(),this.useConsistentComparisonOperators=this.appTemplate.expressionSettings().ComparisonOperatorBlankValuesMode===re.ExpressionSettingsOption.Consistent}},{key:"Dispose",value:function(e){var t,n;b.default.AddTraceContext("AppModel.Dispose"),this.stopSyncQueue(),this.discardPendingAppModel(),null===(t=this.dataManager)||void 0===t||t.dispose(),null===(n=this.storageManager)||void 0===n||n.dispose(e),this.Tables=[],this.Disposed=!0}},{key:"dataStampTime",value:function(){return this.cachedDataStampTime&&this.cachedDataStampTime.dataStamp===this.DataStamp||(this.cachedDataStampTime={dataStamp:this.DataStamp,time:new Date(this.DataStamp).getTime()||0}),this.cachedDataStampTime.time}},{key:"rebuildTableIndex",value:function(){b.default.AddTraceContext("appModel.rebuildTableIndex"),this.TableNameIndex={};for(var e=0;e<this.Tables.length;e++){var t=this.Tables[e];this.TableNameIndex[t.Name]=e,null!=t.Name&&(this.TableNameIndex[t.Name.toLowerCase()]=e)}}},{key:"initialize",value:function(e,t,n){var r=this;b.default.AddTraceContext("appModel.initialize");var o=!1,i=!1,a=function(n){switch(null==e||e.completeSection(n),n){case"Data":i=!0;break;case"Template":o=!0}i&&o&&"function"==typeof t&&(b.default.AddTraceContext("appTemplateSuccess"),t(r.AppTemplate))},l=ue.AppGlobals.AppState.AppTemplate.Id?ue.AppGlobals.AppState.AppTemplate.Id:ue.AppGlobals.AppState.AppTemplate.Name;(0,se.$TSFixMeMaybeNull)(l),(0,se.$TSFixMeMaybeNull)(ue.AppGlobals.AppState.AppTemplate.Version),this.GetAppTemplateAsync(l,ue.AppGlobals.AppState.AppTemplate.Version,(function(e){if(null!=e){var t=(e.Behavior.AuthRequired||void 0!==window.OTURLParams.requireLogin)&&!m.default.IsIFramePreview();if(!ue.AppGlobals.AppState.IsAuthenticatedUser(t))return ue.AppGlobals.AppState.SwitchToLoginPage(e.IsPublic?null:e.Behavior.AuthProvider," Offline app fetch indicates login is required",e.Id),b.default.AddTraceContext("Switching to login page"),!1}return a("Template"),!0}),(function(){a("Data")}),(function(t){var r,o;r="Template",o=t,null==e||e.raiseError(o),"Template"===r&&"function"==typeof n&&n(o)}))}},{key:"GetTableRowHeight",value:function(){var e;return 2.111*(null===(e=this.appTemplate)||void 0===e?void 0:e.normalizedFontSize())}},{key:"FindTableDefinition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e)return null;if(t>5)return null;for(var n=e.toLowerCase(),r=0;r<this.appTemplateModel.AppData.DataSets.length;r++)if(this.appTemplateModel.AppData.DataSets[r].IsValid){if(n===this.appTemplateModel.AppData.DataSets[r].Name.toLowerCase())return this.appTemplateModel.AppData.DataSets[r]}else b.default.AddTraceContext("Found INVALID TABLE DEFINITION for "+e);if(null!=this.appTemplateModel.AppData.TableSlices)for(var o=0;o<this.appTemplateModel.AppData.TableSlices.length;o++)if(this.appTemplateModel.AppData.TableSlices[o].IsValid&&n===this.appTemplateModel.AppData.TableSlices[o].Name.toLowerCase())return this.FindTableDefinition(this.appTemplateModel.AppData.TableSlices[o].SourceTable,t+1);return null}},{key:"FindSliceDefinition",value:function(e){if(null==e)return null;for(var t=e.toLowerCase(),n=0;n<this.appTemplateModel.AppData.TableSlices.length;n++)if(this.appTemplateModel.AppData.TableSlices[n].IsValid&&t===this.appTemplateModel.AppData.TableSlices[n].Name.toLowerCase())return this.appTemplateModel.AppData.TableSlices[n];return null}},{key:"FindControl",value:function(e,t){if(null==e)return null;for(var n=e.toLowerCase(),r=0;r<this.appTemplateModel.Presentation.Controls.length;r++){var o=this.appTemplateModel.Presentation.Controls[r];if(o.IsValid&&(n===o.Name.toLowerCase()&&(!t||t===o.Action)))return o}return null}},{key:"FindControlsForTable",value:function(e,t,n){"string"==typeof t&&(t=[t]);var r=null;t||(r=["form","dashboard","search","detail"]);var o=d.default.includes(t,"form");if(null==this.appTemplateModel.Presentation.Controls)return[];var i=this.appTemplateModel.Presentation.Controls.filter((function(i){var a,l=i.Action;"table"===l&&(l="fastTable");var u=(null===(a=i.TableOrFolderName)||void 0===a?void 0:a.toLowerCase())===e.toLowerCase(),s=!t||d.default.includes(t,l);r&&s&&(s=!d.default.includes(r,l));var c="ref"===i.Position;return n?!(!o&&"form"===i.Action)&&(u&&(s||c)):u&&s}));return d.default.sortBy(i,(function(e){return"ref"===e.Position?"App owner"===e.CreatedBy?1:2:3}))}},{key:"NavStateForView",value:function(e,t){if(!e)return null;var n=this.appTemplate.getView(e.Name),r=n?n.definition():{},o=(0,P.getGroupAggregateFromString)(r.GroupAggregate),i=n?n.rowKey(this):null,a=null==n?void 0:n.table(),l={TableName:t||a,RowKey:i,GroupBy:r.GroupBy,SortBy:r.SortBy,FilterExpr:r.FilterExpr,ColumnOrder:r.ColumnOrder,ColumnWidth:r.ColumnWidth,ChartType:r.ChartType,ChartColumns:r.ChartColumns,TrendLine:r.TrendLine,ShowLegend:r.ShowLegend,LabelType:r.LabelType,ColorCodes:r.ChartColors,ImageDisplayType:r.ImageShape,defaultCalendarView:r.DefaultCalendarView,viewEntries:r.ViewEntries,MaxNestedRows:r.MaxNestedRows,groupAggregate:o,mainSlideshowImageColumn:r.MainSlideshowImageColumn,detailContentColumn:r.DetailContentColumn,headerColumns:r.HeaderColumns,SlideshowDisplayMode:r.DisplayMode,MapCol:r.MapColumn,SecondaryTable:r.SecondaryTable,SecondaryColumn:r.SecondaryColumn,LocationMode:r.LocationMode,GalleryImageSize:r.ImageSize,Layout:"**auto**"===r.Layout?null:r.Layout,UseCardLayout:r.UseCardLayout,mainDeckImageColumn:"**auto**"===r.MainDeckImageColumn?null:r.MainDeckImageColumn,primaryDeckHeaderColumn:"**auto**"===r.PrimaryDeckHeaderColumn?null:r.PrimaryDeckHeaderColumn,secondaryDeckHeaderColumn:"**auto**"===r.SecondaryDeckHeaderColumn?null:r.SecondaryDeckHeaderColumn,deckSummaryColumn:"**auto**"===r.DeckSummaryColumn?null:r.DeckSummaryColumn,deckNestedTableColumn:"**auto**"===r.DeckNestedTableColumn?null:r.DeckNestedTableColumn,startDateColumn:"**auto**"===r.StartDateColumn?null:r.StartDateColumn,endDateColumn:"**auto**"===r.EndDateColumn?null:r.EndDateColumn,startTimeColumn:"**auto**"===r.StartTimeColumn?null:r.StartTimeColumn,endTimeColumn:"**auto**"===r.EndTimeColumn?null:r.EndTimeColumn,labelColumn:"**auto**"===r.LabelColumn?null:r.LabelColumn,categoryColumn:"**auto**"===r.CategoryColumn?null:r.CategoryColumn,showActionBar:!1!==r.ShowActionBar,actionColumns:r.ActionColumns,actionBarEntries:r.ActionBarEntries,interactiveMode:r.InteractiveMode,showTabs:r.ShowTabs,image:"**none**"===r.Image?null:r.Image,title:"**none**"===r.Title?null:r.Title,firstBlurb:"**none**"===r.FirstBlurb?null:r.FirstBlurb,secondBlurb:"**none**"===r.SecondBlurb?null:r.SecondBlurb,finishView:"**none**"===r.FinishView?null:r.FinishView};return e.Action===ue.AppGlobals.AppState.SHOW_MAP?l.MapType=r.MapType||e.ActionType:e.Action===ue.AppGlobals.AppState.SHOW_GALLERY?l.SortAttr=e.Parameters.length>0?e.Parameters[0]:null:e.Action!==ue.AppGlobals.AppState.SHOW_DETAIL&&e.Action!==ue.AppGlobals.AppState.SHOW_SLIDESHOW||(l.ImageDisplayType=r.ImageStyle),l}},{key:"FindSchema",value:function(e){if(!this.appTemplateModel.SchemaLookup||!this.appTemplateModel.SchemaLookup[e]){for(var t={},n=0;n<this.appTemplateModel.AppData.DataSchemas.length;n++){var r=this.appTemplateModel.AppData.DataSchemas[n];r.IsValid&&(t[r.Name]=r)}this.appTemplateModel.SchemaLookup=t}return this.appTemplateModel.SchemaLookup[e]}},{key:"FindTable",value:function(e){if(null==e||null==this.Tables||0===this.Tables.length)return null;null==this.TableNameIndex&&this.rebuildTableIndex();var t=this.TableNameIndex[e.toLowerCase()];return null!=t?this.Tables[t]:null}},{key:"FindRootTable",value:function(e){var t=this.FindTable(e);return null!=t&&t.IsSlice&&null!=t.SliceSource&&t.SliceSource!==t.Name?this.FindRootTable(t.SliceSource):t}},{key:"ResolveFile",value:function(e,t){var n,r,o=!!(null===(n=this.AppTemplate)||void 0===n?void 0:n.Behavior.FullOfflineCaching);if(null==e||""===e)return e;if(!(0,F.isImageHandle)(e)&&"string"==typeof e&&"http"!==e.substr(0,4)&&"data:"!==e.substr(0,5)){var i=e.split("::");2===i.length&&(t=i[0],e=i[1]);var a=le.WindowWrapper.location.protocol,l=encodeURIComponent(e),u="";o||(u="&appVersion="+this.appTemplateModel.Version);var s,c=V.default.findByName(t,this).rootTable,p=c?c.name():t,f="appName="+encodeURIComponent(this.appTemplateModel.Name)+"&tableName="+encodeURIComponent(p)+u+"&fileName="+l,g=this.FindTableDefinition(t);if(null==g?void 0:g.EnablePartitioning)if(((null===(r=g.SourcePartitionDefinition)||void 0===r?void 0:r.Expression)||"").toLowerCase().indexOf("usersettings(")>=0){var h=this.GetUserSettings(this.appTemplateModel.Name);h&&(f+="&settings="+encodeURIComponent(JSON.stringify(h)))}return s=a+"//"+le.WindowWrapper.location.host+"/template/gettablefileurl?"+(this.appTemplate.secureImageAccess?"secure=1&":"")+f,d.default.endsWith(e&&e.toLowerCase(),".pdf")&&(s+="&n="+encodeURIComponent(e)),s}if((0,F.isImageHandle)(e)){var y=F.default.from(e),b=y.getUrlForImgSrc();e=b||null==y.filePath()?b:this.ResolveFile(y.filePath(),t)}else if("string"==typeof e)if(m.default.InAndroidWebView()){var O=(0,P.getTableFileQueryParsed)(e).fileName;"string"==typeof O&&O.toLowerCase().endsWith(".pdf")&&(e+="&n="+encodeURIComponent(O))}else if(m.default.InIOSWebView()&&!v.default.IsIOSAppWithMinVersion(12.7)&&o){var w=(0,P.getTableFileQueryString)(e)||"";w&&(e=X.GETTABLEFILEURL_BASE+w)}return e}},{key:"sortRowByNumber",value:function(e,t){var n=Number(e[this.ROW_NUMBER_ATTRNAME]),r=Number(t[this.ROW_NUMBER_ATTRNAME]);return null==n||""===n?1:null==r||""===r?-1:n>r?1:n<r?-1:0}},{key:"AddDeleteOrUpdateTableRows",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.skipWriteTables,a=void 0===i||i,l=o.usedTransactions,u=void 0!==l&&l,s=o.bypassSubmitToServer,c=void 0!==s&&s;t=t||d.default.noop,n=n||d.default.noop,(0,p.default)(e,(function(e,t){var n=function(e){return Te(e)?e:void 0};switch(e.type){case"AddTableRow":return t(n(r.CheckAddRequest(e,u)));case"UpdateTableRow":return t(n(r.CheckUpdateRequest(e)));case"DeleteTableRow":return t(n(r.CheckDeleteRequest(e)));default:return t({errorMessage:"AddDeleteOrUpdateTableRows was passed a request of unknown type: ".concat(e.type),request:e})}}),(function(o){if(o){var i=o.request,l=o.errorMessage;n({request:i,errorMessage:l})}else{var s=!1,d=new P.NestedStore;(0,p.default)(e,(function(e,t){var n=function(e,n){s=s||!!e,d.merge(n),t()},o=function(n){return t({request:e,errorMessage:n})},i={skipWriteTables:a,usedTransactions:u,bypassSubmitToServer:c};switch(e.type){case"AddTableRow":r.AddTableRow(e,n,o,i);break;case"UpdateTableRow":r.UpdateTableRow(e,n,o,i);break;case"DeleteTableRow":r.DeleteTableRow(e,n,o,i)}}),(function(e){if(e){var o=e.request,i=e.errorMessage;return b.default.warnToDevConsole("unexpected error in AddDeleteOrUpdateTableRows:\n",i,o),void n({request:o,errorMessage:i})}u||r.Snapshot(d),t(s)}))}}))}},{key:"CheckAddRequest",value:function(e,t){var n=function(t){return b.default.AddTraceContext("ERROR in AddTableRow: ".concat(t)),{request:e,errorMessage:t}},r=V.default.findByName(e.tableName,this),o=r.table,i=r.tableSchema,a=r.tableDefinition;if(null==o)return n("Table ".concat(e.tableName," not found"));if(null==i)return n("TableSchema ".concat(e.tableName," not found"));if(null==a)return n("TableDefinition ".concat(e.tableName," not found"));if(!o.allowsAdd(this))return n("Table ".concat(e.tableName," does not allow new entries"));var l=o.rootTable();if(null==l)return n("Base table of slice ".concat(e.tableName," not found"));var u=d.default.clone(e.row),s=u[l.keyAttribute().name()];if(!t&&null!=l.findRow(s))return n("".concat(Ce("There is already a row with the key:")," ").concat(s));return{table:o,rootTable:l,tableSchema:i,tableDefinition:a,newRow:u,keyValue:s}}},{key:"AddTableRow",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.usedTransactions,i=r.skipWriteTables,a=r.bypassSubmitToServer;t=t||d.default.noop,n=n||d.default.noop,b.default.AddTraceContext("AddTableRow");var l=this.CheckAddRequest(e,o);if(Te(l))n(l.errorMessage);else{var u=l.table,s=l.rootTable,c=l.tableSchema,p=l.keyValue,f=l.newRow;if(!o){if(u.isSlice()){var g=new q.default(this,c);c.allBaseTableAttributes().forEach((function(e){if(e.isValid()&&!c.isInSlice(e.name())&&!(e.name()in f)){(0,b.doWeEverHitThis)("Missing attribute in AddTableRow");var t=e.hasDefaultExpression()?e.defaultExpressionEvalTree().run(g):null;"function"==typeof t?t((function(e,t){f[t.name()]=H.default.valueToWireFormat(e,t.type(),t.auxData())}),e):f[e.name()]=H.default.valueToWireFormat(t,e.type(),e.auxData())}})),e.tableName=s.name()}s.createRow(f)}var h=new P.NestedStore;if(h.for(s.name()).store(p,f),!o){this.onDataChange();var m=this.updateVirtualColumns(f,s,c);h.merge(m)}var y=new z.default.AddTableRowAction(e);i||this.Snapshot(h),a||this.Submit(y),this.onDataChange(),s.table.Timestamp=this.DataStamp,this.discardPendingAppModel(),t(!1,h)}}},{key:"CheckDeleteRequest",value:function(e){var t=function(t){return b.default.AddTraceContext("ERROR in DeleteTableRow: ".concat(t)),{request:e,errorMessage:t}},n=V.default.findByName(e.tableName,this),r=n.table,o=n.tableSchema,i=n.tableDefinition;if(null==r)return t("Table ".concat(e.tableName," not found"));if(null==o)return t("TableSchema ".concat(e.tableName," not found"));if(null==i)return t("TableDefinition ".concat(e.tableName," not found"));if(!r.allowsDelete(this))return t("Table ".concat(e.tableName," does not allow deletes"));var a=r.rootTable();if(null==a)return t("Base table of slice ".concat(e.tableName," not found"));var l=e.row||a.findRow(e.rowKey);if(null==l)return t("Row ".concat(e.rowKey," not found"));var u=l[a.keyAttribute().name()];return null==u?t("Row ".concat(e.rowKey," has an empty key")):{table:r,rootTable:a,tableDefinition:i,tableSchema:o,thisRow:l,keyValue:u}}},{key:"DeleteTableRow",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.usedTransactions,i=r.skipWriteTables,a=r.bypassSubmitToServer;t=t||d.default.noop,n=n||d.default.noop,b.default.AddTraceContext("DeleteTableRow");var l=this.CheckDeleteRequest(e);if(Te(l))n(l.errorMessage);else{var u=l.table,s=l.rootTable,c=l.tableSchema,p=l.thisRow,f=l.keyValue;u.isSlice()&&(e.tableName=s.name()),o||s.deleteRow(f);var g=new P.NestedStore;if(g.for(s.name()).store(f,null),!o){this.onDataChange();var h=this.updateVirtualColumns(p,s,c);g.merge(h)}o||(p[c.keyAttribute().name()]=e.rowKey,e.row=p);var m=new z.default.DeleteTableRowAction(e);i||this.Snapshot(g),a||this.Submit(m),this.onDataChange(),s.table.Timestamp=this.DataStamp,this.discardPendingAppModel(),t(!1,g)}}},{key:"CheckUpdateRequest",value:function(e){var t=function(t){return b.default.AddTraceContext("ERROR in UpdateTableRow: ".concat(t)),{request:e,errorMessage:t}},n=V.default.findByName(e.tableName,this),r=n.table,o=n.tableSchema,i=n.tableDefinition;if(null==r)return t("Table ".concat(e.tableName," not found"));if(null==o)return t("TableSchema ".concat(e.tableName," not found"));if(null==i)return t("TableDefinition ".concat(e.tableName," not found"));if(!r.allowsUpdate(this))return t("Table ".concat(e.tableName," does not allow updates"));var a=r.rootTable();if(null==a)return t("Base table of slice ".concat(e.tableName," not found"));var l=d.default.clone(e.row),u=a.keyAttribute().name(),s=l[u],c=a.findRow(s);return null==c?t("Updated row with key ".concat(s," cannot be found")):{table:r,rootTable:a,tableSchema:o,tableDefinition:i,newRow:l,keyAttrName:u,keyValue:s,oldRow:c}}},{key:"UpdateTableRow",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.usedTransactions,a=o.skipWriteTables,l=o.bypassSubmitToServer;t=t||d.default.noop,n=n||d.default.noop,b.default.AddTraceContext("UpdateTableRow");var u=this.CheckUpdateRequest(e);if(Te(u))n(u.errorMessage);else{var s=u.rootTable,c=u.tableSchema,p=u.tableDefinition,f=u.newRow,g=u.keyAttrName,h=u.keyValue,m=u.oldRow,y=d.default.clone(m);i||s.replaceRow(f);var v=new P.NestedStore;if(v.for(s.name()).store(h,f),!i){this.onDataChange();var O=P.NestedStore.merge(this.updateVirtualColumns(y,s,c),this.updateVirtualColumns(f,s,c));v.merge(O)}m[g]=h;var w=e.tableName===X.userSettingsTableName,S={immediateSync:w,enqueueChanges:!w};if(null===(r=this.nativeProviderFor(p))||void 0===r||r.OnLocalUpdateRow({tableName:e.tableName,row:e.row,oldRow:y,nextSteps:S}),S.enqueueChanges){var T=new z.default.UpdateTableRowAction(e);a||this.Snapshot(v),l||this.Submit(T)}this.onDataChange(),s.table.Timestamp=this.DataStamp,this.discardPendingAppModel(),t(S.immediateSync,v)}}},{key:"onDataChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timestampString,n=void 0===t?(new Date).toISOString():t,r=e.logDelta,o=e.transaction;this.DataStamp=n,delete this.cachedUserSettingsDataContext,this.dataManager&&this.dataManager.onDataChange(r,o),E.default.dataStamp=n}},{key:"shouldEncryptLocalData",value:function(){return this.appTemplateModel.Behavior.EncryptLocalData}},{key:"allowScanOverride",value:function(){var e,t,n=null===(t=null===(e=null==this?void 0:this.AppTemplate)||void 0===e?void 0:e.Presentation)||void 0===t?void 0:t.AllowScanOverride;return!1!==n}},{key:"allowLatLongOverride",value:function(){var e,t,n=null===(t=null===(e=null==this?void 0:this.AppTemplate)||void 0===e?void 0:e.Presentation)||void 0===t?void 0:t.AllowScanOverride;return!1!==n}},{key:"getSortHandleWidth",value:function(){return X.SORTHANDLE_WIDTH}},{key:"startBackgroundSync",value:function(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initiatedBy:"Polling"},o=this.NumDelayedActions()+this.NumProcessingActions(),i=this.dataManager.currentTransaction;if(!(this.NeedsUsageScopesConsent()||_.Common.InitializingApp||this.backgroundSyncInProgress||this.InASyncCall||(null==i?void 0:i.started)||0!==o)){var a=new Date,l=null!==(t=r.progressHandle)&&void 0!==t?t:E.default.syncProgressHandle;this.backgroundSyncProgressHandle=l;var u=new e(this);this.pendingAppModel=u;var s=this.DataStamp,c=JSON.stringify(ue.AppGlobals.AppState.AppTemplate),d=function(e){var t;n.backgroundSyncInProgress=!1,ue.AppGlobals.StateChangeHandler.ShowFinishBackendCall(),b.default.logToDevConsole("Background sync succeeded"),(null==e?void 0:e.IsRunnable)&&n.DataStamp===s&&n.pendingAppModel===u&&JSON.stringify(ue.AppGlobals.AppState.AppTemplate)===c?(u.deferIfBackgroundSync((function(){u.SyncSuccess()})),x.logger.logAppEvent(D.AppEventName.BackgroundSyncSucceeded),u.ReadFromLocalCache=!0,u.readyToSwap=!0,u.inBackgroundSync=!1,(null===(t=null===window||void 0===window?void 0:window.AppModel)||void 0===t?void 0:t.pendingAppModel)===u&&ue.AppGlobals.AppModel.swapInPendingAppModel(),(0,M.recordSyncMetrics)(a,n.lastSuccessfulSyncTimeMs(),{InitiatedBy:r.initiatedBy,Visibility:E.default.syncState.visibility,Result:"success",Background:"true"})):(b.default.logToDevConsole("but the new app template could not be used"),u.Dispose(),n.discardPendingAppModel(),(0,M.recordSyncMetrics)(a,n.lastSuccessfulSyncTimeMs(),{InitiatedBy:r.initiatedBy,Visibility:E.default.syncState.visibility,Result:"not_usable",Background:"true"})),l.finish()},p=function(e){b.default.logToDevConsole("Background sync failed"),x.logger.logAppEvent(D.AppEventName.BackgroundSyncFailed),ue.AppGlobals.StateChangeHandler.ShowFinishBackendCall(),n.backgroundSyncInProgress=!1,n.SyncFailure(),n.discardPendingAppModel(),(0,M.recordSyncMetrics)(a,n.lastSuccessfulSyncTimeMs(),{InitiatedBy:r.initiatedBy,Visibility:E.default.syncState.visibility,Result:"failure",Background:"true"}),l.raiseError(e)};this.backgroundSyncInProgress=!0,b.default.logToDevConsole("Starting a background sync"),b.default.AddTraceContext("Starting background sync"),u.inBackgroundSync=!0,u.readyToSwap=!1,ue.AppGlobals.StateChangeHandler.ShowStartBackendCall(),l.start(r),u.Initialize(l,d,p)}}},{key:"deferIfBackgroundSync",value:function(e){this.inBackgroundSync?this.deferredUntilSwap.push(e):e()}},{key:"swapInPendingAppModel",value:function(){var e,t,n,r,o,i=this;if(this.NumDelayedActions()+this.NumProcessingActions()>0)this.discardPendingAppModel();else if(this.pendingAppModel&&this.pendingAppModel.readyToSwap&&!this.InASyncCall){if(null===(t=null===(e=null===window||void 0===window?void 0:window.AppState)||void 0===e?void 0:e.CurrentUIState)||void 0===t?void 0:t.FormUIState){if(this.appTemplateModel.Version!==this.pendingAppModel.AppTemplate.Version)return;if(null===(o=null===(r=null===(n=null===window||void 0===window?void 0:window.AppState)||void 0===n?void 0:n.CurrentUIState)||void 0===r?void 0:r.FormUIState)||void 0===o?void 0:o.RestoreState)return;var a=this.dataContext().pendingSaves().byTable,l=!1;if(d.default.keys(a).forEach((function(e){var t=i.pendingAppModel.findTableCollection(e).table;d.default.values(a[e]).forEach((function(e){if(e.rowKey)if(null==t)l=!0;else{var n=t.findRow(e.rowKey);null!=n&&d.default.isEqual(n,e.initialData)||(l=!0)}}))})),l)return}else{var u=document.activeElement;if(u&&("INPUT"===u.tagName||"TEXTAREA"===u.tagName))return}if(this.pendingAppModel.Disposed)return void b.default.ReportError({errorMessage:"Tried to swap in disposed pendingAppModel"});if(this.pendingAppModel.Tables.some((function(e){return e.Disposed})))return void b.default.ReportError({errorMessage:"Tried to swap in pendingAppModel with disposed Tables"});try{b.default.AddTraceContext("Swapping in pending AppModel");for(var s=this.pendingAppModel;s.deferredUntilSwap.length;){s.deferredUntilSwap.shift()()}Ee(s);var c=s.AppTemplate;ue.AppGlobals.AppModel.OnAppTemplateLoad(c),Z.JeeneeBrowserAPI.OnAppTemplateLoad(c),ue.AppGlobals.ViewManager.OnAppTemplateLoad(c,!0),ue.AppGlobals.AppState.OnAppTemplateLoad(c),(0,ce.installOrUpdateServiceWorker)(),x.logger.logAppEvent(D.AppEventName.BackgroundSyncAppModelSwap)}catch(e){b.default.ReportError({errorMessage:"error switching to pending AppModel",error:e}),b.default.warnToDevConsole("error occurred when swapping in pending AppModel"),b.default.logToDevConsole(e),ue.AppGlobals.AppModel.discardPendingAppModel()}}}},{key:"discardPendingAppModel",value:function(){this.pendingAppModel&&(b.default.AddTraceContext("Discarding pending app model"),this.pendingAppModel.deferredUntilSwap=[],this.pendingAppModel.Dispose(),delete this.pendingAppModel,this.backgroundSyncProgressHandle&&(this.backgroundSyncProgressHandle.finish(),delete this.backgroundSyncProgressHandle))}},{key:"SyncData",value:function(e,t,n,r){var o=this;b.default.AddTraceContext("appModel.SyncData"),null==e||e.start(t);var i=new Date;this.ReadFromLocalCache=!1;try{this.Initialize(e,(function(e){o.ReadFromLocalCache=!0,null!=e&&(e.IsRunnable?(ue.AppGlobals.AppModel.OnAppTemplateLoad(e),Z.JeeneeBrowserAPI.OnAppTemplateLoad(e),ue.AppGlobals.ViewManager.OnAppTemplateLoad(e),ue.AppGlobals.AppState.OnAppTemplateLoad(e)):ue.AppGlobals.ViewManager.ShowErrorScreen("This app '"+e.ShortName+"' is in an invalid state. Please contact the app creator.")),(0,M.recordSyncMetrics)(i,o.lastSuccessfulSyncTimeMs(),{InitiatedBy:t.initiatedBy,Visibility:E.default.syncState.visibility,Result:"success",Background:"false"}),n(),(0,ce.installOrUpdateServiceWorker)()}),(function(e){o.ReadFromLocalCache=!0,o.RecordSyncEnd(),(0,M.recordSyncMetrics)(i,o.lastSuccessfulSyncTimeMs(),{InitiatedBy:t.initiatedBy,Visibility:E.default.syncState.visibility,Result:"failure",Background:"false"}),r(e),(0,ce.installOrUpdateServiceWorker)()}),(function(e){o.ReadFromLocalCache=!0,o.RecordSyncEnd(),(0,M.recordSyncMetrics)(i,o.lastSuccessfulSyncTimeMs(),{InitiatedBy:t.initiatedBy,Visibility:E.default.syncState.visibility,Result:"flush_load_failure",Background:"false"}),r(e),(0,ce.installOrUpdateServiceWorker)()}))}catch(e){ue.AppGlobals.AppModel.ReadFromLocalCache=!0,r((0,ie.asError)(e).message)}}},{key:"backendSync",value:function(t,n,r,o){var i=this;if(this.RecordSyncStart(),this.appTemplateModel.IsValid&&this.appTemplateModel.Name===ue.AppGlobals.AppState.AppTemplate.Name){this.ResetSyncFailures(),(0,de.autoConnect)();var a=this.NumProcessingActions()+this.NumDelayedActions(),l=setInterval((function(){var u,s,c=(0,ae.getSyncErrorHandler)(i.appTemplateModel.Id,(function(){clearInterval(l)}),!1);if(null===(u=i.syncQueue)||void 0===u||u.Check(t,c),t){var d={remainingSteps:i.NumProcessingActions()+i.NumDelayedActions(),totalSteps:a};t.setSyncQueueStatus(d)}if(0===i.NumProcessingActions())if(clearInterval(l),0===i.NumDelayedActions()&&0===i.NumProcessingActions())if(null==t||t.completeSection("Queue"),i===ue.AppGlobals.AppModel&&i.InASyncCall){var p=new e(i);p.Initialize(t,(function(e){if(ue.AppGlobals.AppModel.InASyncCall){var t=i.RecordSyncEnd();p.SyncSuccess(t),p.ReadFromLocalCache=!0,Ee(p),n(e)}else p.Dispose()}),(function(e){i.SyncFailure(),i.RecordSyncEnd(),r(e)}))}else i.initialize(t,(function(e){i.RecordSyncEnd(),i.SyncSuccess(),n(e)}),(function(e){i.RecordSyncEnd(),r(e)}));else"function"==typeof o&&o(null!==(s=null==t?void 0:t.getErrors())&&void 0!==s?s:"")}),200)}else null==t||t.completeSection("Queue"),this.initialize(t,(function(e){var t=i.RecordSyncEnd();i.SyncSuccess(t),n(e)}),(function(e){i.RecordSyncEnd(),r(e)}))}},{key:"initializeStorageManager",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.AppGlobals.AppState.AppTemplate,t=e.Name,n=e.Id,r=e.Version,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.AppGlobals.AppState.UserInformation.Id;this.storageManager=new K.default({tentativeTemplateName:t,tentativeTemplateId:n,appTemplateVersion:r,userId:o})}},{key:"Initialize",value:function(e,t,n,r){var o=this;b.default.AddTraceContext("appModel.Initialize",{inNestedSync:this!==ue.AppGlobals.AppModel}),this.storageManager||this.initializeStorageManager();var i=function(){var i,a=o!==ue.AppGlobals.AppModel;if(o.ReadFromLocalCache){o.localState=null!==(i=o.storageManager.validStorageInterface)&&void 0!==i?i:o.storageManager.defaultStorageInterface;var l=K.default.readUserRollouts(),u=o.localState.GetOwnerRollouts();(l||u)&&o.dynamicRollouts.restoreFromStorage({ownerDynamicRollouts:u,userDynamicRollouts:l});var s=o.lastSuccessfulSyncTime();s&&o.onDataChange({timestampString:s})}else a&&(o.localState=o.storageManager.defaultStorageInterface);o.actionNames=null,o.ReadFromLocalCache&&o.LocalStateIsValid()?(null==e||e.completeSection("Queue"),o.initialize(e,t,n)):(a||o.LocalStateIsValid()||o.ClearLocalState(),o.ReadFromLocalCache&&(null==e||e.setSyncingStatus(!0)),o.backendSync(e,t,n,r))};this.ReadFromLocalCache?(ue.AppGlobals.AppState.ForceWipeUserData&&(this.ClearPrivateData(),ue.AppGlobals.AppState.ForceWipeUserData=!1),ue.AppGlobals.AppState.ForceRefreshAppDefinition&&(this.ClearTemplateData(),ue.AppGlobals.AppState.ForceRefreshAppDefinition=!1),this.ReadLocalState((function(e){return e&&b.default.warnToDevConsole(e),f.default.nextTick(i)}))):i()}},{key:"RecordSyncStart",value:function(){this.InASyncCall=!0,this.syncStartTime=Date.now()}},{key:"RecordSyncEnd",value:function(){var e;if(this.InASyncCall=!1,this.syncStartTime){var t=Date.now()-this.syncStartTime;try{(null===(e=window.parent)||void 0===e?void 0:e.recordSyncTime)&&window.parent.recordSyncTime(t/1e3)}catch(e){}return delete this.syncStartTime,t}}},{key:"CancelSync",value:function(){b.default.AddTraceContext("appModel.CancelSync"),this.RecordSyncEnd(),(0,I.abortOutstandingCalls)()}},{key:"OnAppTemplateLoad",value:function(e){var t;b.default.AddTraceContext("appModel.OnAppTemplateLoad"),null==(null===(t=null==e?void 0:e.Behavior)||void 0===t?void 0:t.Description)&&d.default.set(e,"Behavior.Description",{}),m.default.detect();var n=m.default.Locale();if("en-us"===n.toLowerCase()){var r={weekdaysMin:"S_M_T_W_T_F_S".split("_")};h.default.updateLocale(n,r)}else h.default.locale(n);(0,se.$TSFixMeMaybeNull)(ue.AppGlobals.AppState.AppTemplate.Name),(this.appTemplateModel.Name&&d.default.toLower(this.appTemplateModel.Name)===d.default.toLower(ue.AppGlobals.AppState.AppTemplate.Name)||this.appTemplateModel.Id&&ue.AppGlobals.AppState.AppTemplate.Id===this.appTemplateModel.Id)&&ue.AppGlobals.AppState.SetCurrentTemplate(this.AppTemplate),E.default.setAppTemplate(this.appTemplate),this.RequiresSamplesUser(e)?ue.AppGlobals.AppState.SetSamplesUser():ue.AppGlobals.AppState.ReadUserInfoFromUStore(),this.startSyncQueue(this.appTemplate),this.NeedsUsageScopesConsent()||this.SetupGeolocationListener(),this.StartGeocodingTableData(),this.appTemplate.loadPredictors(),this.appTemplate.loadOcrExtractors()}},{key:"SetupGeolocationListener",value:function(){var e=this.appTemplate.usesLocation;if(e&&!we){we=A.default.addListener({interval:6e4,enableHighAccuracy:!1})}!e&&we&&(A.default.removeListener(we),we=null)}},{key:"ProcessAppTemplate",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b.default.AddTraceContext("appModel.ProcessAppTemplate"),this.Tables=null!==(t=this.Tables)&&void 0!==t?t:[];var a=this.appTemplateModel.AppData.DataSets.filter((function(e){return e.IsValid}));this.appTemplateModel.IsRunnable&&this.GetTables(a,o,i,(function(t){b.default.AddTraceContext("GetTables callback - tablesArray count: "+t.length),n.Tables=t,n.appTemplateModel.AppData.TableSlices.filter((function(e){return e.IsValid})).forEach((function(e){var t=n.MakeTable(e.Name);t.IsSlice=!0,t.SliceSource=e.SourceTable,n.Tables.push(t)})),n.ProcessTables(),"function"==typeof e&&e()}),r)}},{key:"ProcessTables",value:function(){var e=this,t=[this.appTemplateModel.Presentation.LogoUrl,"https://www.appsheet.com/content/img/favicon64.ico","https://www.appsheet.com/content/img/pageart/draggable-pin-white-2x.png","https://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png","https://mts.googleapis.com/maps/vt/icon/name=icons/spotlight/directions_drag_cross_67_16.png&scale=4"],n=function(t,n,r,o){if("function"==typeof o&&(v.default.IsIOSAppWithMinVersion(4.4)||v.default.IsAndroidAppWithMinVersion(6.4))){var i=[],a=[],u=[],s=[],c=[],f=[/https?:\/\/drive\.google\.com\/open\?/];(0,p.default)(n.Attributes,(function(n,r){var o,l,d,f,g,h;if(n.IsValid)switch(n.Type){case e.IMAGE_TYPE:case e.THUMBNAIL_TYPE:case e.DRAWING_TYPE:case e.SIGNATURE_TYPE:i.push(n);break;case e.FILE_TYPE:u.push(n);break;case e.SHOW_TYPE:(o=new H.default(n)).isShowImage()&&(l=o.showContent(e.dataContext()))&&a.push(l);break;case e.XY_TYPE:o=new H.default(n),f=new q.default(e),h=new Set,(g=o.auxData().KMLFileUrl)&&s.push(g),(d=o.baseImage(f))&&h.add(d);var m,y=ye(t.length?t:[{}]);try{for(y.s();!(m=y.n()).done;){var v=m.value;f.replaceRowData(v),(d=o.baseImage(f))&&h.add(d)}}catch(e){y.e(e)}finally{y.f()}return void(0,p.default)(Array.from(h),(function(e,t){var n=k.ImageMapType.getForUrl(e);n.whenReady((function(e){if(null==e)for(var r=1;r<=k.ImageMapType.CACHE_MAX_ZOOM;r++)c=c.concat(n.getAllTileUrls(r));t()}))}),(function(){return r()}))}r()}),(function(n){n&&b.default.warnToDevConsole(n),o(function(){var n=[];if(i.length>0)for(var o=0;o<t.length;o++)for(var p=t[o],g=0;g<i.length;g++){var h=p[i[g].Name];if(null!=h&&"object"!==(0,l.default)(h)&&""!==h&&!h.startsWith("data:")){var m=_.Common.FlexImageUrl(e.ResolveFile(h,r));n.push(m)}}if(u.length>0)for(var y=0;y<t.length;y++)for(var v=t[y],b=0;b<u.length;b++){var O=v[u[b].Name];if(null!=O&&"object"!==(0,l.default)(O)&&""!==O)for(var w=e.ResolveFile(O,r),S=0;S<f.length;S++)w&&!f[S].test(w)&&n.push(w)}if(a.length>0)for(var A=0;A<a.length;A++){var k=a[A];null!=k&&"object"!==(0,l.default)(k)&&""!==k&&n.push(_.Common.FlexImageUrl(k))}return c.forEach((function(e){return n.push(e)})),s.forEach((function(e){return n.push(e)})),c.length&&(0,T.preloadForOffline)(),n=d.default.uniq(n)}())}))}},r=[],o=[],i=[];b.default.AddTraceContext("ProcessTables - this.Tables count: "+this.Tables.length);var a=this.appTemplateModel.Id;a&&"c37bc8a4-6b53-4e71-812c-2348072cbf2e"!==a&&(o=o.concat(a)),this.Tables.forEach((function(t){if(!t.IsSlice){var a=e.FindTableDefinition(t.Name);if(null!=a){var l=e.FindSchema(a.SchemaName);if(null!=l){i.push(t.Name);var u=new U.default(l).keyAttribute();if(t.keyAttrName=u.name(),b.default.Debug()){var s=d.default.uniqBy(t.Rows,(function(e){return e[t.keyAttrName]}));if(t.Rows.length!==s.length){var c=d.default.keys(d.default.pickBy(d.default.groupBy(t.Rows,(function(e){return e[t.keyAttrName]})),(function(e){return e.length>1})));b.default.warnToDevConsole("removed ".concat(t.Rows.length-s.length," rows with duplicate keys ")+"from table ".concat(t.Name," with keyAttr ").concat(t.keyAttrName,":\n"),c),t.Rows=s}}try{e.appTemplateModel.Behavior.FullOfflineCaching&&r.push(n.bind(null,t.Rows,l,t.Name))}catch(e){b.default.ReportError({errorMessage:"ProcessTables: Error in getCachedFilesArray for table",tableName:t.Name,error:e})}var p=function(t,n){var r,o=[],i=[],a=ye(n.Attributes);try{for(a.s();!(r=a.n()).done;){var l=r.value;l.IsValid&&l.Type===e.APP_TYPE&&i.push(l)}}catch(e){a.e(e)}finally{a.f()}for(var u=0;u<t.length;u++)for(var s=t[u],c=0;c<i.length;c++){var d=s[i[c].Name];d&&36===d.length&&o.push(d)}return o}(t.Rows,l,t.Name);p.length>0&&(o=o.concat(p))}else{var f=e.appTemplateModel.AppData.DataSchemas||[];b.default.AddTraceContext("TableSchema NOT FOUND for non-slice table "+t.Name,{schemasFrom:f.map((function(e){return e.AutoSchemaFrom}))})}}else{var g=e.appTemplateModel.AppData.DataSets||[];b.default.AddTraceContext("TableDefinition NOT FOUND for non-slice table "+t.Name,{dataSetNames:g.map((function(e){return e.Name}))})}}})),this.rebuildTableIndex(),i=[],this.Tables.forEach((function(t){if(t.IsSlice){var n=e.FindTableDefinition(t.Name),r=e.FindTable(t.SliceSource);i.push(t.Name),null==n||null==r||r===t?(t.IsValid=!1,b.default.ReportErrorOnce({errorMessage:"Seems like an invalid table slice",tableName:t.Name,sliceSource:t.SliceSource,tableDefinitionMissing:null==n,sourceTableMissing:null==r,sourceTableEqualsSlice:r===t})):t.keyAttrName=r.keyAttrName}}));var u=function(e){var t;(null===(t=ue.AppGlobals.ViewManager)||void 0===t?void 0:t.sideMenu)&&!d.default.isEqual(e,d.default.pick(ue.AppGlobals.ViewManager.sideMenu.state,d.default.keys(e)))&&ue.AppGlobals.ViewManager.sideMenu.setState(e),E.default.setCachingProgress(e)};u({totalFilesRequested:null,totalFilesToCache:null,filesCached:null,filesWithError:null}),this.appTemplateModel.Behavior.FullOfflineCaching&&(0,p.default)(r,(function(e,n){e((function(e){t=t.concat(e),n()}))}),(function(n){n&&b.default.warnToDevConsole(n),(t=d.default.uniq(t)).length>1&&u({totalFilesRequested:t.length,totalFilesToCache:t.length,filesCached:null,filesWithError:null}),Z.JeeneeBrowserAPI.cacheFiles(e.appTemplateModel,t)})),Z.JeeneeBrowserAPI.setAuthCookie(),Z.JeeneeBrowserAPI.subscribeToApps(this.appTemplateModel.Name,o)}},{key:"MatchesAppNameOrId",value:function(e){return this.AppTemplate&&(this.appTemplateModel.Name===e||this.appTemplateModel.Id===e)}},{key:"fetchAppTemplate",value:function(e,t,n){var r;return Oe(this,void 0,void 0,i.default.mark((function o(){var a,l,u,s;return i.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a="/api/template/"+e+"/",l=function(t){var n=ue.AppGlobals.AppModel.appTemplate&&ue.AppGlobals.AppModel.appTemplate.lastModified();ue.AppGlobals.AppModel.MatchesAppNameOrId(e)&&n&&t.setRequestHeader("If-Modified-Since",n)},o.next=4,ue.AppGlobals.AppModel.makeGetAppTemplateParamsAsync(e,n);case 4:return u=o.sent,null!=t&&(u.version=t),this.inBackgroundSync&&(u.isBackgroundSync=!0),(s=null===(r=this.localState)||void 0===r?void 0:r.GetSyncToken())&&(u.syncToken=s),o.abrupt("return",$.postJSONAsync(a,u,l));case 10:case"end":return o.stop()}}),o,this)})))}},{key:"redirectIfNeeded",value:function(e,t){var n=this;return new Promise((function(r){var o=le.WindowWrapper.location.href,i=!1;"sync"===t&&oe.ReactRootUIConfig.needsReload(e)&&(i=!0,o=oe.ReactRootUIConfig.getRedirectUrl(e,o)),S.default.shouldBeUnloaded(e)&&(i=!0,o=(0,N.replaceGuid)(o,e.Id)),o!==le.WindowWrapper.location.href?le.WindowWrapper.location.href=o:i?(n.ClearTemplateData(),le.WindowWrapper.location.reload()):r()}))}},{key:"GetAppTemplateAsync",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return Oe(this,void 0,void 0,i.default.mark((function u(){var s,c,p,f,g,h,y,v,O,w,S,T,A,k,P,C,R,I,N,j,L,M,G,F,B,V,U,H,q,W,z=this;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.ReadFromLocalCache||!this.LocalStateIsValid()){i.next=10;break}if(s=this.GetTemplateResult(),this.setAppTemplate(s),o(s)){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,this.redirectIfNeeded(s,"local cache");case 7:this.ProcessAppTemplate(a,l),i.next=64;break;case 10:return c=!(!ue.AppGlobals.AppModel.MatchesAppNameOrId(e)||!(null===(n=ue.AppGlobals.AppModel.AppTemplate.Behavior)||void 0===n?void 0:n.UsesGeolocation)),(p=x.logger.startTelemetryLogger()).log(D.AppTelemetryEventName.FetchAppTemplateStart),i.next=15,this.fetchAppTemplate(e,t,c);case 15:if(f=i.sent,!Ae(f)){i.next=21;break}return c=!0,i.next=20,this.fetchAppTemplate(e,t,c);case 20:f=i.sent;case 21:if(!(0,ee.isFailureResponse)(f)){i.next=29;break}return h=(g=f).responseText,y=g.httpStatus,h===b.SYNC_CANCELED_ERROR_MESSAGE?p.log(D.AppTelemetryEventName.FetchAppTemplateCancel):p.log(D.AppTelemetryEventName.FetchAppTemplateError),(0,ae.getSyncErrorHandler)(e,l,this.inBackgroundSync)(h,y),i.abrupt("return");case 29:if(v=null!==(r=f.response)&&void 0!==r?r:{},O=v.AppSheetJSVersion,w=v.Success,S=v.ErrorDescription,T=v.NotModified,A=v.Template,k=v.UserRole,P=v.NestedDataSets,C=v.DataSetFormat,R=v.Timestamp,I=v.FirebaseCustomToken,N=v.ExternalAccounts,j=v.OwnerEmail,L=v.UserConsentedScopes,M=v.UserRollouts,G=v.OwnerRollouts,F=v.SyncToken,B=v.DeltaNotificationSyncToken,V=v.DeprecationStatus,!m.default.InMobileWebView()||"Block"!==V){i.next=36;break}return U=f.httpStatus,H=S||"",(0,ae.getSyncErrorHandler)(H,l,this.inBackgroundSync)(H,U,!0),i.abrupt("return");case 36:if(w){i.next=40;break}return p.log(D.AppTelemetryEventName.FetchAppTemplateError),l("Unable to fetch app definition.\n ".concat(null!=S?S:"Empty app template")),i.abrupt("return");case 40:if(m.default.InMobileWebView()&&"Warning"===V&&0===E.default.toasts.length&&(864e5,E.default.showToastThrottled(ge.DeprecationWarningToast,864e5)),this.dynamicRollouts.update({upstreamAppSheetJSVersion:O,ownerDynamicRollouts:G,userDynamicRollouts:M}),De(q=T?ue.AppGlobals.AppModel.AppTemplate:A,ue.AppGlobals.AppState.AppTemplate)){i.next=48;break}return b.default.ReportError({errorMessage:"Current app changed without canceling sync",thisAppName:this.appTemplateModel.Name,thisAppId:this.appTemplateModel.Id,scopeAppName:q.Name,scopeAppId:q.Id,windowAppName:ue.AppGlobals.AppModel.AppTemplate.Name,windowAppId:ue.AppGlobals.AppModel.AppTemplate.Id,stateAppName:ue.AppGlobals.AppState.AppTemplate.Name,stateAppId:ue.AppGlobals.AppState.AppTemplate.Id,NotModified:T,inAppStartup:ue.AppGlobals.AppState.inAppStartup,inBackgroundSync:this.inBackgroundSync,initializingApp:_.Common.InitializingApp}),l(b.SYNC_CANCELED_ERROR_MESSAGE),p.log(D.AppTelemetryEventName.FetchAppTemplateCancel),i.abrupt("return");case 48:if(p.log(D.AppTelemetryEventName.FetchAppTemplateEnd,{ownerSubscription:q.OwnerSubscription,syncInitiatedBy:E.default.syncState.initiatedBy,syncVisibility:E.default.syncState.visibility}),ue.AppGlobals.AppState.SaveUserRole(k),pe.dynamicRollouts.includeByOwnerId("SendDataNotificationsOnChangeRollout")&&(0,fe.deltaNotificationInstance)().setLatestWatermark(q,B),this.setAppTemplate(q),this.onDataChange({timestampString:R}),I&&Z.JeeneeBrowserAPI.setStorageAuth(I),j&&(q.OwnerEmail=j),N&&(q.ExternalAccounts=N),L&&(q.Behavior.UserConsentedScopes=L),o(this.AppTemplate)){i.next=59;break}return i.abrupt("return");case 59:return i.next=61,this.redirectIfNeeded(q,"sync");case 61:this.deferIfBackgroundSync((function(){z.WriteSyncResultToLocalStorage(T,F).catch((function(e){var t;b.default.AddTraceContext("getAppTemplateCallback WriteSyncResultToLocalStorage error"),(null===(t=z.appTemplateModel.Behavior)||void 0===t?void 0:t.LaunchOffline)&&!m.default.IsIFrame()&&l((0,ie.asError)(e).message)}))})),W=P?d.default.keyBy(P,(function(e){return e.Name})):{},this.ProcessAppTemplate(a,l,W,C);case 64:case"end":return i.stop()}}),u,this)})))}},{key:"makeGetAppTemplateParamsAsync",value:function(e,t){var n=this;return new Promise((function(r){return n.MakeGetAppTemplateParams(e,t,r)}))}},{key:"MakeGetAppTemplateParams",value:function(e,t,n){var r,o,i,a,l=!this.MatchesAppNameOrId(e),u=this.GetUserSettings(e);null!=this.SyncInfo.LastSyncTableParams?i=this.getPerTableSyncParams(e):a=this.GetTableTimestamps(e),b.default.logToDevConsole("Syncing with ".concat(i?"perTableParams":"timestamps"),null!=i?i:a);var s={settings:u?JSON.stringify(u):null,getAllTables:!0,syncsOnConsent:!0,syncUI:E.SyncUI[E.default.syncState.ui],initiatedBy:E.default.syncState.initiatedBy,dataNotificationSyncPayload:E.default.syncState.notification,isPreview:m.default.IsIFramePreview(),apiLevel:this.API_LEVEL,supportsJsonDataSets:!0,tzOffset:(new Date).getTimezoneOffset(),locale:navigator.languages?navigator.languages[0]:navigator.language,tableTimestamps:a,perTableParams:i,lastSyncTime:this.lastSuccessfulSyncTime()||"",appStartTime:window.APP_START_TIME||"",dataStamp:this.DataStamp||"",clientId:this.GetClientId(),build:window.AppSheetJSBuild,hasValidPlan:this.AppTemplate&&this.appTemplateModel.HasValidPlan,userConsentedScopes:this.AppTemplate?this.appTemplateModel.Behavior.UserConsentedScopes:null};m.default.InAndroidWebView()?s.androidAppVersion=v.default.AppVersion():m.default.InIOSWebView()&&(s.iosAppVersion=v.default.AppVersion()),!l&&(null===(r=this.AppTemplate)||void 0===r?void 0:r.Version)&&(s.localVersion=this.appTemplateModel.Version);try{(null===(o=window.parent)||void 0===o?void 0:o.getDegreeOfParallelism)&&(this.CustomDegreeOfParallelism=window.parent.getDegreeOfParallelism())}catch(e){}this.CustomDegreeOfParallelism&&(s.customDegreeOfParallelism=this.CustomDegreeOfParallelism);var c=(0,te.getPreviewAsEmail)();if(c&&(s.previewAsEmail=c),t&&!A.default.lastPosition)this.SafeGetLocation((function(e){s.location=e,n(s)}));else if(t&&A.default.lastPosition){var d=A.default.lastPosition.coords,p=d.latitude,f=void 0===p?0:p,g=d.longitude,h=void 0===g?0:g;s.location=A.default.stringifyLatLng(f,h),n(s)}else n(s)}},{key:"GetTableTimestamps",value:function(e){var t={};if(this.GetTablesResult()&&this.MatchesAppNameOrId(e))for(var n=0;n<this.Tables.length;n++){var r=this.Tables[n];if(!r.IsSlice){var o=this.lastTableTimestamp(r.Name);t[r.Name]=r.Timestamp!==o||r.Disposed?null:o}}return t}},{key:"getPerTableSyncParams",value:function(e){var t=new P.NestedStore;if(this.GetTablesResult()&&this.MatchesAppNameOrId(e))for(var n=0;n<this.Tables.length;n++){var r=this.Tables[n];if(!r.IsSlice){var o=this.lastSyncTableParams(r.Name);o&&r.Timestamp===o.time&&!r.Disposed&&t.for(r.Name).store(o)}}return t.toSimpleObject()}},{key:"GetUserSettings",value:function(e){var t,n,r,o,i;if(pe.dynamicRollouts.includeByOwnerId("ClientRetainUserSettings"))return(!e||(null===(t=this.localState)||void 0===t?void 0:t.matches(e)))&&null!==(i=null===(o=null===(r=null===(n=this.localState)||void 0===n?void 0:n.GetTable(X.userSettingsTableName))||void 0===r?void 0:r.Rows)||void 0===o?void 0:o[0])&&void 0!==i?i:null;if(!e||this.MatchesAppNameOrId(e)){var a=this.FindSchema(X.userSettingsSchemaName);if(a)if(new U.default(a)){var l=d.default.find(this.Tables,(function(e){return e.Name===X.userSettingsTableName}));if(null==l?void 0:l.Rows)return l.Rows[0]}}return null}},{key:"userSettingsDataContext",value:function(){if(this.cachedUserSettingsDataContext)return this.cachedUserSettingsDataContext;var e=this.FindSchema(X.userSettingsSchemaName);if(e){var t=new U.default(e),n=this.GetUserSettings(),r=new q.default(this,t,n,null);return null!=n&&(this.cachedUserSettingsDataContext=r),r}return null}},{key:"SafeGetLocation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=!1;if(A.default.lastPosition){var r=A.default.lastPosition.coords,o=r.latitude,i=void 0===o?0:o,a=r.longitude,l=void 0===a?0:a;e(A.default.stringifyLatLng(i,l))}else{var u={timeout:t,enableHighAccuracy:!1},s=function(t){b.default.warnToDevConsole(t);var r=A.default.stringifyLatLng(0,0);n||(n=!0,e(r))},c=function(t,r){var o=A.default.stringifyLatLng(t,r);n||(n=!0,e(o))};A.default.fetchLatLong(c,s,u)}}},{key:"GetTable",value:function(e,t,n,r,o,i){this.defaultDataProvider.ReadTable(e,t,n,null,null,null,o,i)}},{key:"GetTables",value:function(e,t,n,r,o){var i,a=this;if(this.ReadFromLocalCache&&this.LocalStateIsValid()){if((i=this.GetTablesResult())&&Array.isArray(i)&&i.length)return b.default.AddTraceContext("appModel.GetTables - used local"),void r(i);var l="";i?Array.isArray(i)?i.length||(l="tablesResult array was empty"):l="tablesResult was not an array":l+="tablesResult was null ";var u="appModel.GetTables - tried to use local but ".concat(l);(0,b.doWeEverHitThis)(u)}var s=0,c=0,p={},f=[];if(null==e||0===e.length)return b.default.warnToDevConsole("no tableDefinitions found in AppTemplate, proceeding with empty tables and clearing local state"),b.default.AddTraceContext("appModel.GetTables - empty result"),this.ClearLocalState(),void r(f);b.default.AddTraceContext("appModel.GetTables - getUserTable loop");var g,h=ye(e);try{var m=function(){var e=g.value;if(e.IsValid){s++;var i=function(e,t,n,o,i){if(i){var l=d.default.clone(i);l.Rows=d.default.clone(i.Rows),n&&(l.Timestamp=n),f.push(l),p[e]=!0}else f.push(a.MakeTable(e,t,n,o));++c===s&&(a.deferIfBackgroundSync((function(){f.some((function(e){return e.Disposed}))?b.default.ReportError({errorMessage:"Tried to write disposed tablesResult"}):a.WriteTablesResult(f.filter((function(e){return!e.IsSlice})),{tablesToSkip:p})})),b.default.AddTraceContext("getTableSuccessFn: "+s+" tables"),r(f))};!function(t,r,l,u,s){var c,d,p,f,g=null!=s?s:{},h=g.DataSet,m=g.NotModified,y=g.LastModified,v=g.ETag;if(m){var O=ue.AppGlobals.AppModel.FindTable(l);if(null==O||O.Disposed){null===(c=ue.AppGlobals.AppModel.localState)||void 0===c||c.clearSyncState(),ue.AppGlobals.AppModel===a||null===(d=a.localState)||void 0===d||d.clearSyncState();var w="There was a problem fetching table",S="".concat(w," ").concat(l,". Please try again."),T=ue.AppGlobals.AppModel.findTableCollection(l).table;b.default.ReportErrorOnce({errorMessage:w,tableName:l,thisAppName:a.appTemplateModel.Name,thisAppId:a.appTemplateModel.Id,windowAppName:ue.AppGlobals.AppModel.AppTemplate.Name,windowAppId:ue.AppGlobals.AppModel.AppTemplate.Id,stateAppName:ue.AppGlobals.AppState.AppTemplate.Name,stateAppId:ue.AppGlobals.AppState.AppTemplate.Id,windowTableCount:null===(p=ue.AppGlobals.AppModel.Tables)||void 0===p?void 0:p.length,inAppStartup:ue.AppGlobals.AppState.inAppStartup,inBackgroundSync:a.inBackgroundSync,initializingApp:_.Common.InitializingApp,foundTable:null!=T,foundTableRowCount:null===(f=null==T?void 0:T.rows())||void 0===f?void 0:f.length,isDisposed:!!(null==O?void 0:O.Disposed)}),o(S)}else(0,se.$TSFixMeMaybeNull)(O.Rows),O.Rows.length&&b.default.logToDevConsole("not modified:",O.Name,"(".concat(O.Rows.length,")")),setTimeout((function(){(0,se.$TSFixMeMaybeNull)(O.Rows),i(l,O.Rows,y||O.Timestamp,O.ETag,O)}),1)}else if(h)setTimeout((function(){var e="json"===n?ke.fromJSON(h).toRowValues():R.CSV.parse(h);e.length&&b.default.logToDevConsole("SENT DATA:",l,"(".concat(e.length,")")),i(l,e,y,v)}),1);else{if(a.NeedsUsageScopesConsent())return void setTimeout((function(){i(l,[])}),1);b.default.ReportErrorOnce({errorMessage:"getUserTable fell into unexpected `GetTable` path",tableName:l,IsAutoCreated:e.IsAutoCreated}),a.GetTable(t,r,l,a.USERSTORE_PROVIDER===u,i,o)}}(a.appTemplateModel.Name,a.appTemplateModel.Version,e.Name,e.ProviderName,t[e.Name])}};for(h.s();!(g=h.n()).done;)m()}catch(e){h.e(e)}finally{h.f()}0===s&&r(f)}},{key:"MakeTable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return{Name:e,Rows:t,IsSlice:!1,SliceSource:null,Timestamp:n,ETag:r}}},{key:"tablesByRowCount",value:function(){return d.default.sortBy(ue.AppGlobals.AppModel.Tables.filter((function(e){return e.Rows&&e.Rows.length>0})),(function(e){return(0,se.$TSFixMeMaybeNull)(e.Rows),-e.Rows.length})).map((function(e){return(0,se.$TSFixMeMaybeNull)(e.Rows),[e.Rows.length,e.Name,e]}))}},{key:"ExtractShareInfo",value:function(e,t){var n=this,r="",o="",i=V.default.findByName(e,this).table;if(i){var a=i.rootTable();if(null==a?void 0:a.tableSchema){var l=a.tableSchema,u=a.findRow(t);u&&l.visibleAttributesWithoutShowTypes().forEach((function(t){var o;switch(t.type()){case n.IMAGE_TYPE:case n.THUMBNAIL_TYPE:case n.DRAWING_TYPE:case n.SIGNATURE_TYPE:r+=t.name()+" - "+((0,F.isImageHandle)(u[t.name()])?"(photo being processed)":_.Common.FlexImageUrl(n.ResolveFile(u[t.name()],e)))+"\r\n";break;case n.SHOW_TYPE:break;case n.URL_TYPE:(null==(o=H.default.urlValueFromWireFormat(u[t.name()]))?void 0:o.linkText)&&o.linkText!==o.url?r+=t.name()+" - "+o.linkText+":"+o.url+"\r\n":r+=o?t.name()+" - "+o.url+"\r\n":t.name()+" - \r\n";break;default:r+=t.name()+" - "+t.localizeWireValue(u[t.name()])+"\r\n"}}));var s=l.imageAttributesByImportance().filter((function(e){return e.type()!==n.SIGNATURE_TYPE}))[0];s&&(o=_.Common.FlexImageUrl(this.ResolveFile(u[s.name()],e)))}}return{body:r,image:o}}},{key:"RequiresSamplesUser",value:function(e){return e.IsPublic&&this.SYSTEM_OWNER_IDS.indexOf(e.OwnerId)>=0&&e.Behavior.AuthRequired&&"AppGallery-10305"!==e.Name}},{key:"MakeSliceMappingContext",value:function(e){var t=this.FindSliceDefinition(e);if(null!=t){var n={TableToSliceMapping:{}};return n.TableToSliceMapping[t.SourceTable]=t,n}return null}},{key:"updateVirtualColumns",value:function(e,t,n){var r=this,o=new P.NestedStore;return n.findBaseTableAttributesByType(this.TABLEREF_TYPE).forEach((function(t){var n=e[t.name()],i=V.default.findByName(t.referencedTableName(),r).table;if(i){var a=i.rootTable();if(a){var l=a.tableSchema;if(l){var u=a.lookupTableRow(n),s=null==u?void 0:u.values;if(s&&l.virtualAttributes().length){var c=new q.default(r,l,s),p=d.default.clone(s);if(c.recomputeVirtualColumns(),!d.default.isEqual(p,s)){var f=a.name();o.for(f).store(n,s),null==u||u.invalidate()}}}}}})),o}},{key:"SendQueuedChangesToRecoveryEndpoint",value:function(){return Oe(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.GetQueuedActions()||[],n=[],r=ye(t),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=18;break}if(null==(a=o.value)){e.next=16;break}return e.prev=8,e.next=11,this.defaultDataProvider.RecordRecoveryData(this.appTemplateModel.Name,a.params);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),n.push(e.t0);case 16:e.next=5;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(3),r.e(e.t1);case 23:return e.prev=23,r.f(),e.finish(23);case 26:if(!n.length){e.next=30;break}throw(l=new Error(n.map((function(e){return e.message})).join("\n"))).stack=n[0].stack,l;case 30:case"end":return e.stop()}}),e,this,[[3,20,23,26],[8,13]])})))}},{key:"SendCreatorFeedback",value:function(e){var t="/api/template/"+this.appTemplateModel.Id+"/feedback";$.postJSON(t,e,(function(){}),(function(){}))}},{key:"StartGeocodingTableData",value:function(){var e=this;if(!O.default.disabled&&!this.startedGeocoding){this.startedGeocoding=!0;var t={},n=m.default.IsEditorIFramePreview()?5:25,r=function(e,t){e.length>0&&ue.AppGlobals.AppModel.WriteGeocodeResults(e,null,null,t)};this.Tables.forEach((function(o){if(!o.IsSlice){var i=e.findTableCollection(o.Name),a=i.table,l=i.tableSchema,u=i.tableDefinition;if(a&&l&&u){var s=l.findBaseTableAttributesByType("Address").filter((function(e){return e.geocodingEnabled()}));s.length&&function(){for(var o=0,i=0,c=[],p=O.default.region(u.LocaleName),f=O.default.BAD_GEO_VALUE,g=d.default.shuffle(a.rowValues()),h=0;h<g.length;h++){var m=g[h];if(!m._isGeoCoded){if(!e.appTemplateModel.IsDeployable&&o>=25)break;for(var y=0;y<s.length;y++){var v=s[y],S=m["_geo_"+v.name()];if(S){var T=S.split(",");if(2===T.length){if(Number(T[0])===f)continue;if(!(Number(T[0])>f)){m["_latitude"+v.name()]=T[0],m["_longitude"+v.name()]=T[1];continue}}}var A=m[v.name()];if(A&&A.trim())if("continue"===function(){if(A=A.trim(),O.default.addressHasBeenQueued(A))return"continue";var e=l.keyAttribute().name(),u={tableName:a.name(),rowKey:m[e],keyAttrName:e,address:A,addressAttrName:v.name()},s=function(e){var t,a;e.length?(t=e[0].latitude,a=e[0].longitude):(t=f,a=f);var l=V.default.findByName(u.tableName,ue.AppGlobals.AppModel),s=l.table,d=l.tableSchema;if(s&&d){var p=d.keyAttribute();if(d.findAttributeByName(u.addressAttrName)&&p.name()===u.keyAttrName){var g=s.findRow(u.rowKey);if(g)g[u.addressAttrName]===u.address&&(g["_latitude"+u.addressAttrName]=t,g["_longitude"+u.addressAttrName]=a,g._isGeoCoded=!0)}}if(c.push({Address:u.address,LatLong:t+","+a}),++i===o)r(c,u.tableName);else if(i>0&&i%n==0){var h=c;c=[],r(h,u.tableName)}};o++,O.default.geocodeAddress(A,{region:p}).then((function(e){var n=e.status,r=e.results;r?s(r):function(e){if(e===w.ZERO_RESULTS||e===w.INVALID_REQUEST)s([]);else{i++;var n=[w.REQUEST_DENIED];d.default.includes(n,e)&&!t[e]&&(b.default.ReportErrorOnce({errorMessage:"Geocoding of address failed",address:u.address,status:e},e),t[e]=!0,s([]))}}(n)})).catch(b.default.warnToDevConsole)}())continue}m._isGeoCoded=!0}}}()}}}))}}},{key:"WriteGeocodeResults",value:function(e,t,n,r){var o=this.appTemplateModel.Name,i=!this.appTemplateModel.IsDeployable,a=this.appTemplateModel.OwnerId,l="/api/template/geocodeResults?tableName="+encodeURIComponent(r)+"&appName="+encodeURIComponent(o)+"&ownerId="+encodeURIComponent(a)+"&isPrototype="+encodeURIComponent(i);if($.postJSON(l,e,(function(e){null!=t&&t(e)}),(function(){null!=n&&n()})),r&&this.ReadFromLocalCache&&!this.InASyncCall){var u=this.FindRootTable(r);this.WriteTableResult(u)}}},{key:"IsWhitelabelApp",value:function(){var e,t;return!!(null===(t=null===(e=this.appTemplateModel.Behavior)||void 0===e?void 0:e.Description)||void 0===t?void 0:t.IsWhitelabel)}},{key:"findTableCollection",value:function(e,t){return this.dataManager.findTableCollection(e,t)}},{key:"findReferencedRow",value:function(e,t,n){var r=e.referencedTableName();if(!r)return null;var o=this.findTableCollection(r),i=o.table,a=o.tableSchema;if(!i||!a)return null;var l=i.timestamp(),u=a.keyAttribute().name(),s={table:i,tableSchema:a,timestamp:l,appModel:this,keyAttrName:u};return t?null!=(n=null!=n?n:t.getValue(e))?t.getTableRow(i,n,s):null:null!=n?i.findRow(n):null}},{key:"RunExpression",value:function(e){return W.default.create(e).run(new q.default(this))}},{key:"runDisplayName",value:function(e){var t=this.dataContext(),n=e.run(t),r=e.resultAttribute(),o=r.valueToWireFormat(n);return r.localizeWireValue(o)}},{key:"MapActionName",value:function(e,t){var n=this;if(!this.actionNames){var r=this.appTemplateModel.Presentation.ActionNameMappings;if(!r)return e;this.actionNames={},d.default.forEach(r,(function(e){var t=e.ActionName;if(e.NameEval){var r=W.default.create(e.NameEval);e.NameEval.IsPure?n.actionNames[t]=n.runDisplayName(r):n.actionNames[t]=r}else n.actionNames[t]=e.DisplayName}))}var o=this.actionNames[e];return o?"function"==typeof o.run?this.runDisplayName(o):o:t||e}},{key:"Snapshot",value:function(e){b.default.Test()&&b.default.logToDevConsole("Snapshot",e.toSimpleObject()),this.ReadFromLocalCache&&this.WriteTableRows(e.toSimpleObject())}},{key:"Submit",value:function(e){var t,n,r;if(b.default.Test())b.default.logToDevConsole("Submit",e.params);else if(null!=e&&(null!==(t=ue.AppGlobals.AppModel)&&void 0!==t?t:this).EnqueueDelayedAction(e),pe.dynamicRollouts.includeByOwnerId("ClientNoPushDelay"))(this.backgroundSyncInProgress||this.InASyncCall)&&0===this.NumProcessingActions()&&(b.default.logToDevConsole("Canceling sync due to local data change"),this.CancelSync()),(null===(n=this.syncQueue)||void 0===n?void 0:n.AutomaticUpdateSync)&&(this.stopSyncQueue(),this.startSyncQueue(this.appTemplate));else if(!this.ReadFromLocalCache){var o=ue.AppGlobals.AppState.AppTemplate.Id?ue.AppGlobals.AppState.AppTemplate.Id:ue.AppGlobals.AppState.AppTemplate.Name;(0,se.$TSFixMeMaybeNull)(o);var i=(0,ae.getSyncErrorHandler)(o,null,!0);null===(r=this.syncQueue)||void 0===r||r.Check(void 0,i)}}},{key:"ResetSyncFailures",value:function(){this.syncQueue&&this.syncQueue.ResetFailures()}},{key:"NumDelayedActions",value:function(){return this.syncQueue?this.syncQueue.DelayedCount():0}},{key:"NumProcessingActions",value:function(){return this.syncQueue?this.syncQueue.ActiveCount():0}},{key:"totalRows",value:function(){return d.default.sum(this.Tables.filter((function(e){return e.Rows})).map((function(e){return e.Rows.length})))}},{key:"startSyncQueue",value:function(e){this.syncQueue||(this.syncQueue=new J.default(this)),this.syncQueue.Start(e.name());var t=null==this.storageManager.validStorageInterface,n="_restore"in(0,C.parseHash)(this.GetControlState()),r=t||n;this.syncQueue.applySyncSettings(e,r)}},{key:"stopSyncQueue",value:function(){var e;null===(e=this.syncQueue)||void 0===e||e.Stop()}},{key:"GetQueuedActions",value:function(){return null!=this.syncQueue?this.syncQueue.getQueuedActions():null}},{key:"EnqueueDelayedAction",value:function(e){null!=this.syncQueue&&this.syncQueue.Enqueue(e)}},{key:"ShouldDelaySync",value:function(){var e;return this.appTemplateModel.Behavior&&this.appTemplateModel.Behavior.DelayedSync||(null===(e=ue.AppGlobals.AppState)||void 0===e?void 0:e.pendingFormState)||this.ForceDelayedSync}},{key:"RevokeUserAccess",value:function(t){b.default.AddTraceContext("RevokeUserAccess"),b.default.logToDevConsole("revoking user access"),A.default.removeAllListeners(),ue.AppGlobals.AppModel.ClearPrivateData(),ue.AppGlobals.AppModel.Dispose(),this.syncQueue&&(this.syncQueue.AutomaticUpdateSync=!1),e.reset(),ue.AppGlobals.ViewManager.ShowErrorScreen(t||(0,X.accessDeniedErrorMessage)())}},{key:"ReadLocalState",value:function(e){this.storageManager.readLocalAppData().then((function(){return e()})).catch(e)}},{key:"WriteTableResult",value:function(e){if(e&&this.localState){ue.AppGlobals.ViewManager&&ue.AppGlobals.ViewManager.ShowStorageInProgress();var t=this.shouldEncryptLocalData();this.localState.WriteTableResult(e,{shouldEncrypt:t},(function(e){e&&b.default.warnToDevConsole(e),ue.AppGlobals.ViewManager&&ue.AppGlobals.ViewManager.HideStorageInProgress()}))}}},{key:"WriteTablesResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.tablesToSkip;ue.AppGlobals.ViewManager&&ue.AppGlobals.ViewManager.ShowStorageInProgress();var r=this.shouldEncryptLocalData();this.localState.WriteTablesResult(e,{tablesToSkip:n,shouldEncrypt:r},(function(e){e&&b.default.warnToDevConsole(e),ue.AppGlobals.ViewManager&&ue.AppGlobals.ViewManager.HideStorageInProgress()}))}},{key:"WriteTableRows",value:function(e){var t=this;d.default.keys(e).forEach((function(n){var r=t.FindRootTable(n),o=t.shouldEncryptLocalData();t.localState.writeTableRows(r,e[n],{shouldEncrypt:o})}))}},{key:"SetControlState",value:function(e){var t;"string"==typeof e&&e.length&&e.indexOf("appName=")<0&&(e="appName=".concat(this.appTemplateModel.Name,"&")+e),null===(t=this.localState)||void 0===t||t.WriteControlState(e)}},{key:"SetViewState",value:function(e){var t;null===(t=this.localState)||void 0===t||t.WriteViewState(e)}},{key:"WriteSyncResultToLocalStorage",value:function(e,t){var n,r=this.dynamicRollouts.getStorageFormat(),o=r.userDynamicRollouts,i=r.ownerDynamicRollouts;return Promise.all([e||null===(n=this.localState)||void 0===n?void 0:n.writeTemplateResult(this.AppTemplate),this.localState.writeOwnerRollouts(i),this.localState.writeSyncToken(t),K.default.writeUserRollouts(o)])}},{key:"NeedsUsageScopesConsent",value:function(){return this.inRollout("userConsent")&&!this.appTemplate.hasValidUsageScopesConsent()}},{key:"RecordUsageScopesConsent",value:function(){var e,t;this.InASyncCall||(this.appTemplate.recordUsageScopesConsent(),null===(t=null===(e=this.localState)||void 0===e?void 0:e.writeTemplateResult(this.AppTemplate))||void 0===t||t.catch((function(e){b.default.ReportError({errorMessage:"Error saving consents to local storage",nestedErrorMessage:(0,ie.asError)(e).message})})),$.postJSON("/api/template/"+this.appTemplateModel.Id+"/userconsent?consentedScopes="+encodeURIComponent(this.appTemplateModel.Behavior.UserConsentedScopes)+"&clientId="+encodeURIComponent(this.GetClientId())),this.SetupGeolocationListener(),ue.AppGlobals.StateChangeHandler.RefreshAppData({initiatedBy:"AppStart"}))}},{key:"AddToImageCache",value:function(e,t){this.localState.AddToImageCache(e,t)}},{key:"SyncSuccess",value:function(e){var t,n=new P.NestedStore,r={},o=ye(this.Tables);try{for(o.s();!(t=o.n()).done;){var i=t.value;!i.IsSlice&&i.Timestamp&&(r[i.Name]=i.Timestamp,n&&n.for(i.Name).store({time:i.Timestamp,etag:i.ETag}))}}catch(e){o.e(e)}finally{o.f()}this.localState.WriteSyncSuccess(this.DataStamp,r,null==n?void 0:n.toSimpleObject(),e),this.MaybeClearImageCache()}},{key:"findPendingImages",value:function(){var e,t,n,r,o=d.default.values(this.dataContext().pendingSaves().byId).map((function(e){return e.rowData})),i=null!==(e=this.GetQueuedActions())&&void 0!==e?e:[],l=null!==(n=null===(t=Pe())||void 0===t?void 0:t.GetQueuedActions())&&void 0!==n?n:[],u=null!==(r=[].concat((0,a.default)(i),(0,a.default)(l)).map((function(e){return e.params.row})))&&void 0!==r?r:[];return[].concat((0,a.default)(o),(0,a.default)(u)).reduce((function(e,t){return[].concat((0,a.default)(e),(0,a.default)(d.default.values(t).filter(F.isImageHandle).map((function(e){return F.default.from(e)}))))}),[])}},{key:"hasPendingImages",value:function(){return this.findPendingImages().length>0}},{key:"MaybeClearImageCache",value:function(){this.LocalStateIsValid()&&!this.hasPendingImages()?this.ClearImageCache():x.logger.logEvent(new ne.AppEvent(D.AppEventName.SkippedClearImageCache))}},{key:"SyncFailure",value:function(){this.localState&&this.localState.WriteSyncFailure()}},{key:"ClearPersistedActions",value:function(){var e;this.syncQueue?this.syncQueue.Clear(!0):(null===(e=ue.AppGlobals.AppState)||void 0===e?void 0:e.AppTemplate)&&J.default.RemovePersistedActions(ue.AppGlobals.AppState.AppTemplate.Name)}},{key:"ClearTemplateData",value:function(){var e=this;this.storageManager&&this.storageManager.clearTables().then((function(){return e.storageManager.clearTemplate()})).catch(b.default.warnToDevConsole)}},{key:"ClearControlState",value:function(){this.storageManager&&this.storageManager.clearControlState().catch(b.default.warnToDevConsole)}},{key:"ClearPrivateData",value:function(){this.ClearPersistedActions(),this.ClearLocalState()}},{key:"ClearLocalState",value:function(){this.storageManager&&this.storageManager.clearAll().catch(b.default.warnToDevConsole)}},{key:"ClearImageCache",value:function(){F.default.clearCache(),this.storageManager&&(this.storageManager.clearImageCache().catch(b.default.warnToDevConsole),this.storageManager.clearFilePaths().catch(b.default.warnToDevConsole))}},{key:"LocalStateIsValid",value:function(){return!!this.localState&&this.localState.IsValid()}},{key:"GetClientId",value:function(){var e;return null===(e=this.localState)||void 0===e?void 0:e.GetClientId()}},{key:"GetViewState",value:function(){return this.localState.readViewState()}},{key:"GetControlState",value:function(){var e=this.localState&&this.localState.GetControlState();if(null!=e&&""!==e&&"null"!==e)try{var t=(0,C.parseHash)(e);if("_restore"in t){var n=JSON.parse(t._restore);(null==n.timestamp||new Date-new Date(n.timestamp)>=this.FORM_RESTORE_STATE_TIMEOUT_MS)&&(delete t._restore,e=(0,N.sortedParams)(t))}}catch(e){b.default.warnToDevConsole(e)}return e}},{key:"GetTablesResult",value:function(){var e;return null===(e=this.localState)||void 0===e?void 0:e.GetTablesResult()}},{key:"GetTemplateResult",value:function(){var e;return null===(e=this.localState)||void 0===e?void 0:e.GetTemplateResult()}},{key:"GetFromImageCache",value:function(e){var t;return null===(t=this.localState)||void 0===t?void 0:t.GetFromImageCache(e)}},{key:"SyncInfo",get:function(){return this.localState&&this.localState.SyncInfo||{}}},{key:"lastSyncTimeMs",value:function(e){var t=this.SyncInfo.LastSyncAt,n=e&&this.pendingAppModel&&this.pendingAppModel.DataStamp,r=t?new Date(t).getTime():null,o=n?new Date(n).getTime():null;return Math.max(r,o)||null}},{key:"lastSuccessfulSyncTime",value:function(){return this.SyncInfo.LastSuccessfulSyncAt}},{key:"lastSuccessfulSyncTimeMs",value:function(){var e=this.SyncInfo.LastSuccessfulSyncAt;return e?new Date(e).getTime():null}},{key:"lastSyncedWithin",value:function(e){var t=this.lastSuccessfulSyncTimeMs();return null!=t&&Date.now()-t<e}},{key:"lastTableTimestamp",value:function(e){var t=this.SyncInfo.LastSyncTableTimestamps;return null==t?void 0:t[e]}},{key:"lastSyncTableParams",value:function(e){var t;return(null!==(t=this.SyncInfo.LastSyncTableParams)&&void 0!==t?t:{})[e]}}],[{key:"reset",value:function(){Ee(new e)}}]),e}();t.default=Re},513954:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.convertImages=void 0;var o=r(n(238416)),i=r(n(593186)),a=r(n(895466)),l=n(318926),u=n(218546),s=r(n(962553)),c=r(n(496486)),d=r(n(948415)),p=n(263198),f=n(351101),g=n(166089),h=n(700482),m=n(149313),y=function(e){return Date.now()-new Date(e).getTime()},v=function(e){return e?Math.floor(y(e)/1e3):void 0},b=function(e,t){var n;return t?(n={},(0,o.default)(n,"was".concat(e,"ThisSession"),function(e){return new Date(e).getTime()>window.AppSheetPageLoadTime}(t)),(0,o.default)(n,"secondsSince".concat(e),v(t)),(0,o.default)(n,"hasSyncedSince".concat(e),function(e){return(0,f.getAppModel)().lastSyncedWithin(y(e))}(t)),n):{}},O=function(e,t){try{return Object.assign(Object.assign(Object.assign({mediaType:t.mediaType(),imageHandleType:t.type(),imageHandleValue:t.value(),imageResolution:(0,f.getAppModel)().appTemplate.imageResolution},b("Captured",t.timestamp())),b("Enqueued",e.timestamp)),{secondsSincePhotoStorageCleared:v(p.JeeneeBrowserAPI.lastClearPhotoStorageTime)})}catch(e){return{getErrorReportParamsFailed:e.message}}},w=function(e,t){for(var n=[],r=[],o=0;o<t.model.Attributes.length;o++){var i=t.model.Attributes[o];null!=i&&i.IsValid&&(e.hasOwnProperty(i.Name)?n.push(e[i.Name]):n.push(null),r.push(!!i.IsSensitive))}return{row:n,pii:r}},S=function(e,t,n,r,o){i.default.AddTraceContext("convertImages");var l=function(r,o){setTimeout((function(){var l=a.default.from(n[r],t.sourceTableName());if(l.isValid()){var u=l.filePath();u?(n[r]=u,i.default.AddTraceContext("filePath",{attrName:r,filePath:u}),o()):(i.default.AddTraceContext("getUrlForSync",{attrName:r}),l.getUrlForSync((function(a,u){if(a)return i.default.AddTraceContext("getUrlForSync errored",{attrName:r}),i.default.ReportErrorOnce(Object.assign({errorMessage:"getUrlForSync errored",nestedErrorMessage:a},O(e,l))),void o(a);var s;(null==u||u.startsWith(p.UNABLE_TO_LOAD_IMAGE_PREFIX))&&i.default.ReportErrorOnce(Object.assign({errorMessage:"getUrlForSync returned bad imageUrl",imageUrl:u},O(e,l))),n[r]=u,i.default.AddTraceContext("getUrlForSync succeeded",{attrName:r}),o(null,{attrName:r,imageHandle:l,tableName:t.sourceTableName(),fileName:(s=n,s[t.keyAttribute().name()]+"."+r)})})))}else i.default.ReportErrorOnce(Object.assign({errorMessage:"Tried to upload invalid ImageHandle",imageHandle:l.toDebugString()},O(e,l))),o()}),0)},u=t.allBaseTableAttributes().filter((function(e){return e.isValid()&&function(e){return c.default.includes(h.imageHandleColumnTypes,e.type())}(e)})).map((function(e){return l.bind(undefined,e.name())}));(0,d.default)(u,(function(e,t){e?o(e):r(c.default.compact(t))}))};t.convertImages=S;var T=function(e,t){var n={};e.forEach((function(e){var r=e.attrName;if(r in t){var o=a.default.from(e.imageHandle);o.setFilePath(t[r]),(0,m.$TSFixMeMaybeNull)(g.AppGlobals.AppModel.syncQueue),g.AppGlobals.AppModel.syncQueue.queuedActions.forEach((function(e){o.equals(e.params.row[r])&&((0,m.$TSFixMeMaybeNull)(g.AppGlobals.AppModel.syncQueue),g.AppGlobals.AppModel.syncQueue.PersistAction(e))})),n[e.tableName]=!0}})),g.AppGlobals.AppModel.ReadFromLocalCache&&c.default.keys(n).forEach((function(e){var t=g.AppGlobals.AppModel.FindRootTable(e);t&&g.AppGlobals.AppModel.WriteTableResult(t)}))},A={SerializeAction:function(e){return JSON.stringify(e.params)},DeSerializeAction:function(e){var t=JSON.parse(e);if(null==t)return null;switch(t.actionType){case"AddTableRow":return new A.AddTableRowAction(t);case"DeleteTableRow":return new A.DeleteTableRowAction(t);case"UpdateTableRow":return new A.UpdateTableRowAction(t)}return null}};A.AddTableRowAction=function(e){var t,n,r=this;this.params=e,e.actionType="AddTableRow",void 0===e.appId&&void 0===e.appName&&(e.appId=g.AppGlobals.AppState.AppTemplate.Id,e.appName=g.AppGlobals.AppState.AppTemplate.Name),void 0===e.appVersion&&(e.appVersion=g.AppGlobals.AppState.AppTemplate.Version),void 0===e.failureCount&&(e.failureCount=0),void 0===e.requestId&&(e.requestId=Math.floor(1e8*Math.random())),void 0===e.timestamp&&(e.timestamp=(new Date).toISOString()),void 0===e.syncToken&&(e.syncToken=null===(n=null===(t=g.AppGlobals.AppModel)||void 0===t?void 0:t.localState)||void 0===n?void 0:n.GetSyncToken()),this.ActionType=function(){return r.params.actionType},this.RequestId=function(){return r.params.requestId},this.Execute=function(e,t){r.params.deleteThisAction?"function"==typeof e&&e():function(e,t,n){i.default.AddTraceContext("DBAddTableRow");var r=g.AppGlobals.AppModel.findTableCollection(e.tableName),o=r.rootTable,a=r.rootTableSchema,s=r.tableDefinition;if(!o||!a||!s)return void n("Table ".concat(e.tableName," not found"));e.tableName=o.name();var c={};for(var d in e.row)e.row.hasOwnProperty(d)&&(c[d]=e.row[d]);var p=function(e,t){g.AppGlobals.AppModel.numOutstandingRequests--,"function"==typeof n&&n(e,t)};S(e,a,c,(function(n){var r=function(e){e.Success?(e.RowValues&&T(n,e.RowValues),e.ReturnedFromCache&&l.logger.logAppEvent(u.AppEventName.UsedCachedAddResponse),g.AppGlobals.AppModel.numOutstandingRequests--,"function"==typeof t&&t(e.HasWarning?e.ErrorDescription:null)):p(e.ErrorDescription)};g.AppGlobals.AppModel.numOutstandingRequests++;var o=w(c,a),i=null!=e.appId?e.appId:null!=e.appName?e.appName:g.AppGlobals.AppModel.AppTemplate.Id;g.AppGlobals.AppModel.defaultDataProvider.AddTableRow(i,e,o,r,p)}),p)}(r.params,(function(t){"function"==typeof e&&null!=e&&e(t)}),(function(e,n){"function"==typeof t&&null!=t&&t(e,n)}))}},A.DeleteTableRowAction=function(e){var t,n,r=this;this.params=e,e.actionType="DeleteTableRow",void 0===e.appId&&void 0===e.appName&&(e.appId=g.AppGlobals.AppState.AppTemplate.Id,e.appName=g.AppGlobals.AppState.AppTemplate.Name),void 0===e.appVersion&&(e.appVersion=g.AppGlobals.AppState.AppTemplate.Version),void 0===e.failureCount&&(e.failureCount=0),void 0===e.requestId&&(e.requestId=Math.floor(1e8*Math.random())),void 0===e.timestamp&&(e.timestamp=(new Date).toISOString()),void 0===e.syncToken&&(e.syncToken=null===(n=null===(t=g.AppGlobals.AppModel)||void 0===t?void 0:t.localState)||void 0===n?void 0:n.GetSyncToken()),this.ActionType=function(){return r.params.actionType},this.RequestId=function(){return r.params.requestId},this.Execute=function(e,t){r.params.deleteThisAction?"function"==typeof e&&e():function(e,t,n){i.default.AddTraceContext("DBDeleteTableRow");var r=g.AppGlobals.AppModel.findTableCollection(e.tableName),o=r.rootTable,a=r.rootTableSchema,s=r.tableDefinition;if(!o||!a||!s)return void n("Table ".concat(e.tableName," not found"));e.tableName=o.name();var c=function(e,t){g.AppGlobals.AppModel.numOutstandingRequests--,"function"==typeof n&&n(e,t)},d=function(e){e.Success?(e.ReturnedFromCache&&l.logger.logAppEvent(u.AppEventName.UsedCachedDeleteResponse),g.AppGlobals.AppModel.numOutstandingRequests--,"function"==typeof t&&t(e.HasWarning?e.ErrorDescription:null)):c(e.ErrorDescription)};g.AppGlobals.AppModel.numOutstandingRequests++;var p=w(e.row,a),f=null!=e.appId?e.appId:null!=e.appName?e.appName:g.AppGlobals.AppModel.AppTemplate.Id;g.AppGlobals.AppModel.defaultDataProvider.DeleteTableRow(f,e,p,d,c)}(r.params,(function(t){"function"==typeof e&&null!=e&&e(t)}),(function(e,n){"function"==typeof t&&null!=t&&t(e,n)}))}},A.UpdateTableRowAction=function(e){var t,n,r=this;this.params=e,e.actionType="UpdateTableRow",void 0===e.appId&&void 0===e.appName&&(e.appId=g.AppGlobals.AppState.AppTemplate.Id,e.appName=g.AppGlobals.AppState.AppTemplate.Name),void 0===e.appVersion&&(e.appVersion=g.AppGlobals.AppState.AppTemplate.Version),void 0===e.failureCount&&(e.failureCount=0),void 0===e.requestId&&(e.requestId=Math.floor(1e8*Math.random())),void 0===e.timestamp&&(e.timestamp=(new Date).toISOString()),void 0===e.syncToken&&(e.syncToken=null===(n=null===(t=g.AppGlobals.AppModel)||void 0===t?void 0:t.localState)||void 0===n?void 0:n.GetSyncToken()),this.ActionType=function(){return r.params.actionType},this.RequestId=function(){return r.params.requestId},this.Execute=function(e,t){r.params.deleteThisAction?"function"==typeof e&&e():function(e,t,n){i.default.AddTraceContext("DBUpdateTableRow");var r=s.default.findByName(e.tableName),o=r.table,a=r.tableSchema,c=r.tableDefinition;if(!o||!a||!c)return void n("Table ".concat(e.tableName," not found"));var d={};for(var p in e.row)e.row.hasOwnProperty(p)&&(d[p]=e.row[p]);var f=function(e,t){g.AppGlobals.AppModel.numOutstandingRequests--,"function"==typeof n&&n(e,t)};S(e,a,d,(function(n){var r=function(e){e.Success?(e.RowValues&&T(n,e.RowValues),e.ReturnedFromCache&&l.logger.logAppEvent(u.AppEventName.UsedCachedUpdateResponse),g.AppGlobals.AppModel.numOutstandingRequests--,"function"==typeof t&&t(e.HasWarning?e.ErrorDescription:null)):f(e.ErrorDescription)};g.AppGlobals.AppModel.numOutstandingRequests++;var o=null!=a.sliceDefinition?function(e,t){for(var n=t.sliceDefinition,r=[],o=[],i=0;i<n.Columns.length;i++){var a=n.Columns[i];if(null!=a){e.hasOwnProperty(a)?r.push(e[a]):r.push(null);var l=t.findAttributeByName(a).model;o.push(!!(null==l?void 0:l.IsSensitive))}}return{row:r,pii:o}}(d,a):w(d,a),i=null!=e.appId?e.appId:null!=e.appName?e.appName:g.AppGlobals.AppModel.AppTemplate.Id;g.AppGlobals.AppModel.defaultDataProvider.UpdateTableRow(i,e,o,r,f)}),f)}(r.params,(function(t){"function"==typeof e&&null!=e&&e(t)}),(function(e,n){"function"==typeof t&&null!=t&&t(e,n)}))}};var k=A;t.default=k},959191:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.filterDefaultsToIndexLookup=function(e,t){return e.map((function(e){var n=e.ColumnName,r=e.ColumnValue;return{attribute:t.findAttributeByName(n),value:r}}))},t.filterDefaultsToLookupValues=function(e){if(!(null==e?void 0:e.length))return null;var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=o.ColumnName,l=o.ColumnValue;if(n.hasOwnProperty(a)&&n[a]!==l)return null;n[a]=l}}catch(e){r.e(e)}finally{r.f()}return n},t.lookupValuesToFilterDefaults=function(e){return o.default.keys(e).map((function(t){return{ColumnName:t,ColumnValue:e[t]}}))},t.lookupValuesToIndexLookup=function(e,t){return o.default.keys(e).map((function(n){return{attribute:t.findAttributeByName(n),value:e[n]}}))};var o=r(n(496486));function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},710229:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionErrorState=void 0;var i=r(n(600861)),a=r(n(856690)),l=r(n(689728)),u=r(n(861655)),s=r(n(994993)),c=r(n(73808)),d=r(n(496486)),p=n(365914),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(593186)),g=r(n(962553)),h=r(n(195508)),m=r(n(385857)),y=r(n(494012)),v=n(557310),b=n(306593),O=n(44617);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var k=f.default.logToDevConsole,E=function(e){(0,u.default)(n,e);var t=A(n);function n(e,r){var o;return(0,a.default)(this,n),(o=t.call(this)).appModel=e,o.transaction=r,o}return(0,l.default)(n,[{key:"isValid",value:function(){return!this.error&&!this.message}},{key:"message",get:function(){var e,t=this;return this.error?this.error:(this.forEach((function(n,r){if(!e){var o=t.appModel.findTableCollection(n),i=o.table,a=o.tableSchema;r.forEach((function(n,r){if(!e){var o=r.message,l=r.invalid,u=r.missingRequired;if(o)e=o;else if(null==l?void 0:l.length){var s,c=l[0],d="This entry is invalid",p=t.appModel.MapActionName(d);if(i&&a){var f=i.lookupTableRow(n,t.transaction);if(f){var g=new m.default(t.appModel,a,f.values),h=a.findAttributeByName(c);if(h){c=h.displayName(g);var y=h.invalidMessageEvalTree();y&&(s=y.run(g))}}}s=s||p!==d?"".concat(c,": ").concat(s||p):"".concat(c," is invalid"),e=s}else if(null==u?void 0:u.length){var v,b=u[0],O="This entry is required",w=t.appModel.MapActionName(O);if(i&&a){var S=i.lookupTableRow(n,t.transaction);if(S){var T=new m.default(t.appModel,a,S.values),A=a.findAttributeByName(b);A&&(b=A.displayName(T))}}v=w!==O?"".concat(b,": ").concat(w):"".concat(b," is required"),e=v}}}))}})),e)}}]),n}(p.NestedStore);t.TransactionErrorState=E;var P=function(){function e(t){var n=this;(0,a.default)(this,e),this.appModel=t,this.updateLog=[],this.transactions=new Map,this.tableCache=new Map,this.tablesToDispose=new Set,this.newRowLookup=new Map;var r=this.transactions,o=function(e){var t=n.getTransaction(e.transactionId);t.started||"START"===e.type||t.start();var r=Object.assign({id:n.updateLog.length},e);return n.updateLog.push(r),r},l=function(e,t,r,o,i){var a=n.findTableCollection(t),l=a.rootTable,u=a.rootTableSchema,s=null==l?void 0:l.lookupTableRow(r,e);if(s&&l&&u){var c=s.stableId,d=l.name(),p=o?u.findAttributeByName(o):void 0,f=p&&s.get(p.name());i({rootTableName:d,rootTable:l,rootTableSchema:u,tableRow:s,attribute:p,stableId:c,currentValue:f})}},u=function(e,t,n,r){var o=n.snapshot(),i=e.getInitialRowValues(t,r)||o,a=e.getRecordsForRow(t,r),l=a.length?void 0:n.validate({usedTransactions:!0,transaction:e}),u=d.default.keyBy(a.map((function(e){return e.columnName})));return{before:o,initialData:i,recordsForRow:a,initialErrorState:l,userEdited:u}},s=function(e,t){if(v.ReactRootUIConfig.isReactRoot())return function(e,t){var r=e.type,o=e.tableName,i=!1;if(["CREATE","UPDATE","DELETE","RECOMPUTE"].includes(r)){k("undoing",e);var a=n.findTableCollection(o).rootTable;if(a&&(i=!0,"CREATE"===r&&a.deleteRowByStableId(e.stableId,t),"DELETE"===r&&a.createRow(e.before,t),"UPDATE"===r||"RECOMPUTE"===r)){var l=e.rowId,u=e.before,s=e.after,c=e.stableId,d=a.lookupTableRow(c,t);if(d)d.resetValues(u);else{(0,f.doWeEverHitThis)("undoDataChanges unable to find row by stableId");var p=s[a.keyAttribute().name()];a.resetRowValues(null!=p?p:l,u,t)}}}return i}(e,t);var r=e.type,o=e.tableName,i=!1;if(["CREATE","UPDATE","DELETE","RECOMPUTE"].includes(r)){k("undoing",e);var a=n.findTableCollection(o),l=a.rootTable,u=a.rootTableSchema;if(l&&u&&(i=!0,"CREATE"===r&&l.deleteRow(e.rowId),"DELETE"===r&&l.createRow(e.before),"UPDATE"===r||"RECOMPUTE"===r)){var s=u.keyAttribute().name(),c=e.rowId,d=e.before,p=e.after[s];l.resetRowValues(null!=p?p:c,d)}}return i},c=function(e,t,r,o){var i=t.refColumnName,a=t.tableName,l=t.stableId;if(t.multiselect){var u=n.findTableCollection(a),s=u.rootTable,c=u.rootTableSchema,p=null==s?void 0:s.lookupTableRow(l,e),f=null==c?void 0:c.findAttributeByName(i);if(p&&"EnumList"===(null==f?void 0:f.type())){var g=p.get(i),h=f.valueFromWireFormat(g);if(Array.isArray(h)){var m=d.default.lastIndexOf(h,o);m>-1?h[m]=r:h.push(r);var y=f.valueToWireFormat(h);e.update(a,l,i,y)}}}else e.update(a,l,i,r)},h=function(e,t,r,o){!function(e,t,r){var o;if(O.dynamicRollouts.includeByOwnerId("TransactionRecomputeInfluenced")){var a,l=function(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n!==t){n.onDataChange(t);var i=n.tableSchema,a=n.tableName,l=n.stableId,u=o?i.virtualAttributesThatDependOn(t.tableName):i.dynamicAttributesThatDependOn(t.tableName,n.isNewRow());u.length&&e.recompute(a,l,{virtualOnly:o,triggeredBy:r.id,theseAttributesAndInfluenced:u})}},u=e.affectedRows,s=t.getReferencedRows(e),c=e.getRecordsOfTypeForRow(t.tableName,t.stableId,"CREATE")[0];if(c&&c.stableReference){var p=c.stableReference,f=p.tableName,g=p.stableId,h=p.referencedTableName,m=p.referencedStableId;a=null!==(o=s.find((function(e){return e.stableId===m&&e.tableName===h})))&&void 0!==o?o:u.find((function(e){return e.stableId===g&&e.tableName===f}))}var y=new Set([].concat((0,i.default)(u),(0,i.default)(s)));a&&y.add(a);var v,b=S(y);try{for(b.s();!(v=b.n()).done;){var w=v.value;l(w,w!==a)}}catch(e){b.e(e)}finally{b.f()}}else for(var T=new Set,A=d.default.concat(e.affectedRows,t.getReferencedRows(e));A.length;){var k=A.pop();if(!T.has(k)){T.add(k);var E=e.logRecords.length;k.onDataChange(t,e,r);var P=e.logRecords.slice(E);n.appModel.onDataChange({logDelta:P,transaction:e})}}}(e,t,r),o||function(e,t,n){var r=n.before,o=n.after,i=t.keyAttribute.name();if(o&&i in o){var a,l=r&&r[i],u=o[i],s=S(e.getStableReferencesTo(t));try{for(s.s();!(a=s.n()).done;){var d=a.value;c(e,d,u,l)}}catch(e){s.e(e)}finally{s.f()}}}(e,t,r),"stableReference"in r&&t.invalidate()},m=function(e){var t=[],r=[],o=n.getStartRecord(e.id);o&&n.getActiveRecordsPartitionedByStableId(e.id).forEach((function(e,i){var a=n.findTableCollection(e).rootTable,l=a&&a.keyAttribute().name();i.forEach((function(n,i){if(d.default.some(i,(function(e){return!("RECOMPUTE"===e.type&&e.virtualOnly)}))){var a,u,s,c,p=o.appId,f=o.appName,g=o.appVersion,h=o.userSettings,m=d.default.first(i),y=d.default.last(i),v=d.default.uniq(i.map((function(e){return e.tableName}))),b=1===v.length?v[0]:e;if("CREATE"!==m.type||"DELETE"!==y.type)"DELETE"===y.type?(a="DeleteTableRow",u=m.before,s=m.rowId):"CREATE"===m.type?(a="AddTableRow",u=d.default.extend({},y.before,y.after),s=null!=l&&null!=u[l]?u[l]:y.rowId):(a="UpdateTableRow",u=d.default.extend({},y.before,y.after),s=y.rowId),t.push((c={appId:p,appName:f,appVersion:g,userSettings:h,type:a,tableName:b,row:u,rowKey:s},d.default.omitBy(c,d.default.isNil))),r.push(n)}}))}));return{requests:t,stableIds:r}};this.handlers={onStart:function(e){var t;if(!e.started){var r=n.appContext,i=r.appId,a=r.appName,l=r.appVersion,u=r.userSettings;t=o({type:"START",transactionId:e.id,appId:i,appName:a,appVersion:l,userSettings:u})}return t},onStartGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.startedBy,r=t.recoverable,i=o({type:"START_GROUP",transactionId:e.id,startedBy:n,recoverable:r});return k("group ".concat(i.id," was started in ").concat(e.id)+(n?" by ".concat(n):"")),i},onEndGroup:function(e){for(var t,r,i=e.lastRecord,a=i,l=1;a&&(i===a||l>0);){if("END_GROUP"===a.type&&l++,"START_GROUP"===a.type&&0===--l){t=a.id;break}a=n.getPreviousRecord(a)}return null!=t&&(r=o({type:"END_GROUP",transactionId:e.id,ends:t}),k("group ".concat(t," was ended in ").concat(e.id))),r},onCreate:function(e,r,i){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l.referencedBy,s=l.hasReferenceTo,d=l.rowStateColumnNames,p=n.findTableCollection(r),f=p.rootTable;if(f){var g=e.logRecords.length,m=!1,y=f.createNewRow({initialValues:i,transaction:e,onDynamicValueChanged:function(t,n){u&&t.isKey()&&(c(e,u,n),m=!0)}}),v=y.snapshot(),b=y.validate({usedTransactions:!0,transaction:e}),O=f.name(),w=u?Object.assign(Object.assign({},u),{referencedTableName:O,referencedStableId:y.stableId}):s?Object.assign(Object.assign({},s),{tableName:O,stableId:y.stableId}):void 0;a=o({type:"CREATE",timestamp:Date.now(),transactionId:e.id,rowId:y.keyValue,stableId:y.stableId,initialErrorState:b,tableName:O,rootTableName:O,after:v,stableReference:w,rowStateColumnNames:d}),n.newRowLookup.set(y.stableId,y);var S=e.logRecords.slice(g);t.onDataChange({transaction:e,logDelta:S}),h(e,y,a,m),k("add came through",e.id,v)}return a},onRecompute:function(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.virtualOnly,c=void 0!==s&&s,p=a.theseAttributesAndInfluenced,f=a.triggeredBy;return l(e,n,r,void 0,(function(a){var l=a.rootTableName,s=a.rootTable,g=a.tableRow,h=a.stableId,m=u(e,n,g,h),y=m.before,b=m.initialData,O=m.initialErrorState,w=m.userEdited;v.ReactRootUIConfig.isReactRoot()&&(g=s.getPendingRow(g,e));var S=g.recompute({initialData:b,virtualOnly:c,userEdited:w,transaction:e,theseAttributesAndInfluenced:p}),T=d.default.pickBy(g.snapshot(),(function(e,t){return y[t]!==e}));if(!d.default.isEmpty(T)){var A=s.tableSchema.findAttributesByNames(Object.keys(T)),E=e.logRecords.length;i=o({type:"RECOMPUTE",timestamp:Date.now(),transactionId:e.id,initialErrorState:O,tableName:n,rootTableName:l,rowId:r,stableId:h,before:y,after:T,virtualOnly:c||d.default.every(A,(function(e){return e.isVirtual()})),triggeredBy:f,wasReset:S});var P=e.logRecords.slice(E);t.onDataChange({transaction:e,logDelta:P}),k("recompute came through",e.id,T)}})),i},onUpdate:function(e,n,r,i,a,s,c){var p;return l(e,n,r,i,(function(l){var f=l.rootTableName,g=l.rootTable,m=l.tableRow,y=l.stableId,b=l.attribute,O=l.currentValue;if(b&&O!==a){var w=u(e,n,m,y),S=w.before,T=w.initialData,A=w.recordsForRow,E=w.initialErrorState,P=w.userEdited;P[i]=i,v.ReactRootUIConfig.isReactRoot()&&(m=g.getPendingRow(m,e));var C=0===A.length,x=m.update(b,a,{initialData:T,userEdited:P,updateInfluenced:!C,transaction:e});C&&m.recompute({initialData:T,wasReset:x,userEdited:P,transaction:e});var D=d.default.pickBy(m.snapshot(),(function(e,t){return S[t]!==e}));if(!d.default.isEmpty(D)){var R=e.logRecords.length;p=o({type:"UPDATE",timestamp:Date.now(),transactionId:e.id,initialErrorState:E,tableName:n,rootTableName:f,rowId:r,stableId:y,columnName:i,value:a,before:S,after:D,mechanism:s,wasReset:x,rowStateColumnNames:c});var I=e.logRecords.slice(R);t.onDataChange({transaction:e,logDelta:I}),h(e,m,p),k("update came through",e.id,D)}}})),p},onDelete:function(e,r,i){var a,l=n.findTableCollection(r).rootTable;if(l){var u=l.lookupTableRow(i,e),s=u&&u.snapshot();if(s&&u){var c=u.stableId,d=l.name(),p=e.logRecords.length;a=o({type:"DELETE",timestamp:Date.now(),transactionId:e.id,tableName:d,rootTableName:d,rowId:i,stableId:c,before:s}),v.ReactRootUIConfig.isReactRoot()?l.deleteRowByStableId(c):l.deleteRow(i);var f=e.logRecords.slice(p);t.onDataChange({transaction:e,logDelta:f}),h(e,u,a),k("deleted via transaction",a)}}return a},onUndo:function(e){var r,i;if(e.started){var a=e.lastActiveRecord;if(a&&a!==e.startRecord){var l=null!==(r=a.ends)&&void 0!==r?r:a.triggeredBy;i=o({type:"UNDO",timestamp:Date.now(),transactionId:e.id,undoes:null!=l?l:a.id});var u=s(a,e);if(null!=l)for(;a&&a.id!==l;)u=s(a,e)||u,a=n.getPreviousActiveRecord(a);u&&t.onDataChange({transaction:e}),k("undo finished",i,e.logRecords)}}return i},onAbort:function(e){var i,a=n.getStartRecord(e.id);if(a&&(i=o({type:"ABORT",transactionId:e.id}),!g.default.usePendingChangesStore)){var l=!1,u=e.lastActiveRecord;for(k("ABORT running undoDataChanges");u&&u!==a;)l=s(u,e)||l,u=n.getPreviousActiveRecord(u);l&&t.onDataChange()}return k("aborted transaction",e.id),g.default.usePendingChangesStore||r.delete(e.id),i},onValidate:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.affectedRows,o=new E(t,e);return e.closed?(o.error="Transaction is already closed",o):(d.default.compact(r).forEach((function(t){var r,i,a=t.tableName,l=t.stableId,u=e.wasModified(a,l);if(v.ReactRootUIConfig.isReactRoot()){var s=e.getRecordsForRow(a,l).filter((function(e){return"RECOMPUTE"!==e.type})),c=s[s.length-1],p=(null==c?void 0:c.rowStateColumnNames)||[],f=n.appModel.findTableCollection(a).tableSchema,g=(null==f?void 0:f.findAttributesByNames(p))||[];g.length>0&&(i=new b.Paging(g))}var h=t.validate({usedTransactions:!0,transaction:e,enforceStableKey:!t.isNewRow(),paging:i}),m=h;v.ReactRootUIConfig.isReactRoot()&&e.wasCreated(l)?m=null:u&&(m=null!==(r=e.getInitialErrorState(a,l))&&void 0!==r?r:null);var O=y.default.diffErrorState(m,h);if(O){var w=t.keyValue,S=o.for(a).get(w)||{},T=d.default.clone(S);if(O.invalid){var A=S.invalid||[];T.invalid=d.default.uniq(d.default.concat(A,O.invalid))}if(O.missingRequired){var k=S.missingRequired||[];T.missingRequired=d.default.uniq(d.default.concat(k,O.missingRequired))}O.message&&(T.message=O.message),o.for(a).store(w,T)}})),o)},onCommitAsync:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.localOnly,l=void 0!==a&&a;return new Promise((function(i,a){var u=e.validate();if(u.isValid()){if(e.closed)return u.error="Transaction is already closed",void a(new Error(u.message));var s=m(e),c=s.requests,d=s.stableIds;if(!c.length)return k("committed (NOOP)",e.id,e.logRecords),g.default.usePendingChangesStore||r.delete(e.id),void i(void 0);var f=function(a){d.forEach((function(e){var t=n.newRowLookup.get(e);t&&t.commitRowId()}));var l,u=S(e.affectedRootTables);try{for(u.s();!(l=u.n()).done;){l.value.commitPendingChanges(e)}}catch(e){u.e(e)}finally{u.f()}var s,c=new p.NestedStore,f=S(e.affectedRows);try{for(f.s();!(s=f.n()).done;){var h=s.value;c.for(h.tableName).store(h.rowId,h.values)}}catch(e){f.e(e)}finally{f.f()}t.Snapshot(c);var m=o({type:"COMMIT",transactionId:e.id,immediateSync:a});g.default.usePendingChangesStore||r.delete(e.id),k("committed",e.id,e.logRecords),g.default.usePendingChangesStore&&t.onDataChange({logDelta:[m]}),i(m)};l?f():t.AddDeleteOrUpdateTableRows(c,f,(function(e){var t=e.errorMessage;u.error=t,a(new Error(u.message))}),{usedTransactions:!0})}else a(new Error(u.message))}))},onCommit:function(e,i){var a=e.validate();if(a.isValid()){if(e.closed)return a.error="Transaction is already closed",void i(a);var l=m(e),u=l.requests,s=l.stableIds;if(!u.length)return k("committed (NOOP)",e.id,e.logRecords),g.default.usePendingChangesStore||r.delete(e.id),void i(null);t.AddDeleteOrUpdateTableRows(u,(function(a){s.forEach((function(e){var t=n.newRowLookup.get(e);t&&t.commitRowId()}));var l,u=S(e.affectedRootTables);try{for(u.s();!(l=u.n()).done;){l.value.commitPendingChanges(e)}}catch(e){u.e(e)}finally{u.f()}var c,d=new p.NestedStore,f=S(e.affectedRows);try{for(f.s();!(c=f.n()).done;){var h=c.value;d.for(h.tableName).store(h.rowId,h.values)}}catch(e){f.e(e)}finally{f.f()}t.Snapshot(d);var m=o({type:"COMMIT",transactionId:e.id,immediateSync:a});g.default.usePendingChangesStore||r.delete(e.id),k("committed",e.id,e.logRecords),g.default.usePendingChangesStore&&t.onDataChange({logDelta:[m]}),i(null,m)}),(function(e){var t=e.errorMessage;a.error=t,i(a)}),{usedTransactions:!0})}else i(a)}}}return(0,l.default)(e,[{key:"isCurrent",get:function(){return this.appModel.isCurrent}},{key:"newTransaction",value:function(){var e=new h.default(this,this.handlers);return this.transactions.set(e.id,e),e}},{key:"findTableCollection",value:function(e,t){if(null==e){if(t)throw new Error("Could not find table ".concat(e));return{}}var n=this.tableCache,r=this.tablesToDispose,o=this.appModel,i=e.toLowerCase(),a=o.appTemplate.findSchemaForTable(i),l=o.appTemplate.findRootSchemaForTable(i),u=o.appTemplate.findRootTableDefinition(i);if(!a||!l||!u){if(t)throw new Error("Could not find table ".concat(e));return{}}if(!n.has(i)){var s,c=o.FindTable(i);if(!c){if(t)throw new Error("Could not find table ".concat(e));return{}}c.IsSlice&&(s=this.findTableCollection(c.SliceSource).table);var d=new g.default(c,a,u,s,o);n.set(i,d),r.add(d)}var p=n.get(i),f=p&&p.rootTable();return{table:p,tableSchema:a,rootTable:f,rootTableSchema:l,tableDefinition:u}}},{key:"onDataChange",value:function(e,t){this.tableCache.forEach((function(n){n.onDataChange(e,t)}))}},{key:"onTemplateChange",value:function(){this.tableCache.clear()}},{key:"dispose",value:function(){var e=this.tableCache,t=this.tablesToDispose;t.forEach((function(e){e.dispose()})),e.clear(),t.clear()}},{key:"findPendingRow",value:function(e){return this.newRowLookup.get(e)}},{key:"appContext",get:function(){var e=this.appModel;return{appId:e.AppTemplate.Id,appName:e.AppTemplate.Name,appVersion:e.AppTemplate.Version,userSettings:e.GetUserSettings()}}},{key:"getTransaction",value:function(e){return e?this.transactions.get(e):void 0}},{key:"currentTransaction",get:function(){var e=(0,i.default)(this.transactions.values()).filter((function(e){return!e.closed}));if(e.length>1)f.default.ReportErrorOnce({errorMessage:"Transaction Error: get currentTransaction found more than one open transaction"});else if(0===e.length)return this.newTransaction();return e[0]}},{key:"abortCurrentTransaction",value:function(){(0,i.default)(this.transactions.values()).forEach((function(e){e.closed||e.abort()}))}},{key:"getPreviousRecord",value:function(e){if(null!=e){var t=this.updateLog[e.id-1];if(t&&t.transactionId===e.transactionId)return t}}},{key:"getPreviousActiveRecord",value:function(e){for("UNDO"!==(null==e?void 0:e.type)&&(e=this.getPreviousRecord(e));"UNDO"===(null==e?void 0:e.type);){var t=this.getLogRecord(e.undoes);e=this.getPreviousRecord(t)}return e}},{key:"getStartRecord",value:function(e){return this.getLogRecords(e)[0]}},{key:"getLogRecord",value:function(e){return this.updateLog[e]}},{key:"getLogRecords",value:function(e){return this.updateLog.filter((function(t){return t.transactionId===e}))}},{key:"getLastRecord",value:function(e){return d.default.last(this.getLogRecords(e))}},{key:"getOpenGroupRecords",value:function(e){for(var t=[],n=this.getActiveRecords(e).reverse(),r=0,o=0;o<n.length;o++){var i=n[o];"END_GROUP"===i.type?r++:"START_GROUP"===i.type&&(0===r?t.push(i):r--)}return t}},{key:"getActiveRecords",value:function(e){for(var t=this.getLastActiveRecord(e),n=[];t;)n.unshift(t),t=this.getPreviousActiveRecord(t);return n}},{key:"getLastActiveRecord",value:function(e){var t=this.getLastRecord(e);return t&&"UNDO"===t.type?this.getPreviousActiveRecord(t):t}},{key:"getActiveRecordsPartitionedByStableId",value:function(e){var t=this.getActiveRecords(e),n=new p.NestedStore;return t.forEach((function(e){var t=e.rootTableName,r=e.stableId;null!=t&&null!=r&&n.for(t).push(r,e)})),n}}]),e}();t.default=P},700482:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.imageHandleColumnTypes=t.default=t.XY_TYPE=t.VIDEO_TYPE=t.URL_TYPE=t.UNKNOWN_TYPE=t.TIME_TYPE=t.THUMBNAIL_TYPE=t.TEXT_TYPE=t.TABLEREF_TYPE=t.SIGNATURE_TYPE=t.SHOW_TYPE=t.PROGRESSENUM_TYPE=t.PRICE_TYPE=t.PHONE_TYPE=t.PERCENT_TYPE=t.NUMBER_TYPE=t.NAME_TYPE=t.MULTICOLUMNKEY_TYPE=t.LONGTEXT_TYPE=t.LIST_TYPE=t.LATLONG_TYPE=t.IMAGE_TYPE=t.FILE_TYPE=t.ENUM_TYPE=t.ENUMLIST_TYPE=t.EMAIL_TYPE=t.DURATION_TYPE=t.DRAWING_TYPE=t.DECIMAL_TYPE=t.DATE_TYPE=t.DATETIME_TYPE=t.COLORENUM_TYPE=t.CHANGETIMESTAMP_TYPE=t.CHANGELOCATION_TYPE=t.CHANGECOUNTER_TYPE=t.BOOLEAN_TYPE=t.APP_TYPE=t.ADDRESS_TYPE=void 0;var o=r(n(496486)),i={TextType:{Name:"Text"},LongTextType:{Name:"LongText"},BooleanType:{Name:"Yes/No"},NumberType:{Name:"Number",ChartAxisFormat:",.0f"},ChangeCounterType:{Name:"ChangeCounter",ChartAxisFormat:",.0f"},DecimalType:{Name:"Decimal",ChartAxisFormat:",.2f"},PercentType:{Name:"Percent",ChartAxisFormat:",.2f"},PriceType:{Name:"Price",ChartAxisFormat:",.2f"},UrlType:{Name:"Url",IsExternal:!0},FileType:{Name:"File",IsExternal:!0},ImageType:{Name:"Image",IsImage:!0},VideoType:{Name:"Video"},ThumbnailType:{Name:"Thumbnail",IsImage:!0},SignatureType:{Name:"Signature",FullWidth:!0},DrawingType:{Name:"Drawing",IsImage:!0,FullWidth:!0},DateType:{Name:"Date"},DateTimeType:{Name:"DateTime"},ChangeTimestampType:{Name:"ChangeTimestamp"},TimeType:{Name:"Time"},DurationType:{Name:"Duration"},NameType:{Name:"Name"},EmailType:{Name:"Email"},AddressType:{Name:"Address"},LatLongType:{Name:"LatLong"},XYType:{Name:"XY"},ChangeLocationType:{Name:"ChangeLocation"},PhoneType:{Name:"Phone"},AppType:{Name:"App",IsExternal:!0},EnumType:{Name:"Enum"},EnumListType:{Name:"EnumList"},ColorEnumType:{Name:"Color"},ProgressEnumType:{Name:"Progress"},TableRefType:{Name:"Ref"},ListType:{Name:"List"},MultiColumnType:{Name:"MultiColumnKey"}},a=i.TextType.Name;t.TEXT_TYPE=a;var l=i.LongTextType.Name;t.LONGTEXT_TYPE=l;var u=i.BooleanType.Name;t.BOOLEAN_TYPE=u;var s=i.NumberType.Name;t.NUMBER_TYPE=s;var c=i.ChangeCounterType.Name;t.CHANGECOUNTER_TYPE=c;var d=i.DecimalType.Name;t.DECIMAL_TYPE=d;var p=i.PercentType.Name;t.PERCENT_TYPE=p;var f=i.PriceType.Name;t.PRICE_TYPE=f;var g=i.UrlType.Name;t.URL_TYPE=g;var h=i.FileType.Name;t.FILE_TYPE=h;var m=i.ImageType.Name;t.IMAGE_TYPE=m;var y=i.VideoType.Name;t.VIDEO_TYPE=y;var v=i.ThumbnailType.Name;t.THUMBNAIL_TYPE=v;var b=i.SignatureType.Name;t.SIGNATURE_TYPE=b;var O=i.DrawingType.Name;t.DRAWING_TYPE=O;var w=i.DateType.Name;t.DATE_TYPE=w;var S=i.DateTimeType.Name;t.DATETIME_TYPE=S;var T=i.ChangeTimestampType.Name;t.CHANGETIMESTAMP_TYPE=T;var A=i.TimeType.Name;t.TIME_TYPE=A;var k=i.DurationType.Name;t.DURATION_TYPE=k;var E=i.NameType.Name;t.NAME_TYPE=E;var P=i.EmailType.Name;t.EMAIL_TYPE=P;var C=i.LatLongType.Name;t.LATLONG_TYPE=C;var x=i.XYType.Name;t.XY_TYPE=x;var D=i.ChangeLocationType.Name;t.CHANGELOCATION_TYPE=D;var R=i.AddressType.Name;t.ADDRESS_TYPE=R;var I=i.PhoneType.Name;t.PHONE_TYPE=I;var N=i.AppType.Name;t.APP_TYPE=N;var j=i.EnumType.Name;t.ENUM_TYPE=j;var L=i.EnumListType.Name;t.ENUMLIST_TYPE=L;var _=i.ProgressEnumType.Name;t.PROGRESSENUM_TYPE=_;var M=i.ColorEnumType.Name;t.COLORENUM_TYPE=M;var G=i.TableRefType.Name;t.TABLEREF_TYPE=G;var F=i.MultiColumnType.Name;t.MULTICOLUMNKEY_TYPE=F;var B=i.ListType.Name;t.LIST_TYPE=B;var V="Unknown";t.UNKNOWN_TYPE=V;var U="Show";t.SHOW_TYPE=U;var H={init:function(e){return e.TEXT_TYPE=a,e.LONGTEXT_TYPE=l,e.BOOLEAN_TYPE=u,e.NUMBER_TYPE=s,e.CHANGECOUNTER_TYPE=c,e.DECIMAL_TYPE=d,e.PERCENT_TYPE=p,e.PRICE_TYPE=f,e.URL_TYPE=g,e.FILE_TYPE=h,e.IMAGE_TYPE=m,e.VIDEO_TYPE=y,e.THUMBNAIL_TYPE=v,e.SIGNATURE_TYPE=b,e.DRAWING_TYPE=O,e.DATE_TYPE=w,e.DATETIME_TYPE=S,e.CHANGETIMESTAMP_TYPE=T,e.TIME_TYPE=A,e.DURATION_TYPE=k,e.NAME_TYPE=E,e.EMAIL_TYPE=P,e.LATLONG_TYPE=C,e.XY_TYPE=x,e.CHANGELOCATION_TYPE=D,e.ADDRESS_TYPE=R,e.PHONE_TYPE=I,e.APP_TYPE=N,e.ENUM_TYPE=j,e.ENUMLIST_TYPE=L,e.PROGRESSENUM_TYPE=_,e.COLORENUM_TYPE=M,e.TABLEREF_TYPE=G,e.MULTICOLUMNKEY_TYPE=F,e.LIST_TYPE=B,e.UNKNOWN_TYPE=V,e.SHOW_TYPE=U,o.default.keyBy(o.default.values(i),(function(e){return e.Name}))}},q=[m,v,h,O,b,y];t.imageHandleColumnTypes=q;var W=H;t.default=W},237136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifiesDataTypes=t.modifiedData=void 0;var n=["CREATE","UPDATE","RECOMPUTE","DELETE","UNDO"];t.modifiesDataTypes=n;t.modifiedData=function(e){return n.includes(e.type)}},764685:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.getSyncErrorHandler=function(e,t,n){return function(r,s,c){var d;if(401===s)if(a.default.AddTraceContext("getAppTemplate: 401 Unauthorized"),n){var p="401 Unauthorized: Background sync failed. Please log out and back in.";l.default.syncState.error=p,a.default.warnToDevConsole("aborting background sync due to unauthorized"),o.AppGlobals.AppModel.discardPendingAppModel(),"function"==typeof t&&t(p)}else{var f=null===(d=function(e){try{return JSON.parse(e)}catch(t){return a.default.ReportErrorOnce({errorMessage:"error parsing 401/403 responseText",responseText:e}),null}}(r))||void 0===d?void 0:d.LoginProvider;if(i.default.IsIFrame())return void(null==t||t("Login is required but not supported in iframes."));o.AppGlobals.AppState.SwitchToLoginPage(f,"Fetching app template indicates login is required",e)}else if(403===s){a.default.AddTraceContext("getAppTemplate: 403 FORBIDDEN (access blocked)");var g=r||(0,u.accessDeniedErrorMessage)();o.AppGlobals.AppModel.MatchesAppNameOrId(e)?o.AppGlobals.AppModel.RevokeUserAccess(g):(a.default.AddTraceContext("Clearing actions only"),o.AppGlobals.AppModel.ClearPersistedActions(),o.AppGlobals.ViewManager.ShowErrorScreen(g)),"function"==typeof t&&t(g)}else if(i.default.InMobileWebView()&&200===s&&c)a.default.AddTraceContext("Upgrade required."),o.AppGlobals.ViewManager.ShowUpgradeRequiredScreen(r),$("#FullScreenOverlay").show();else if("function"==typeof t){if(a.default.AddTraceContext("getAppTemplate.errorHandler failureFn, statusCode "+s),r&&r.length>1e3){var h="unknown";if(r.startsWith("<"))h="html";else if(r.startsWith("{"))try{JSON.parse(r),h="json"}catch(e){h="malformed-json"}r=r.slice(0,1e3),a.default.AddTraceContext("RESPONSE TEXT (truncated):"+r),a.default.ReportErrorOnce({errorMessage:"GetAppTemplate ajax errorHandler called",responseType:h,statusCode:s})}t(r)}}};var o=n(166089),i=r(n(571524)),a=r(n(593186)),l=r(n(21870)),u=n(714067)},688291:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.autoSyncInterval=void 0;var i=r(n(856690)),a=r(n(689728)),l=T(n(593186)),u=r(n(513954)),s=r(n(343625)),c=r(n(571524)),d=n(263198),p=n(629503),f=T(n(21870)),g=n(764685),h=n(166089),m=n(235049),y=n(44617),v=n(557310),b=r(n(819433)),O=n(398171),w=n(892148);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var A=function(){v.ReactRootUIConfig.isReactRoot()?setTimeout((function(){var e,t,n=null!==(e=h.AppGlobals.AppModel.NumDelayedActions())&&void 0!==e?e:0,r=null!==(t=h.AppGlobals.AppModel.NumProcessingActions())&&void 0!==t?t:0;(0,b.default)().dispatch((0,O.setTotalActions)(n+r))})):$("#header").trigger("queueChange")},k=18e5,E=!0===window.APPSHEET_TEST_CONTEXT?1:10;t.autoSyncInterval=E;var P=function(){function e(t){(0,i.default)(this,e),this.queuedActions=[],this._appModel=t,this._repeatFailureLimit=1,this._checkSkipLimit=30,this._autoSyncInterval=E,this._parallelismLimit=1,this._minBackgroundSyncIntervalMs=k,this.initialize()}return(0,a.default)(e,[{key:"appModel",value:function(){return h.AppGlobals.AppModel&&h.AppGlobals.AppModel!==this._appModel&&l.default.ReportErrorOnce({errorMessage:"SyncQueue AppModel mismatch",appSwitched:h.AppGlobals.AppModel.AppTemplate.Id!==this._appModel.AppTemplate.Id}),h.AppGlobals.AppModel||this._appModel}},{key:"initialize",value:function(){try{this.isLocalStorageEnabled=void 0!==window.localStorage}catch(e){this.isLocalStorageEnabled=!1}this.executingActions={},this.queuedActions=[],this.checksSkipped=0,this.lastTryFailCount=0,this.queueStartedApp=null,this.AutomaticUpdateSync=!1}},{key:"Clear",value:function(t){this.queuedActions=[],t&&(e.RemovePersistedActions(h.AppGlobals.AppState.AppTemplate.Name),A())}},{key:"PersistAction",value:function(e){var t;if(this.isLocalStorageEnabled){var n=e.RequestId(),r=y.dynamicRollouts.includeByOwnerId("ClientNoPushDelay")?this._appModel:h.AppGlobals.AppState,o=(null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.appName)||r.AppTemplate.Name,i=u.default.SerializeAction(e),a=o+"_Action"+n;s.default.setItem(a,i)}}},{key:"Enqueue",value:function(e){null==e.params.timeStamp&&(e.params.timeStamp=new Date),this.queuedActions.push(e),this.PersistAction(e),A()}},{key:"Delay",value:function(e){var t,n=e.RequestId();(null!=this.executingActions[n]&&delete this.executingActions[n],this.PersistAction(e),y.dynamicRollouts.includeByOwnerId("ClientNoPushDelay"))?this.Disposed||this.queuedActions.unshift(e):((null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.appName)||h.AppGlobals.AppState.AppTemplate.Name)===this.appModel().AppTemplate.Name&&this.queuedActions.unshift(e)}},{key:"Activate",value:function(e){for(var t=e.RequestId(),n=0;n<this.queuedActions.length;n++)if(this.queuedActions[n].RequestId()===t){var r=this.queuedActions[n];this.queuedActions.splice(n,1),this.executingActions[t]=r;break}}},{key:"Remove",value:function(e){for(var t=e.RequestId(),n=0;n<this.queuedActions.length;n++)if(this.queuedActions[n].RequestId()===t){this.queuedActions.splice(n,1);break}if(this.isLocalStorageEnabled){var r=y.dynamicRollouts.includeByOwnerId("ClientNoPushDelay")?this._appModel:h.AppGlobals.AppState,o=e.params.appName||r.AppTemplate.Name;s.default.removeItem("".concat(o,"_Action").concat(t))}null!=this.executingActions[t]&&delete this.executingActions[t],A()}},{key:"Poll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3*E,n=arguments.length>1?arguments[1]:void 0;if(this.AutomaticUpdateSync){if(this.PollTimeoutId)return;var r=setTimeout((function(){e.ResetFailures(!0);var t=e.appModel().NumProcessingActions()+e.appModel().NumDelayedActions();e.Check(f.default.syncProgressHandle,e.onError,n);var r=E;!e.appModel().InASyncCall&&t>0&&(0,m.isConnected)()&&(r=1);var o=1e3*r*Math.pow(2,Math.min(e.lastTryFailCount,9));o=Math.min(36e5,o),e.lastTryFailCount>0&&(o=Math.max(6e4,o));var i=t>0;e.PollTimeoutId=null,e.Poll(o,i)}),t);this.PollTimeoutId=r}}},{key:"CheckConnectivity",value:function(){if(!(0,m.isConnected)()){if(this.lastTryFailCount=0,this.checksSkipped<30)return this.checksSkipped++,!1;this.checksSkipped=0,(0,m.autoConnect)(),this.ResetFailures()}return!0}},{key:"Check",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.syncProgressHandle,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.CheckConnectivity()){var r=this.getQueuedActions();if(r.length)for(var o=0;o<r.length;o++){if(this.ActiveCount()>=1)return;var i=r[o];if(null==i){var a="empty serialized action in SyncQueue.Check";l.default.ReportErrorOnce({errorMessage:a}),t&&t(a)}else{var u=this.CheckAction(i,e,t);if(!u)break}}else 0===this.ActiveCount()&&this.CheckBackgroundSync(n,e)}}},{key:"checkForAppSwitch",value:function(e,t){return e.params.appId!==this.appModel().AppTemplate.Id&&(l.default.ReportError({errorMessage:"SyncQueue detected app switch",where:t}),!0)}},{key:"CheckAction",value:function(e,t,n,r){var o=this,i=this.checkForAppSwitch(e,"CheckAction start");return e.params.failureCount<1&&(this.Activate(e),p.Common.StartBackendCall(),e.params.checkCache=!0,l.default.logToDevConsole("syncQueue.Check - Executing action",e.params),e.Execute((function(n){i||(i=o.checkForAppSwitch(e,"CheckAction success")),l.default.AddTraceContext("syncQueue.Check - execute action success",{warningMessage:n}),p.Common.FinishBackendCall(),o.Remove(e),o.checksSkipped=0,o.lastTryFailCount=0,n&&(null==t||t.raiseWarning({message:n})),0!==o.queuedActions.length||i||d.JeeneeBrowserAPI.clearPhotoStorageForApp(e.params.appId,e.params.timestamp),null==r||r()}),(function(r,i){r!==l.SYNC_CANCELED_ERROR_MESSAGE&&o.checkForAppSwitch(e,"CheckAction failure"),l.default.AddTraceContext("syncQueue.Check - execute action failure",{errorMessage:r}),p.Common.FinishBackendCall(),e.params.failureCount++,o.lastTryFailCount++,e.params.checkCache=0===i,o.Delay(e),r&&(null==t||t.raiseError(r)),"function"==typeof n&&n(r,i)})),!0)}},{key:"CheckBackgroundSync",value:function(e,t){var n=(new Date).getTime(),r=window.AppSheetPageLoadTime,o=this.appModel();o&&(r=o.lastSyncTimeMs(!0)||r),e?o.startBackgroundSync({progressHandle:t,initiatedBy:"PushedChanges"}):!c.default.IsIFramePreview()&&n-r>k&&o.startBackgroundSync({progressHandle:t,initiatedBy:"Polling"})}},{key:"ResetFailures",value:function(e){var t=this.queuedActions;e||(this.queuedActions=[]);for(var n=t.length-1;n>=0;n--){var r=t[n];null!=r&&(r.params.failureCount=0,e||this.Delay(r))}}},{key:"DelayedCount",value:function(){return this.queuedActions.length}},{key:"ActiveCount",value:function(){return Object.keys(this.executingActions).length}},{key:"Start",value:function(e){if((!e||this.queueStartedApp!==e)&&(this.initialize(),e))if(this.isLocalStorageEnabled){try{window.localStorage.setItem("__test","trial")}catch(e){return void("QUOTA_EXCEEDED_ERR"===e.name.toUpperCase()&&(this.isLocalStorageEnabled=!1))}this.loadPersistedActions(e),this.queueStartedApp=e,A()}else c.default.IsIFrame()||alert("Warning! HTML5 local storage is disabled. Your app will not work correctly.")}},{key:"Stop",value:function(){null!=this.PollTimeoutId&&clearTimeout(this.PollTimeoutId),this.PollTimeoutId=null}},{key:"applySyncSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.automaticUpdates,r=e.syncOnStart,o=!t&&p.Common.InitializingApp&&(n||r);if(o&&r&&setTimeout((function(){h.AppGlobals.StateChangeHandler.RefreshAppData({preferredUI:f.SyncUI.Blocking,initiatedBy:"AppStart"})})),this.AutomaticUpdateSync=n,this.AutomaticUpdateSync){var i=o&&!r;this.Poll(0,i)}else this.Stop()}},{key:"onError",get:function(){var e=this.appModel().AppTemplate.Id;return(0,g.getSyncErrorHandler)(e,(function(e){e!==l.SYNC_CANCELED_ERROR_MESSAGE&&l.default.ReportErrorOnce({errorMessage:e})}),!0)}},{key:"Disposed",get:function(){return this._appModel.Disposed}},{key:"getQueuedActions",value:function(){return this.queuedActions.sort((function(e,t){var n=e.params.timeStamp,r=t.params.timeStamp;return n<r?-1:n>r?1:0}))}},{key:"loadPersistedActions",value:function(e){try{for(var t=w.WindowWrapper.unsafeLocalStorage,n={},r={},o=0;o<t.length;o++){var i=t.key(o);if(0===i.indexOf(e+"_Action")){var a=t.getItem(i),s=null;if(null==a)l.default.ReportErrorOnce({errorMessage:"empty serialized action in SyncQueue.loadPersistedActions"});else try{s=u.default.DeSerializeAction(a)}catch(e){l.default.ReportErrorOnce({errorMessage:"error deserializing action in SyncQueue.loadPersistedActions",error:e})}null!=s?(s.params.failureCount=0,this.Enqueue(s),n[i]=a):r[i]=!0}}for(var d in r)t.removeItem(d)}catch(e){c.default.IsIFrame()||l.default.ReportErrorOnce({errorMessage:"Caught error in SyncQueue.loadPersistedActions",error:e})}}}],[{key:"RemovePersistedActions",value:function(e){try{for(var t=w.WindowWrapper.unsafeLocalStorage,n={},r=0;r<t.length;r++){var o=t.key(r);(0===o.indexOf(e+"_Action")||0===o.indexOf(e+"_Lookup"))&&(n[o]=!0)}for(var i in n)t.removeItem(i)}catch(e){c.default.IsIFrame()||l.default.ReportErrorOnce({errorMessage:"Caught error in SyncQueue.RemovePersistedActions",error:e})}}}]),e}();t.default=P},195508:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.status=t.default=t.Transaction=void 0;var o=r(n(600861)),i=r(n(856690)),a=r(n(689728)),l=r(n(496486)),u=n(29827),s=r(n(819433)),c=n(646317),d=r(n(962553)),p=n(237136);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.status={PENDING:"PENDING",COMMITTED:"COMMITTED",ABORTED:"ABORTED"};var h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:(0,c.makeGuid)()};(0,i.default)(this,e),this.dataManager=t,this.handlers=n,this._model=r,this._closed=!1}return(0,a.default)(e,[{key:"id",get:function(){return this._model.id}},{key:"closed",get:function(){return this._closed||!this.dataManager.isCurrent}},{key:"isValid",get:function(){return this.validate().isEmpty()}},{key:"started",get:function(){return this.logRecords.length>0}},{key:"modifiedData",get:function(){return l.default.some(this.activeRecords,p.modifiedData)}},{key:"hasUserEdits",get:function(){return l.default.some(this.activeRecords,(function(e){return"UPDATE"===e.type||"END_GROUP"===e.type}))}},{key:"currentGroupHasUserEdits",get:function(){return l.default.some(this.currentGroupActiveRecords,(function(e){return"UPDATE"===e.type||"END_GROUP"===e.type}))}},{key:"lastModifiedTimestamp",get:function(){var e;return null===(e=l.default.findLast(this.logRecords,(function(e){return null!=e.timestamp})))||void 0===e?void 0:e.timestamp}},{key:"toJSON",value:function(){return l.default.cloneDeep(this._model)}},{key:"model",get:function(){return this.toJSON()}},{key:"start",value:function(){return this.closed?null:this.handlers.onStart(this)}},{key:"startGroup",value:function(e){return this.closed?null:this.handlers.onStartGroup(this,e)}},{key:"endGroup",value:function(){return this.closed?null:this.handlers.onEndGroup(this)}},{key:"create",value:function(e,t,n){return this.closed?null:this.handlers.onCreate(this,e,t,n)}},{key:"recompute",value:function(e,t,n){return this.closed?null:this.handlers.onRecompute(this,e,t,n)}},{key:"update",value:function(e,t,n,r,o,i){return this.closed?null:this.handlers.onUpdate(this,e,t,n,r,o,i)}},{key:"delete",value:function(e,t){return this.closed?null:this.handlers.onDelete(this,e,t)}},{key:"undo",value:function(){return this.closed?null:this.handlers.onUndo(this)}},{key:"abort",value:function(){return this.closed?null:(this._closed=!0,this.handlers.onAbort(this))}},{key:"validate",value:function(e){return this.handlers.onValidate(this,e)}},{key:"commit",value:function(e){var t=this;this.handlers.onCommit(this,(function(n,r,o){n||(t._closed=!0),null==e||e(n,r,o)}))}},{key:"commitAsync",value:function(e){var t=this;return this.handlers.onCommitAsync(this,e).then((function(e){return t._closed=!0,e}))}},{key:"getInitialRowValues",value:function(e,t){if(this.dataManager.findTableCollection(e).rootTable){var n=l.default.first(this.getRecordsForRow(e,t));if(n)return"CREATE"===n.type?n.after:n.before}return null}},{key:"getInitialErrorState",value:function(e,t){var n=l.default.find(this.getRecordsForRow(e,t),(function(e){return null!=e.initialErrorState}));return null==n?void 0:n.initialErrorState}},{key:"getResetColumns",value:function(e,t){return l.default.extend.apply(l.default,[{}].concat((0,o.default)(this.getRecordsForRow(e,t).map((function(e){return e.wasReset})))))}},{key:"wasCreated",value:function(e){return null!=this.dataManager.findPendingRow(e)}},{key:"wasModified",value:function(e,t,n){var r=this.getInitialRowValues(e,t);if(!r)return!1;var o=this.dataManager.findTableCollection(e),i=o.rootTable,a=o.rootTableSchema;if(!i||!a)return!1;var u=i.lookupTableRow(t,this),s=(null==u?void 0:u.values)||{},c=this.getResetColumns(e,t);return n?s[n]!==r[n]||!!c[n]:!l.default.isEqual(r,s)||l.default.keys(c).length>0}},{key:"getRecordsOfTypeForRow",value:function(e,t,n){var r=this.dataManager.findTableCollection(e).rootTable;return this.activeRecords.filter((function(e){return e.rootTableName===(null==r?void 0:r.name())&&e.stableId===t&&e.type===n}))}},{key:"getRecordsForRow",value:function(e,t){var n=this.dataManager.findTableCollection(e).rootTable;return this.activeRecords.filter((function(e){return e.rootTableName===(null==n?void 0:n.name())&&e.stableId===t}))}},{key:"logRecords",get:function(){return this.dataManager.getLogRecords(this.id)}},{key:"activeRecords",get:function(){return this.dataManager.getActiveRecords(this.id)}},{key:"startRecord",get:function(){return this.dataManager.getStartRecord(this.id)}},{key:"lastRecord",get:function(){return this.dataManager.getLastRecord(this.id)}},{key:"lastActiveRecord",get:function(){return this.dataManager.getLastActiveRecord(this.id)}},{key:"currentGroupStartedBy",get:function(){var e;return null===(e=this.dataManager.getOpenGroupRecords(this.id)[0])||void 0===e?void 0:e.startedBy}},{key:"findGroupStartedBy",value:function(e){return this.dataManager.getOpenGroupRecords(this.id).find((function(t){return t.startedBy===e}))}},{key:"owningViewState",get:function(){if(d.default.usePendingChangesStore){var e=(0,s.default)().getState();return(0,u.getViewInPendingTransactionById)(this.id,e)}}},{key:"currentGroupActiveRecords",get:function(){var e=this.activeRecords,t=this.dataManager.getOpenGroupRecords(this.id)[0],n=e.indexOf(t);return n>0?e.slice(n):e}},{key:"affectedRootTableNames",get:function(){return l.default.compact(l.default.uniq(this.activeRecords.map((function(e){return e.rootTableName}))))}},{key:"affectedRootTables",get:function(){var e=this;return l.default.compact(this.affectedRootTableNames.map((function(t){return e.dataManager.findTableCollection(t).rootTable})))}},{key:"stableReferenceRecords",get:function(){return this.activeRecords.filter((function(e){return"CREATE"===e.type&&null!=e.stableReference}))}},{key:"hasStableReverseRef",value:function(e){return this.stableReferenceRecords.filter((function(t){var n=t.stableReference,r=t.stableId;return l.default.isMatch(n,e)&&l.default.isMatch(n,{stableId:r})})).length>0}},{key:"getStableReferencesTo",value:function(e){return this.stableReferenceRecords.filter((function(t){var n=t.stableReference;return n.referencedTableName===e.tableName&&n.referencedStableId===e.stableId})).map((function(e){return e.stableReference}))}},{key:"affectedRows",get:function(){var e,t=this,n=new Map,r=f(this.affectedRootTables);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.set(o.name(),o)}}catch(e){r.e(e)}finally{r.f()}return l.default.uniq(l.default.compact(this.activeRecords.map((function(e){var r=e.rootTableName,o=e.rowId,i=e.stableId,a=n.get(null!=r?r:"");return null==a?void 0:a.lookupTableRow(null!=i?i:o,t)}))))}},{key:"inNestedTransactionGroup",get:function(){return this.dataManager.getOpenGroupRecords(this.id).length>1}}]),e}();t.Transaction=h;var m=h;t.default=m},397013:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(861655)),l=r(n(994993)),u=r(n(73808)),s=r(n(593302)),c=r(n(496486)),d=r(n(365914)),p=r(n(150198)),f=r(n(189491)),g=n(213082),h=n(515128),m=r(n(593186));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var v=function(e){return null==e?0:Number(e)||0},b=function(e){(0,a.default)(n,e);var t=y(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,e,r)).Operator=e.Op,i}return(0,i.default)(n,[{key:"runEval",value:function(e){if(null===e||2!==e.length)return null!==e&&1===e.length&&"UNARY_MINUS"===this.Operator?"number"===this.resultType().toLowerCase()?this.runNumber(e):this.runDecimal(e):null;switch(this.resultType().toLowerCase()){case"date":case"changetimestamp":case"datetime":return this.runDate(e);case"time":return this.runTime(e);case"duration":return this.runDuration(e);case"list":return this.runList(e);case"number":case"changecounter":return this.runNumber(e);default:return this.runDecimal(e)}}},{key:"runDate",value:function(e){switch(this.Operator){case"DATE_PLUS":return e[1].attribute.yields("Duration")?d.default.addSeconds(p.default.makeDate(e[0].value),d.default.getDurationSecs(d.default.parseDuration(e[1].value))):d.default.addDays(p.default.makeDate(e[0].value),v(e[1].value));case"DATE_MINUS":return e[1].attribute.yields("Duration")?d.default.addSeconds(p.default.makeDate(e[0].value),-1*d.default.getDurationSecs(d.default.parseDuration(e[1].value))):d.default.addDays(p.default.makeDate(e[0].value),-1*v(e[1].value))}return null}},{key:"runTime",value:function(e){switch(this.Operator){case"TIME_PLUS":return e[1].attribute.yields("Duration")?d.default.timeToDate(d.default.dateToTime(d.default.addSeconds(e[0].value,d.default.getDurationSecs(d.default.parseDuration(e[1].value))))):d.default.timeToDate(d.default.dateToTime(d.default.addHours(e[0].value,v(e[1].value))));case"TIME_MINUS":return e[1].attribute.yields("Duration")?d.default.timeToDate(d.default.dateToTime(d.default.addSeconds(e[0].value,-1*d.default.getDurationSecs(d.default.parseDuration(e[1].value))))):d.default.timeToDate(d.default.dateToTime(d.default.addHours(e[0].value,-1*v(e[1].value))))}return null}},{key:"runDuration",value:function(e){switch(this.Operator){case"DURATION_PLUS":return e[0].attribute.yields("Duration")&&e[1].attribute.yields("Duration")?d.default.addDurations(e[0].value,e[1].value):e[0].attribute.yields("Duration")&&e[1].attribute.yields("Number")?d.default.addDurationHours(e[0].value,v(e[1].value)):null;case"DURATION_MINUS":return e[0].attribute.yields("Duration")&&e[1].attribute.yields("Duration")?d.default.diffDurations(e[0].value,e[1].value):e[0].attribute.yields("Duration")&&e[1].attribute.yields("Number")?d.default.subtractDurationHours(e[0].value,v(e[1].value)):e[0].attribute.yields("Time")&&e[1].attribute.yields("Time")?d.default.diffTimes(p.default.makeDate(e[0].value),p.default.makeDate(e[1].value)):e[0].attribute.yields("Date")&&e[1].attribute.yields("Date")?d.default.diffDates(p.default.makeDate(e[0].value),p.default.makeDate(e[1].value)):d.default.diffTimes(p.default.makeDate(e[0].value),p.default.makeDate(e[1].value))}return null}},{key:"runList",value:function(e){switch(this.Operator){case"LIST_PLUS":return null==e[0].value?e[1].value:null==e[1].value?e[0].value:e[0].value.concat(e[1].value);case"LIST_MINUS":if(null==e[0])return null;if(null==e[1])return e[0].values;var t=e[0].value,n=this.children[0].resultAttribute().nestedAttribute(),r=n.basestType(),o=e[1].value,i=this.children[1].resultAttribute().nestedAttribute(),a=i.basestType(),l=c.default.uniq(o).map((function(e){return(0,g.getTypedChildValue)(e,i,r,!1)})),u=c.default.zipObject(t,t.map((function(e){return(0,g.getTypedChildValue)(e,n,a,!1)})));return c.default.uniq(c.default.differenceWith(t,l,(function(e,t){return u[e]===t})))}return null}},{key:"runNumber",value:function(e){var t;switch(this.Operator){case"PLUS":return v(e[0].value)+v(e[1].value);case"MINUS":return v(e[0].value)-v(e[1].value);case"TIMES":return v(e[0].value)*v(e[1].value);case"DIV":return 0===(t=v(e[1].value))?0:1*v(e[0].value)/t;case"MOD":return v(e[0].value)%v(e[1].value);case"UNARY_MINUS":return-1*v(e[0].value)}return null}},{key:"normalizeDecimalValue",value:function(e){var t=this.resultTypeQualifier(),n=t&&null!=t.DecimalDigits?t.DecimalDigits:2;if("number"==typeof n){"Percent"===this.resultType()&&(n+=2);var r=Math.pow(10,n);return Math.round(e*r)/r}return e}},{key:"runDecimal",value:function(e){try{var t=0,n=new s.default(1*v(e[0].value)),r=e.length>1?new s.default(v(e[1].value)):null;switch(this.Operator){case"PLUS":t=Number(n.plus(r).toFixed());break;case"MINUS":t=Number(n.minus(r).toFixed());break;case"TIMES":t=Number(n.times(r).toFixed());break;case"DIV":t=r.eq(0)?0:Number(n.div(r).toFixed());break;case"MOD":t=r.eq(0)?0:Number(n.mod(r).toFixed());break;case"UNARY_MINUS":t=Number(n.times(-1).toFixed())}return t}catch(t){var o=(0,h.asError)(t);return"BigError"===o.name&&"NaN"===o.message||m.default.ReportErrorOnce({errorMessage:"Unexpected error in runDecimal",error:o}),this.runNumber(e)}}}]),n}(f.default);t.default=b},213082:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getTypedChildValue=b;var i=r(n(856690)),a=r(n(689728)),l=r(n(861655)),u=r(n(994993)),s=r(n(73808)),c=r(n(496486)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(365914)),p=r(n(150198)),f=r(n(189491));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m=new Date("01/01/1970 00:00:00").getTime(),y=new Date("12/30/1899 00:00:00").getTime(),v=function(e){(0,l.default)(n,e);var t=h(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this,e,r)).IsAtomic="true"===String(e.IsAtomic),o.BoolType=e.BoolType,o.OperatorName=e.OperatorName,o}return(0,a.default)(n,[{key:"canBeShortCircuited",value:function(e){return this.children.length>1&&!this.IsAtomic&&!(null==e?void 0:e.isFakeContext)}},{key:"meetsShortCircuitCondition",value:function(e){switch(this.BoolType){case"AND":return!1===e;case"OR":return!0===e}return!1}},{key:"runEval",value:function(e,t){switch(this.IsAtomic){case!0:return this.runAtomicBoolean(e,t);case!1:return this.runCompositeBoolean(e)}return null}},{key:"runCompositeBoolean",value:function(e){switch(this.BoolType){case"AND":return e.every((function(e){return Boolean(e.value)}));case"OR":return e.some((function(e){return Boolean(e.value)}));case"NOT":return!e[0].value}return null}},{key:"runEqualsNew",value:function(e,t,n,r){return null===e||""===e||null===n||""===n?e===n:t===r}},{key:"runAtomicBoolean",value:function(e,t){var n,r=null===(n=null==t?void 0:t.appModel)||void 0===n?void 0:n.useConsistentComparisonOperators,o=e[0],i=e[1],a=o.attribute,l=i.attribute,u=b(o.value,a,l.basestType(),r),s=b(i.value,l,a.basestType(),r);if(r){switch(this.OperatorName){case"GreaterThan":return u>s;case"GreaterThanOrEquals":return u>s||this.runEqualsNew(o.value,u,i.value,s);case"LessThan":return u<s;case"LessThanOrEquals":return u<s||this.runEqualsNew(o.value,u,i.value,s);case"Equals":return this.runEqualsNew(o.value,u,i.value,s);case"NotEquals":return!this.runEqualsNew(o.value,u,i.value,s)}return null}switch(this.OperatorName){case"GreaterThan":return u>s;case"GreaterThanOrEquals":return u>=s;case"LessThan":return u<s;case"LessThanOrEquals":return u<=s;case"Equals":return u===s;case"NotEquals":return u!==s}return null}},{key:"getLookupValues",value:function(){return this.IsAtomic?this.getAtomicLookupValues():this.getCompositeLookupValues()}},{key:"getAtomicLookupValues",value:function(){if("Equals"===this.OperatorName&&null!=this.children&&2===this.children.length){var e,t,n={};if("COLUMN"===this.children[0].model.EvalType&&"CONSTANT"===this.children[1].model.EvalType)return e=this.children[0].ColumnName,t=this.children[1].Value,n[e]=d.default.stripRefImageValue(t,this.children[0].model.ResultType),n;if("COLUMN"===this.children[1].model.EvalType&&"CONSTANT"===this.children[0].model.EvalType)return e=this.children[1].ColumnName,t=this.children[0].Value,n[e]=d.default.stripRefImageValue(t,this.children[0].model.ResultType),n}return null}},{key:"getCompositeLookupValues",value:function(){var e;switch(this.BoolType){case"AND":return e=null,this.children.map((function(t){var n=t.getLookupValues();e?n&&(e=c.default.assign(e,n)):e=n})),e;case"OR":case"NOT":return null}return null}}]),n}(f.default);function b(e,t,n,r){var o;if(Array.isArray(e))o=(o=e.map((function(e){return b(e,t.nestedAttribute(),n,r)}))).sort().toString();else{var i=t.basestType();o=function(e,t,n,r){var o;switch(t){case"Date":return!r||null!==e&&""!==e?((o=p.default.makeDate(e)).setHours(0,0,0,0),o.getTime()):m;case"Time":return r?null===e||""===e?y:((o=p.default.makeDate(e)).setFullYear(1899,11,30),o.getTime()):((o=p.default.makeDate(e)).setFullYear(0,0,0),o.getTime());case"DateTime":case"ChangeTimestamp":return!r||null!==e&&""!==e?p.default.makeDate(e).getTime():m;case"Duration":return d.default.getDurationSecs(d.default.parseDuration(e));case"Yes/No":return e;case"Text":if("Yes/No"===n)switch(String(e).toLowerCase()){case"y":case"yes":case"t":case"true":return!0;case"n":case"no":case"f":case"false":return!1}if("Progress"===n)switch(String(e).toLowerCase()){case"empty":return"empty";case"quarter":case"one quarter":return"quarter";case"half":return"half";case"three quarter":case"three quarters":return"three quarter";case"full":return"full"}return null==e?"":String(e).toLowerCase();case"Number":case"Decimal":case"Price":case"Percent":case"ChangeCounter":return Number(e);case"List":case"EnumList":return null==e?"":e.sort().toString().toLowerCase();case"File":case"Image":case"Signature":case"Thumbnail":case"Drawing":return d.default.stripRefImageValue(e,t);case"Url":return e&&"function"==typeof e.indexOf&&0!==e.indexOf("{")?JSON.stringify(p.default.urlValueFromWireFormat(e)).toLowerCase():null==e?"":String(e).toLowerCase();default:return null==e?"":String(e).toLowerCase()}}(e,i,n,r),"Text"!==i&&"Text"!==n||(o=(0,d.toNormalizedString)(o))}return o}t.default=v},17601:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(861655)),l=r(n(994993)),u=r(n(73808)),s=n(888861);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=c(n);function n(e,r){return(0,o.default)(this,n),t.call(this,e,r)}return(0,i.default)(n,[{key:"ColumnIndex",get:function(){var e;return null!==(e=this.model.ColIndex)&&void 0!==e?e:0}},{key:"ColumnName",get:function(){var e;return null!==(e=this.model.ColName)&&void 0!==e?e:""}},{key:"ContextLevel",get:function(){var e;return null!==(e=this.model.ContextLevel)&&void 0!==e?e:0}},{key:"runEval",value:function(e,t){if(null==t||"function"!=typeof t.getColumnValue)return null;var n=t.getColumnValue(this.ColumnName,this.ColumnIndex,this.ContextLevel);return this.resultAttribute().valueFromWireFormat(n)}},{key:"curryThis",value:function(e){if(!e||"function"!=typeof e.getColumnValue)return this;var t=e.getColumnValue(this.ColumnName,this.ColumnIndex,this.ContextLevel);return null==t?this:(0,s.createConstantValue)(t,this.resultType(),this.resultTypeQualifier())}}],[{key:"is",value:function(e){return"COLUMN"===e.evalType()}}]),n}(r(n(189491)).default);t.default=d},50757:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(441588)),l=r(n(861655)),u=r(n(994993)),s=r(n(73808));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,l.default)(n,e);var t=c(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,e,r)).ColumnIndex=e.ColIndex,i.ContextLevel=e.ContextLevel,i.TableName=e.TableName,i.RowListAttrName=e.RowListAttrName,i.RowListAttrIndex=e.RowListAttrIndex,i.MakeDistinct=e.MakeDistinct,i}return(0,i.default)(n,[{key:"runEval",value:function(e,t){var n=this;if(null==t||"function"!=typeof t.getTableColumnSet)return[];var r=this.resultAttribute(),o=r.nestedAttribute()||r,i=this.TableName,a=this.ColumnIndex,l=this.MakeDistinct,u=this.RowListAttrName,s=this.RowListAttrIndex,c=this.ContextLevel,d=o.valuesFromWireFormat(t.getTableColumnSet(i,a,null,l,null,s,u,c)),p=o.basestAttribute().type();return d.map((function(e){return n.handleRefImageValue(e,p,i)}))}},{key:"curryThis",value:function(e){var t;return(null===(t=null==e?void 0:e.appModel)||void 0===t?void 0:t.inRollout("curryNativeValue"))?null!=this.RowListAttrIndex?null==e.getColumnValue(this.RowListAttrName,this.RowListAttrIndex,this.ContextLevel)?this:this.convertToConstant(e):(0,a.default)((0,s.default)(n.prototype),"curryThis",this).call(this,e):e?this.children&&0!==this.children.filter((function(e){return"CONSTANT"!==e.model.EvalType})).length?this:this.convertToConstant(e):this}}]),n}(r(n(189491)).default);t.default=d},85945:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(861655)),l=r(n(994993)),u=r(n(73808)),s=r(n(189491));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},p=function(e){(0,a.default)(n,e);var t=c(n);function n(e,r){return(0,o.default)(this,n),t.call(this,e,r)}return(0,i.default)(n,[{key:"Value",get:function(){return null!=this.model.ConstantValue?this.model.ConstantValue:(void 0===this._wireValue&&(this._wireValue=this.resultAttribute().valueToWireFormat(this.NativeValue)),this._wireValue)}},{key:"NativeValue",get:function(){return void 0!==this.model.NativeValue?this.model.NativeValue:(void 0===this._nativeValue&&(this._nativeValue=null,this._nativeValue=this.resultAttribute().valueFromWireFormat(this.Value)),this._nativeValue)}},{key:"runEval",value:function(){return this.NativeValue}},{key:"curryRollout",value:function(){return this}},{key:"toJSON",value:function(){var e;if(void 0===this.model.ConstantValue||void 0!==this.model.NativeValue){var t=this.model,n=(t.NativeValue,d(t,["NativeValue"])),r=null!==(e=n.ConstantValue)&&void 0!==e?e:this.Value;return Object.assign(Object.assign({},n),{ConstantValue:r})}return this.model}}],[{key:"is",value:function(e){return"CONSTANT"===e.evalType()}}]),n}(s.default);t.default=p},98705:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(441588)),l=r(n(861655)),u=r(n(994993)),s=r(n(73808)),c=n(888861),d=r(n(189491)),p=r(n(150198));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,l.default)(n,e);var t=f(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,e,r)).RefColumnIndex=e.RefColumnIndex,i.RefColumnName=e.RefColumnName,i.RemoteColumnIndex=e.RemoteColumnIndex,i.RemoteColumnName=e.RemoteColumnName,i.RemoteTableName=e.RemoteTableName,i}return(0,i.default)(n,[{key:"runEval",value:function(e,t){if(null==t||"function"!=typeof t.getColumnValue||"function"!=typeof t.getTableColumnValue)return null;var n,r,o;if(null!=e&&1===e.length){var i=e[0],a=i.attribute,l=i.value;n=a.valueToWireFormat(l)}else n=t.getColumnValue(this.RefColumnName,this.RefColumnIndex,0);return null==this.RemoteTableName?null:(r=t.getTableColumnValue(this.RemoteTableName,n,this.RemoteColumnName,this.RemoteColumnIndex),o=this.resultAttribute().valueFromWireFormat(r),o=this.handleRefImageValue(o,this.resultAttribute().basestAttribute().type(),this.RemoteTableName))}},{key:"curryThis",value:function(e){var t;if(null!=this.children&&1===this.children.length)return(0,a.default)((0,s.default)(n.prototype),"curryThis",this).call(this,e);if(e&&"function"==typeof e.getColumnValue&&null!=e.getColumnValue(this.RefColumnName,this.RefColumnIndex,0)){if(null===(t=null==e?void 0:e.appModel)||void 0===t?void 0:t.inRollout("curryNativeValue"))return(0,a.default)((0,s.default)(n.prototype),"curryThis",this).call(this,e);var r=this.run(e),o=p.default.valueToWireFormat(r,this.resultType(),this.resultTypeQualifier());return(0,c.createConstantValue)(o,this.resultType(),this.resultTypeQualifier())}return this}}]),n}(d.default);t.default=g},189491:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.sortByExpensiveRollout=t.default=t.DEFAULT_ASYNC_TIMEOUT=void 0;var o=r(n(918698)),i=r(n(600861)),a=r(n(856690)),l=r(n(689728)),u=r(n(496486)),s=r(n(65706)),c=r(n(593186)),d=r(n(365914)),p=r(n(150198)),f=n(888861),g=n(895466),h=n(166089);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=5e3;function b(e,t){return"value"===e&&"number"==typeof t&&isNaN(t)?"__NaN__":t}t.DEFAULT_ASYNC_TIMEOUT=v;var O=function(e,t){return t.mayBeExpensive-e.mayBeExpensive},w=function(e,t){return Number(e.mayBeExpensive)-Number(t.mayBeExpensive)};t.sortByExpensiveRollout=w;var S=function(e){return e.model},T=function(e){return e.isPure()},A=function(e){return e.columnsReferenced()},k=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r;r.trace&&(n={},o=Object.assign(Object.assign({},r),{trace:n}));var i=e.resultType(),a=e.resultAttribute(),l=e.run(t,o);return l instanceof Promise?l.then((function(e){return{type:i,attribute:a,value:e,trace:n}})):{type:i,attribute:a,value:l,trace:n}},E=function(){function e(t,n){var r=this;(0,a.default)(this,e),this.model=t;var o=n(t);o&&(this.children=o),void 0===t.IsPure&&(t.IsPure=!o||o.every(T)),t.ColumnsReferenced||(t.ColumnsReferenced=o?u.default.flatten(o.map(A)):[]),null!=h.AppGlobals.AppModel&&h.AppGlobals.AppModel.inRollout("fromCacheOrRunEval")||(this.fromCacheOrRunEval=this.isPure()?(0,s.default)({limit:100,makeKey:function(e,t){var n=e.map((function(e){return e.value}));return t&&"PARAM"===r.evalType()&&n.push(t.getInputParameterValue(r.model.Name)),JSON.stringify(n,b)},getTimestamp:function(){var e;return(null===(e=h.AppGlobals.AppModel)||void 0===e?void 0:e.DataStamp)||""},fn:function(e,t,n){return r.runEval(e,t,n)}}):this.runEval.bind(this))}return(0,l.default)(e,[{key:"withCurriedChildren",value:function(e){var t=(0,f.create)(Object.assign(Object.assign({},this.model),{Children:e.map(S)}),(function(){return e})),n=this._resultAttribute;return n&&(t._resultAttribute=n),t}},{key:"isConstant",get:function(){return"CONSTANT"===this.evalType()}},{key:"convertToConstant",value:function(e){var t,n=this.run(e);if(null===(t=null==e?void 0:e.appModel)||void 0===t?void 0:t.inRollout("curryNativeValue"))return(0,f.createConstantValueNative)(n,this.resultType(),this.resultTypeQualifier());var r=n,o=p.default.valueToWireFormat(r,this.resultType(),this.resultTypeQualifier());if(c.default.Debug()){var i=p.default.valueFromWireFormat(o,this.resultType(),this.resultTypeQualifier());!i&&!r||u.default.isEqual(i,r)||c.default.ReportErrorOnce({errorMessage:"convertToConstant doesn't roundtrip",thisValue:r,thisWireValue:o,sanityCheck:i})}return(0,f.createConstantValue)(o,this.resultType(),this.resultTypeQualifier())}},{key:"runAsync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.resolve(this.run(e,Object.assign({supportsAsync:!0,timeout:v},t)))}},{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!=this.children&&this.children.length>0?this.runInternalNode(e,t,n):this.runLeafNode(e,t,n)}},{key:"runChildEvals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=!1,o=this.children,i=this.canBeShortCircuited(e);i&&this.mayBeExpensive&&(o=o.sort(O));for(var a=0;a<o.length;a++){var l=k(o[a],e,t);if(n.push(l),l instanceof Promise)r=!0;else if(i&&this.meetsShortCircuitCondition(l.value))break}return r?Promise.all(n):n}},{key:"runSelf",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n=r.noCache?this.runEval(e,t,r,o):this.fromCacheOrRunEval(e,t,r,o),r.trace&&(r.trace.Result=n,r.trace.Source=this.model.SourceExpr,r.trace.ChildTraces=u.default.compact(e.map((function(e){return e.trace})))),n}},{key:"runInternalNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.runChildEvals(e,n);return o instanceof Promise?o.then((function(o){return t.runSelf(o,e,n,r)})):this.runSelf(o,e,n,r)}},{key:"runLeafNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.runEval(void 0,e,t,n);return t.trace&&(t.trace.Source=this.model.SourceExpr,t.trace.Result=r),r}},{key:"fromCacheOrRunEval",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.runEval(e,t,n,r)}},{key:"runEval",value:function(e,t,n,r){return null}},{key:"canBeShortCircuited",value:function(e){return!1}},{key:"meetsShortCircuitCondition",value:function(e){return!1}},{key:"source",get:function(){return this.model.SourceExpr}},{key:"hash",get:function(){var e=this._hash;return null==e&&(e=this._hash=d.default.hashCode(this.source||JSON.stringify(this.model))),e}},{key:"mayBeExpensive",get:function(){return Boolean(this.model.MayBeExpensive)}},{key:"isRowList",value:function(){return null!=this.model.RowListAttrIndex||this.model.RowListAttrName}},{key:"isEqualTo",value:function(e){return null!=e&&this.hash===e.hash}},{key:"curry",value:function(e){var t;if(null===(t=e.appModel)||void 0===t?void 0:t.inRollout("curry"))return this.curryRollout(e);var n=(0,f.create)(Object.assign({},this.model));if(null!=this.children)if(n.model.Children=[],this.canBeShortCircuited(e)){var r=this.children;this.mayBeExpensive&&(r=this.children.sort(O));for(var o=[],i=0;i<r.length;i++){var a=r[i].curry(e);if("CONSTANT"===a.evalType()&&this.meetsShortCircuitCondition(a.nativeValue())){o.length=0,o.push(a);break}o.push(a)}n.children=o,n.model.Children=o.map((function(e){return e.model}))}else n.children=this.children.map((function(t,r){var o=t.curry(e);return n.model.Children[r]=o.model,o}));return n.curryThis(e)}},{key:"curryRollout",value:function(e){var t,n=null===(t=this.children)||void 0===t?void 0:t.length;if(null!=this.children&&n){var r,o=this.children,a=this.canBeShortCircuited(e);a&&this.mayBeExpensive&&(r=o=(0,i.default)(this.children).sort(w));for(var l=0;l<n;l++){var u=o[l],s=u.curry(e);if(a&&"CONSTANT"===s.evalType()&&this.meetsShortCircuitCondition(s.nativeValue())){(r=null!=r?r:[]).length=0,r.push(s);break}s!==u&&((r=null!=r?r:(0,i.default)(this.children))[l]=s)}if(r)return this.withCurriedChildren(r).curryThis(e)}return this.curryThis(e)}},{key:"curryThis",value:function(e){return e&&u.default.every(this.children,(function(e){return"CONSTANT"===e.evalType()}))?this.convertToConstant(e):this}},{key:"getLookupValues",value:function(){return null}},{key:"operatorName",value:function(){return this.model.OperatorName}},{key:"evalType",value:function(){return this.model.EvalType}},{key:"colName",value:function(){return this.model.ColName}},{key:"constantValue",value:function(){return this.Value}},{key:"nativeValue",value:function(){return this.NativeValue}},{key:"resultType",value:function(){return this.model.ResultType}},{key:"resultTypeQualifier",value:function(){var e=this.model.ResultTypeQualifier;if("string"==typeof e)try{return JSON.parse(e)}catch(e){return null}return"object"===(0,o.default)(e)?e:null}},{key:"resultAttribute",value:function(){return this._resultAttribute||(this._resultAttribute=new p.default({Name:this.source,Type:this.model.ResultType,TypeAuxData:this.model.ResultTypeQualifier})),this._resultAttribute}},{key:"isThisInCondition",value:function(){return"IN"===this.FunctionName}},{key:"isPure",value:function(){return this.model.IsPure}},{key:"isAtomic",value:function(){return this.model.IsAtomic}},{key:"functionName",value:function(){return this.model.FunctionName}},{key:"boolType",value:function(){return this.model.BoolType}},{key:"toJSON",value:function(){var e;return Object.assign(Object.assign({},this.model),{Children:null===(e=this.children)||void 0===e?void 0:e.map((function(e){return e.toJSON()}))})}},{key:"columnsReferenced",value:function(){return this.model.ColumnsReferenced||[]}},{key:"ancColumnsReferenced",value:function(){return this.model.AncColumnsReferenced}},{key:"tablesReferenced",value:function(){var e;if(!this._tablesReferenced){var t,n=new Set,r=m(null!==(e=this.model.TablesReferenced)&&void 0!==e?e:[]);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=h.AppGlobals.AppModel.findTableCollection(o).rootTable;n.add(i?i.name():o)}}catch(e){r.e(e)}finally{r.f()}this.populateTablesDereferenced(n),this._tablesReferenced=Array.from(n)}return this._tablesReferenced}},{key:"populateTablesDereferenced",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;if(this.RemoteTableName&&e.add(this.RemoteTableName),this.children){var t,n=m(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.populateTablesDereferenced(e)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"referencedTableTimestamps",value:function(){return this.tablesReferenced().map((function(e){var t,n;return null===(n=null===(t=h.AppGlobals.AppModel)||void 0===t?void 0:t.findTableCollection(e).rootTable)||void 0===n?void 0:n.ownTimestamp}))}},{key:"handleRefImageValue",value:function(e,t,n){switch(t){case"Image":case"Drawing":case"Signature":case"Thumbnail":case"File":e&&!(0,g.isImageHandle)(e)&&"string"==typeof e&&e.length>0&&"http"!==e.substr(0,4)&&"data"!==e.substr(0,4)&&e.indexOf("::")<0&&(e=n+"::"+e)}return e}}],[{key:"makeCompactEvaluatable",value:function(e){var t=function e(t,n){for(var r in t)r!==n||t.FunctionName?"object"===(0,o.default)(t[r])&&e(t[r],n):delete t[r]},n=u.default.cloneDeep(e);return["ColumnsReferenced","TablesReferenced","SourceExpr"].forEach((function(e){return t(n,e)})),function e(t){for(var n in t)t[n]?"object"===(0,o.default)(t[n])&&e(t[n]):delete t[n]}(n),n}}]),e}();t.default=E},565722:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(627424)),a=r(n(600861)),l=r(n(856690)),u=r(n(689728)),s=r(n(441588)),c=r(n(861655)),d=r(n(994993)),p=r(n(73808)),f=r(n(496486)),g=r(n(730381)),h=r(n(888861)),m=r(n(189491)),y=L(n(365914)),v=r(n(783918)),b=r(n(593186)),O=r(n(571524)),w=r(n(190644)),S=r(n(385857)),T=L(n(150198)),A=r(n(440587)),k=L(n(302443)),E=r(n(304878)),P=r(n(498967)),C=r(n(107465)),x=r(n(895466)),D=n(213082),R=n(351101),I=n(946094),N=n(166089);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var F=["Date","DateTime","ChangeTimestamp"],B=f.default.keyBy(["SELECT","ORDERBY","IF","IFS","ANY","TOP","SWITCH","LINKTOFILTEREDVIEW"]);function V(e){return e?"Url"===e.type?String(e.value):String(e.attribute.valueToWireFormat(e.value)):""}function U(e){var t;return null==e||""===e||0===e.length||e instanceof A.default&&!e.url||!0===(null===(t=(0,R.getAppModel)())||void 0===t?void 0:t.inRollout("curryNativeValue"))&&Array.isArray(e)&&1===e.length&&U(e[0])}var H=function(e){(0,c.default)(r,e);var t=G(r);function r(e,n){var o;return(0,l.default)(this,r),(o=t.call(this,e,n)).FunctionName=e.FunctionName,o}return(0,u.default)(r,[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return B[this.FunctionName]?this.runLazy(e,t,n):(0,s.default)((0,p.default)(r.prototype),"run",this).call(this,e,t,n)}},{key:"runLazy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(this.FunctionName){case"SELECT":return this.runSelect(e,t,n);case"ORDERBY":return this.runOrderBy(e,t,n);case"IF":return this.runIf(e,t);case"IFS":return this.runIfS(e,t);case"SWITCH":return this.runSwitch(e,t);case"ANY":return this.runAny(e,t);case"TOP":return this.runTop(e,t);case"LINKTOFILTEREDVIEW":return this.runLinkToFilteredView(e,t);default:return null}}},{key:"curry",value:function(e){return B[this.FunctionName]?this.curryLazy(e):(0,s.default)((0,p.default)(r.prototype),"curry",this).call(this,e)}},{key:"runEval",value:function(e,t){var n,r,o,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(this.FunctionName){case"_TODAY":case"TODAY":return(o=new Date).setHours(0,0,0,0),o;case"_TIMENOW":case"TIMENOW":return y.default.timeToDate(y.default.dateToTime(new Date));case"NOW":case"_NOW":return(i=new Date).setMilliseconds(0),i;case"UTCNOW":return this.runUtcNow();case"HOUR":return this.runHour(e);case"MINUTE":return this.runMinute(e);case"SECOND":return this.runSecond(e);case"TOTALHOURS":return this.runTotalHours(e);case"TOTALMINUTES":return this.runTotalMinutes(e);case"TOTALSECONDS":return this.runTotalSeconds(e);case"DAY":return this.runDay(e);case"MONTH":return this.runMonth(e);case"YEAR":return this.runYear(e);case"WEEKDAY":return this.runWeekday(e);case"WEEKNUM":return this.runWeeknum(e);case"ISOWEEKNUM":return this.runIsoWeeknum(e);case"DATE":return this.runDate(e);case"TIME":return this.runTime(e);case"DATETIME":return this.runDateTime(e);case"USERNAME":case"_USERNAME":return N.AppGlobals.AppState.UserInformation.Name;case"USEREMAIL":case"_USEREMAIL":return this.runUserEmail(N.AppGlobals.AppState.UserInformation.AuthUserEmail);case"USERROLE":case"_USERROLE":return this.runUserRole(N.AppGlobals.AppState.UserInformation.UserRole);case"USERLOCALE":return navigator.languages?navigator.languages[0]:navigator.language;case"USERTZOFFSET":return(new Date).getTimezoneOffset();case"HERE":case"_HERE":return null!==(n=null==t?void 0:t.getLatLong(a))&&void 0!==n?n:null;case"UNIQUEID":case"_UNIQUE":return this.runUniqueId(e);case"ISBLANK":return this.runIsBlank(e);case"CONCATENATE":return this.runConcatenate(e);case"CONTAINS":return this.runContains(e);case"STARTSWITH":return this.runStartsWith(e);case"ENDSWITH":return this.runEndsWith(e);case"LEN":return this.runLen(e);case"LEFT":return this.runLeft(e);case"RIGHT":return this.runRight(e);case"MID":return this.runMid(e);case"FIND":return this.runFind(e);case"INITIALS":return this.runInitials(e);case"TEXT":return this.runText(e);case"UPPER":return this.runUpper(e);case"LOWER":return this.runLower(e);case"DOMAINOF":return this.runDomainOf(e);case"SUBSTITUTE":return this.runSubstitute(e);case"SPLIT":return this.runSplit(e);case"TRIM":return this.runTrim(e);case"LIST":return this.runList(e);case"SORT":return this.runSort(e);case"INDEX":return this.runIndex(e);case"IN":return(null===(r=null==t?void 0:t.appModel)||void 0===r?void 0:r.inRollout("curryNativeValue"))?this.runInRollout(e,t):this.runIn(e,t);case"COUNT":case"SUM":case"ANY":case"MIN":case"MAX":case"AVERAGE":case"STDEVP":return this.runAggregate(this.FunctionName,e,t);case"ROUND":case"FLOOR":case"CEILING":return this.runMathRounding(this.FunctionName,e);case"LOG":return this.runMathLog(e);case"MOD":return this.runMathMod(e);case"POWER":return this.runMathPower(e);case"ABS":return this.runMathAbs(e);case"SQRT":return this.runMathSqrt(e);case"RANDBETWEEN":return this.runMathRandBetween(e);case"NUMBER":return this.runNumber(e);case"DECIMAL":return this.runDecimal(e);case"HYPERLINK":return this.runHyperlink(e);case"LINKTEXT":return this.runLinkText(e);case"LINKURL":return this.runLinkUrl(e);case"LAT":return this.runLat(e);case"LONG":return this.runLong(e);case"LATLONG":return this.runLatLong(e);case"XY":return this.runXY(e);case"DISTANCE":return this.runDistance(e,t);case"ENCODEURL":return this.runEncodeUrl(e);case"LINKTOFORM":return this.runLinkToForm(e);case"APP":return this.runApp(e);case"CONTEXT":return this.runContext(e,t);case"WORKDAY":return this.runWorkday(e);case"EOMONTH":return this.runEndOfMonth(e);case"EWOMONTH":return this.runEndWeekdayOfMonth(e);case"EOWEEK":return this.runEndOfWeek(e);case"PREDICT":return this.runPredict(e,t);case"OCR":return this.runOcr(e,t,a);case"OCRTEXT":return this.runOcrText(e,t,a);case"UNIQUE":return this.runUnique(e);case"INTERSECT":return this.runIntersect(e);case"EXTRACT":return this.runExtract(e)}return null}},{key:"runExtract",value:function(e){var t=this,n=e[0].value;if(!n)return[];var r=e[1].value;if(!r)return[];var o,i=[];switch(n.toUpperCase()){case"PRICE":case"PRICES":i=(i=v.default.recognizeCurrency(r,v.default.Culture.English)).filter((function(e){return null!=e})).map((function(e){return t._convertRecognizerPrice(e)}));break;case"NUMBER":case"NUMBERS":i=(i=v.default.recognizeNumber(r,v.default.Culture.English)).filter((function(e){return null!=e})).map((function(e){return parseFloat(e.resolution.value)}));break;case"PHONENUMBER":case"PHONENUMBERS":i=(i=v.default.recognizePhoneNumber(r,v.default.Culture.English)).filter((function(e){return null!=e})).map((function(e){return e.resolution.value}));break;case"CHOICE":case"CHOICES":i=(i=v.default.recognizeBoolean(r,v.default.Culture.English)).filter((function(e){return null!=e})).map((function(e){return e.resolution.value}));break;case"DATETIME":case"DATETIMES":i=(i=this._runExtractDateTimes(r,["datetime","date","time","datetimerange","daterange","timerange"])).map((function(e){return t._convertRecognizerDateTime(e)})).flat();break;case"DATE":case"DATES":i=(i=this._runExtractDateTimes(r,["datetime","date","datetimerange","daterange"])).map((function(e){return t._convertRecognizerDateTime(e)})).flat();break;case"DOMAIN":case"DOMAINS":i=(i=(0,a.default)(r.matchAll(/(\w+(?:[-+.]\w+)*@\w+(?:[-.]\w+)*\.\w+(?:[-.]\w+)*)/g))).filter((function(e){return null!=e})).map((function(e){return e[0]})).map((function(e){var t=e.indexOf("@");return e.substr(t+1)}));break;case"TIME":case"TIMES":i=(i=this._runExtractDateTimes(r,["datetime","time","datetimerange","timerange"])).map((function(e){return t._convertRecognizerDateTime(e)})).flat();break;case"DURATION":case"DURATIONS":for(var l in o=this._runExtractDateTimes(r,["datetimerange","daterange","timerange","duration"])){var u=o[l];if(u.hasOwnProperty("start")&&u.hasOwnProperty("end")){var s=this._convertRecognizerDateTime(u,"start"),c=this._convertRecognizerDateTime(u,"end"),d=y.default.stringifyDuration(y.default.makeDuration((c-s)/1e3));i.push(d)}else if(u.hasOwnProperty("timex")&&u.hasOwnProperty("value")){var p=parseFloat(u.value),f=y.default.stringifyDuration(y.default.makeDuration(p/1e3));i.push(f)}}break;case"EMAIL":case"EMAILS":i=(i=(0,a.default)(r.matchAll(/(\w+(?:[-+.]\w+)*@\w+(?:[-.]\w+)*\.\w+(?:[-.]\w+)*)/g))).filter((function(e){return null!=e})).map((function(e){return e[0]}));break;case"HASHTAG":case"HASHTAGS":i=(i=(0,a.default)(r.matchAll(/(\#\w+(?:-\w+)*)/g))).filter((function(e){return null!=e})).map((function(e){return e[0]}));break;case"MENTION":case"MENTIONS":i=(i=(0,a.default)(r.matchAll(/(\@\w+(?:-\w+)*)/g))).filter((function(e){return null!=e})).map((function(e){return e[0]}))}return i}},{key:"_runExtractDateTimes",value:function(e,t){var n=v.default.recognizeDateTime(e,v.default.Culture.English);return n=(n=n.filter((function(e){return null!=e&&null!=e.resolution})).filter((function(e){return t.includes(e.resolution.values[0].type.toLowerCase())})).filter((function(e){return 0===(0,a.default)(e.text.matchAll(/^(\d+)$/g)).map((function(e){return parseInt(e)})).filter((function(e){return e<1900||e>2050})).length}))).map((function(e){return e.resolution.values[0]}))}},{key:"_convertRecognizerPrice",value:function(e){var t=parseFloat(e.resolution.value,10);return"Cent"===e.resolution.unit?t/100:t}},{key:"_convertRecognizerDateTime",value:function(e,t){return t?this._convertSingleRecognizerDateTime(e[t]):e.hasOwnProperty("start")?[this._convertSingleRecognizerDateTime(e.start),this._convertSingleRecognizerDateTime(e.end)]:this._convertSingleRecognizerDateTime(e.value)}},{key:"_convertSingleRecognizerDateTime",value:function(e){var t;if(/\bGMT[-\+]\d{4}$/.test(e))t=new Date(e);else{var n=(0,a.default)(new Date(e).toString().matchAll(/\b(GMT[-\+]\d{4})\b/g));t=n.length>0?new Date(e+" "+n[0]):new Date(e)}if(isNaN(t)&&e.indexOf(":")>-1){var r=new Date,o=r.getMonth()+1+"/"+r.getDate()+"/"+r.getFullYear();return new Date(o+" "+e)}return t}},{key:"runUnique",value:function(e){var t=e[0].value;if(!t)return null;var n=this.children[0].resultAttribute().nestedAttribute(),r=n.basestType();return f.default.uniqBy(t,(function(e){return(0,D.getTypedChildValue)(e,n,r,!1)}))}},{key:"runIntersect",value:function(e){if(!e||2!==e.length)return null;var t=e[0].value,n=e[1].value;if(!t||!n)return null;var r=this.children[0].resultAttribute().nestedAttribute(),o=r.basestType();return f.default.intersectionBy(t,n,(function(e){return(0,D.getTypedChildValue)(e,r,o,!1)}))}},{key:"getInConditionListInformation",value:function(e){if(this.isThisInCondition()){var t=this.children[1],n=t.resultTypeQualifier(),r=t.resultAttribute();return{elementType:n.ElementType,elementTypeQualifier:T.default.parseAuxData(n.ElementTypeQualifier),elementAttribute:r.nestedAttribute(),values:f.default.uniq(this.children[1].run(e)).filter((function(e){return null!=e&&""!==e}))}}return null}},{key:"runUtcNow",value:function(){var e=new Date,t=e.getTimezoneOffset();return(0,g.default)(e).add(t,"m").toDate()}},{key:"runHour",value:function(e){var t=e[0].value;return y.default.parseDuration(t).hours}},{key:"runMinute",value:function(e){var t=e[0].value,n=y.default.parseDuration(t);return n.mins*(n.isNegative?-1:1)}},{key:"runSecond",value:function(e){var t=e[0].value,n=y.default.parseDuration(t);return n.secs*(n.isNegative?-1:1)}},{key:"runTotalHours",value:function(e){var t=y.default.parseDuration(e[0].value),n=t.hours,r=t.mins,o=t.secs;return(t.isNegative?-1:1)*(Math.abs(n)+r/60+o/3600)}},{key:"runTotalMinutes",value:function(e){var t=y.default.parseDuration(e[0].value),n=t.hours,r=t.mins,o=t.secs;return(t.isNegative?-1:1)*(60*Math.abs(n)+r+o/60)}},{key:"runTotalSeconds",value:function(e){var t=y.default.parseDuration(e[0].value),n=t.hours,r=t.mins,o=t.secs;return(t.isNegative?-1:1)*(3600*Math.abs(n)+60*r+o)}},{key:"runDay",value:function(e){var t=e[0].value;return e[0].attribute.yieldsOneOf(F)&&null!=t&&""!==t?new Date(t).getDate():0}},{key:"runMonth",value:function(e){var t=e[0].value;return e[0].attribute.yieldsOneOf(F)&&null!=t&&""!==t?new Date(t).getMonth()+1:0}},{key:"runYear",value:function(e){var t=e[0].value;return e[0].attribute.yieldsOneOf(F)&&null!=t&&""!==t?new Date(t).getFullYear():0}},{key:"runWeekday",value:function(e){var t=e[0].value;return e[0].attribute.yieldsOneOf(F)&&null!=t&&""!==t?new Date(t).getDay()+1:null}},{key:"runWeeknum",value:function(e){var t=e[0].value;return e[0].attribute.yieldsOneOf(F)&&null!=t&&""!==t?y.default.getWeek(new Date(t)):null}},{key:"runIsoWeeknum",value:function(e){var t=e[0].value;return e[0].attribute.yieldsOneOf(F)&&null!=t&&""!==t?(0,g.default)(new Date(t)).isoWeek():null}},{key:"runDate",value:function(e){var t=e[0].value;if(t){var n=new Date(t);if(n&&!isNaN(n))return n.setHours(0,0,0,0),n}return null}},{key:"runDateTime",value:function(e){var t=e[0].value;if(t){var n=new Date(t);if(n&&!isNaN(n))return n}return null}},{key:"runTime",value:function(e){var t=e[0].value;if(t){var n=new Date(t);return n&&!isNaN(n)?y.default.timeToDate(y.default.dateToTime(n)):y.default.timeToDate(t)}return null}},{key:"runUserEmail",value:function(e){var t=(0,I.getPreviewAsEmail)();return t||e}},{key:"runUserRole",value:function(e){var t;try{if(null===(t=window.parent)||void 0===t?void 0:t.getPreviewAsRole){var n=window.parent.getPreviewAsRole();if(n)return n}}catch(e){}return e}},{key:"runValueInList",value:function(e,t,n){var r=t.value,o=t.attribute,i=e.value,a=e.attribute;if(null!=i&&null!=r){var l,u=Array.isArray(r)?r:[r],s=a.basestType(),c=o.basestType(),d=o.nestedAttribute(),p=d.allNestedTypes(),g=(0,D.getTypedChildValue)(i,a,c,!1),h=[s,d.type(),p,r,n],m=this._typedListValueCacheKey,y=null!=m;if(y)for(var v=0;v<h.length;v++)f.default.isEqual(h[v],m[v])||(y=!1);if(!y){if(n){l=new Set;var b,O=_(u);try{for(O.s();!(b=O.n()).done;){var w=b.value;l.add((0,D.getTypedChildValue)(w,d,s,!1))}}catch(e){O.e(e)}finally{O.f()}}else l=u.map((function(e){return(0,D.getTypedChildValue)(e,d,s,!1)}));this._cachedTypedListValue=l,this._typedListValueCacheKey=h}return(l=this._cachedTypedListValue)instanceof Set?l.has(g):l.includes(g)}return!1}},{key:"runListInList",value:function(e,t,n){var r=this,o=e.value;if(null!=o&&null!=t.value){var i=Array.isArray(o)?o:[o],a=e.attribute.nestedAttribute(),l={type:a.type(),attribute:a};return f.default.every(i.map((function(e){return l.value=e,r.runValueInList(l,t,n)})))}return!1}},{key:"runIn",value:function(e,t){var n,r=e[0],o=e[1],i=null===(n=null==t?void 0:t.appModel)||void 0===n?void 0:n.inRollout("valueInListSet");return r.attribute.isListType()&&!o.attribute.nestedAttribute().isListType()?this.runListInList(r,o,i):this.runValueInList(r,o,i)}},{key:"runInRollout",value:function(e,t){var n,r=e[0],o=r.attribute,i=e[1],a=i.attribute.nestedAttribute(),l=o.isListType(),u=!l,s=a.isListType(),c=!s,d=null===(n=null==t?void 0:t.appModel)||void 0===n?void 0:n.inRollout("valueInListSet");if(u&&s){for(var p=a;p.nestedAttribute().isListType();)p=p.nestedAttribute();var g=f.default.extend({},i,{attribute:p,value:f.default.flattenDeep(i.value)});return this.runValueInList(r,g,d)}return l&&c?this.runListInList(r,i,d):this.runValueInList(r,i,d)}},{key:"runAggregate",value:function(e,t,n){var r,o=t[0].value,i=this.children[0].resultAttribute().nestedAttribute(),a=null==i?void 0:i.type().toLowerCase();if(o&&Array.isArray(o)&&o.length>0)switch(e){case"COUNT":return o.length;case"SUM":return"duration"===a?(0,y.sumDurations)(o):(null==i?void 0:i.isDecimalType())&&(null===(r=null==n?void 0:n.appModel)||void 0===r?void 0:r.inDynamicRolloutByOwnerId("ClientDecimalSum"))?(0,y.sumDecimals)(o):(0,y.sumNumbers)(o);case"MIN":return f.default.min(o);case"MAX":return f.default.max(o);case"AVERAGE":return o.reduce((function(e,t){return e+t}),0)/(o.length||1);case"STDEVP":var l=o.reduce((function(e,t){return e+t}),0)/(o.length||1),u=o.reduce((function(e,t){return e+Math.pow(Math.abs(t-l),2)}),0)/(o.length||1);return Math.sqrt(u)}else switch(e){case"COUNT":case"AVERAGE":case"STDEVP":return 0;case"SUM":return"duration"===a?y.default.stringifyDuration(y.default.makeDuration(0)):0;case"MIN":case"MAX":switch(a){case"number":case"percent":case"decimal":case"price":case"changecounter":return 0;case"duration":return y.default.stringifyDuration(y.default.makeDuration(0));default:return null}default:return null}return null}},{key:"runMathRounding",value:function(e,t){var n=t[0].value;if(null!=n&&""!==n){var r=Number(n);switch(e){case"ROUND":return Math.round(r);case"FLOOR":return Math.floor(r);case"CEILING":return Math.ceil(r)}}return null}},{key:"runMathLog",value:function(e){var t=e[0].value;if(null!=t){var n=Number(t),r=10;if(e.length>1){var o=e[1].value;null!=o&&(r=Number(o))}var i=0;try{i=Math.log(n)/Math.log(r)}catch(e){i=NaN}return isNaN(i)?0:i}return null}},{key:"runMathMod",value:function(e){var t=e[0].value,n=e[1].value;if(null!=t&&null!=n){var r=Number(t),o=Number(n);return 0===o?0:r%o}return null}},{key:"runMathPower",value:function(e){var t=e[0].value,n=e[1].value;if(null!=t&&null!=n){var r=Number(t),o=Number(n);return Math.pow(r,o)}return null}},{key:"runMathAbs",value:function(e){var t=e[0].value;if(null!=t){var n=Number(t);return Math.abs(n)}return null}},{key:"runMathSqrt",value:function(e){var t=e[0].value;if(null!=t){var n=Number(t);return Math.sqrt(n)}return null}},{key:"runMathRandBetween",value:function(e){var t=e[0].value,n=e[1].value;if(null!=t&&null!=n){var r=Number(t),o=Number(n);return o<=r?r:Math.floor(Math.random()*(o+1-r))+r}return null}},{key:"runLen",value:function(e){var t=e[0].value;return null===t?0:t.hasOwnProperty("length")?t.length:String(t).length}},{key:"runNumber",value:function(e){var t=e[0].value;if(!t)return null;var n=Math.round(Number(t));return isNaN(n)?null:n}},{key:"runDecimal",value:function(e){var t=e[0].value;if(!t)return null;var n=Number(t);return isNaN(n)?null:n}},{key:"runLeft",value:function(e){var t=e[0].value,n=e[1].value;return t&&n?String(t).substr(0,Number(n)):null}},{key:"runRight",value:function(e){var t=e[0].value,n=e[1].value;return t&&n?String(t).substr(String(t).length-Number(n)):null}},{key:"runMid",value:function(e){if(!f.default.isArray(e)||3!==e.length)return null;var t=e[0].value?String(e[0].value):"",n=e[1].value,r=e[2].value;return f.default.isInteger(n)&&f.default.isInteger(r)?n<=0||n>t.length?null:t.substr(n-1,r):null}},{key:"runFind",value:function(e){var t=e[0].value,n=e[1].value;return null==t||null==n?0:String(n).indexOf(String(t))+1}},{key:"runInitials",value:function(e){var t=e[0].value;return t?String(t).split(/\s+/).filter((function(e){return e})).map((function(e){return e[0]})).join(""):null}},{key:"runTrim",value:function(e){var t=e[0].value;if(!t)return null;try{return String(t).replace(/(^ +)|( +$)|( +(?= ))/g,"")}catch(e){return t}}},{key:"runText",value:function(e){var t,n=e[0].value;if(!n&&0!==n)return null;if(2===e.length&&"string"==typeof(null===(t=e[1])||void 0===t?void 0:t.value))return function(e,t){var n=t.replace(/[YMDHS]/g,(function(e){return e.toLowerCase()})),r=/(AM\/PM)|(A\/P)/gi;r.test(n)||(n=n.replace(/h/g,"H"));var o=n.replace(r,"A").replace(/[^ymdhHs0A]+/g,(function(e){return"[".concat(e,"]")})).replace(/y/g,"Y").replace(/(^|[^d])(d{1,2})(?!d)/g,(function(e,t,n){return"".concat(t).concat(n.toUpperCase())})).replace(/0/g,"S").replace(/m/g,"M").replace(/(M{1,2})(?=[^dhHy]*s)/g,(function(e){return e.toLowerCase()})).replace(/([hH][^M]*)(M{1,2})/g,(function(e,t,n){return"".concat(t).concat(n.toLowerCase())})),i=e.format(o);return/(A\/P)/gi.test(t)&&(i=e.hour()>=12?i.replace("PM","P"):i.replace("AM","A")),i}((0,g.default)(n),e[1].value);var r=V(e[0]);return e[0].attribute.localizeWireValue(r,{noRefLabel:!0})}},{key:"runApp",value:function(e){return this.runText(e)}},{key:"runContext",value:function(e,t){var r,o,i,a,l,u,s,c,d,p,g,h=V(e[0]).toLowerCase(),m=null,y=null,v=null===(r=t.uiContext)||void 0===r?void 0:r.viewStateKey;if(v){var b=(0,n(673275).getUIStateByKey)(v);m=b.Root,y=b.ControlName||""}else m=null===(i=null===(o=null===window||void 0===window?void 0:window.AppState)||void 0===o?void 0:o.CurrentUIState)||void 0===i?void 0:i.Root,y=(null===(l=null===(a=null===window||void 0===window?void 0:window.AppState)||void 0===a?void 0:a.CurrentUIState)||void 0===l?void 0:l.ControlName)||"";switch(h){case"host":return O.default.InMobileWebView()?"Device":"Browser";case"view":return y;case"viewtype":switch(m){case"fastTable":return"table";case"google-map":return"map";default:return m||""}case"device":return f.default.isFunction(null===(u=null==t?void 0:t.appModel)||void 0===u?void 0:u.GetClientId)?t.appModel.GetClientId():"";case"table":return null===(s=null==t?void 0:t.tableSchema)||void 0===s?void 0:s.sourceTableName();case"appname":return null===(d=null===(c=t.appModel)||void 0===c?void 0:c.appTemplate)||void 0===d?void 0:d.name();case"owneremail":return null===(g=null===(p=t.appModel)||void 0===p?void 0:p.appTemplate)||void 0===g?void 0:g.ownerEmail}return null}},{key:"runUpper",value:function(e){if(!e[0].value)return null;var t=V(e[0]);return t?t.toUpperCase():t}},{key:"runLower",value:function(e){if(!e[0].value)return null;var t=V(e[0]);return t?t.toLowerCase():t}},{key:"runDomainOf",value:function(e){if(!e[0].value)return null;var t=V(e[0]),n=t.lastIndexOf("@");return n<0?null:t?t.substring(n+1).toLowerCase():t}},{key:"runSubstitute",value:function(e){var t=e[0].value;if(!t)return null;var n=e[1].value;if(!n)return t;var r=e[2].value;return r||(r=""),t="string"==typeof t?t:V(e[0]),n="string"==typeof n?n:V(e[1]),r="string"==typeof r?r:V(e[2]),t.replace(new RegExp(y.default.regexEscape(n),"g"),r)}},{key:"runSplit",value:function(e){if(0===e.length)return null;var t=String(e[0].value),n=[];1===e.length?n=[" "]:n=e.slice(1).map((function(e){return e.value})).filter((function(e){return e}));var r,o=[t],i=_(n);try{var a=function(){var e=r.value;o=o.flatMap((function(t){return"string"==typeof t?t.split(e):Array.isArray(t)?t:[t]}))};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return o}},{key:"runConcatenate",value:function(e){return e.reduce((function(e,t){return e+V(t)}),"")}},{key:"runHyperlink",value:function(e){var t=V(e[0]),n=V(e[1]);return new A.default(t,n)}},{key:"runLinkText",value:function(e){var t=e[0].value.linkText||"";return String(t)}},{key:"runLinkUrl",value:function(e){var t=e[0].value.url||"";return String(t)}},{key:"runLat",value:function(e){var t=e[0].value;return(null==t?void 0:t.latitude)?t.latitude:(null==t?void 0:t.x)?t.x:null!==k.default.fromString(t)?k.default.fromString(t).latitude:0}},{key:"runLong",value:function(e){var t=e[0].value;return(null==t?void 0:t.longitude)?t.longitude:(null==t?void 0:t.y)?t.y:null!==k.default.fromString(t)?k.default.fromString(t).longitude:0}},{key:"runLatLong",value:function(e){var t=e[0].value,n=e[1].value;return new k.default(t,n)}},{key:"runXY",value:function(e){var t=e[0].value,n=e[1].value;return new E.default(t,n)}},{key:"runDistance",value:function(e){if(2!==e.length)return 0;var t=e[0],n=e[1];if(!t.attribute.yieldsOneOf(["LatLong","ChangeLocation"])||!n.attribute.yieldsOneOf(["LatLong","ChangeLocation"]))return 0;var r=e[0].value||k.defaultLatLong,o=e[1].value||k.defaultLatLong;return w.default.kmDistance(r.latitude,r.longitude,o.latitude,o.longitude)}},{key:"runEncodeUrl",value:function(e){if(1!==e.length)return"";var t=e[0],n=t.attribute,r=t.value,o=n.valueToWireFormat(r);return(n.isImageType()||"File"===n.type())&&(o=(0,y.getTableFileQueryParsed)(o).fileName||o||""),encodeURIComponent(o)}},{key:"runLinkToForm",value:function(e){var t=window.encodeURIComponent(e[0].value||""),n="",r=[];e.length%2==0?(n=window.encodeURIComponent(f.default.last(e).value||""),r=f.default.slice(e,1,e.length-1)):r=f.default.slice(e,1,e.length);var o=r.filter((function(e,t){return t%2==0})),a=r.filter((function(e,t){return t%2==1})),l={};return f.default.zip(o,a).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1],o=n.attribute.valueToWireFormat(n.value),a=r.attribute.valueToWireFormat(r.value);l[o]=a})),n+"#control="+t+"&defaults="+window.encodeURIComponent(JSON.stringify(l))}},{key:"runContains",value:function(e){var t=e[0].value,n=e[1].value;return null!=t&&null!=n&&(t=String(t),!((n=String(n)).length>t.length)&&t.toLowerCase().indexOf(n.toLowerCase())>=0)}},{key:"runStartsWith",value:function(e){var t=V(e[0]),n=V(e[1]);return t.toLowerCase().startsWith(n.toLowerCase())}},{key:"runEndsWith",value:function(e){var t=V(e[0]),n=V(e[1]);return t.toLowerCase().endsWith(n.toLowerCase())}},{key:"runUniqueId",value:function(e){if(null==e){var t=/^\d+[eE]\d{1,6}$/,n=/^0+\d*$/,r="";do{r=y.default.uuid(8,16).toLowerCase()}while(r.match(t)||r.match(n));return r}return"packeduuid"===String(e[0].value).toLowerCase()?y.default.uuid(22):"uuid"!==String(e[0].value).toLowerCase()||e.length>1?null:y.default.uuid()}},{key:"runIsBlank",value:function(e){return U(e[0].value)}},{key:"runList",value:function(e){return null==e?[]:e.map((function(e){return e.value}))}},{key:"runWorkday",value:function(e){if(!f.default.isArray(e))return null;if(e.length<2||e.length>3)return null;var t=e[0].value,n=e[1].value,r=[];3===e.length&&(r=f.default.compact(e[2].value).map((function(e){return e.valueOf()})));if(!f.default.isDate(t))return null;if(!f.default.isNumber(n))return null;if(!r.every(f.default.isNumber))return null;for(var o=n<0?-1:1,i=Math.abs(n),a=new Date(t),l=0;l<i;l++)do{a.setDate(a.getDate()+o)}while(6===a.getDay()||0===a.getDay()||r.indexOf(a.valueOf())>=0);return a}},{key:"runEndOfMonth",value:function(e){var t=e[0].value,n=e[1].value,r=(0,g.default)(t).add(n,"M").endOf("month").toDate();return r.setHours(0,0,0,0),r}},{key:"runEndWeekdayOfMonth",value:function(e){var t=e[0].value,n=e[1].value,r=(0,g.default)(t).add(n,"M").endOf("month").toDate();return 0===r.getDay()?r.setDate(r.getDate()-2):6===r.getDay()&&r.setDate(r.getDate()-1),r.setHours(0,0,0,0),r}},{key:"runEndOfWeek",value:function(e){var t=(0,g.default)(e[0].value),n=this.runWeekday(e.slice(0,1)),r=t.add(7,"d").add(0-n,"d").toDate();return r.setHours(0,0,0,0),r}},{key:"runOcr",value:function(e,t,n){var r=t.appModel.appTemplate,o=e[0].value,i=r.findOcrModel(o);if(!i)return b.default.ReportErrorOnce({errorMessage:"could not find OCR model"}),null;var a=r.findOcrExtractor(o);if(!a)return b.default.ReportErrorOnce({errorMessage:"could not find OCR extractor"}),null;var l=e[1].value,u=i.table(),s=x.default.from(l,u),c=e[2].value;if(a.hasCachedValue(s)){var d=a.getCachedValue(s);return d.success()?d.getExtractedValue(c):(b.default.ReportErrorOnce({errorMessage:"unable to run OCR extractor",nestedErrorMessage:d.errorMessage()}),null)}return a.extract(s).then((function(e){if(e.success()){var t=e.getExtractedValue(c);n.asyncCallback(t)}else b.default.ReportErrorOnce({errorMessage:"unable to run OCR extractor",nestedErrorMessage:e.errorMessage()})})).catch((function(e){b.default.ReportErrorOnce({errorMessage:"Error caught in OCR extractor",error:e})})),null}},{key:"runOcrText",value:function(e,t,n){var r=t.appModel.appTemplate.ocrTextExtractor(),o=t.tableSchema.sourceTableName(),i=e[0].value,a=x.default.from(i,o);if(r.hasCachedValue(a)){var l=r.getCachedValue(a);return l.success()?l.getExtractedValue("_Text"):(b.default.ReportErrorOnce({errorMessage:"unable to run OCRTEXT extractor",nestedErrorMessage:l.errorMessage()}),null)}return r.extract(a,o).then((function(e){if(e.success()){var t=e.getExtractedValue("_Text");n.asyncCallback(t)}else b.default.ReportErrorOnce({errorMessage:"unable to run OCRTEXT extractor",nestedErrorMessage:e.errorMessage()})})).catch((function(e){b.default.ReportErrorOnce({errorMessage:"Error caught in OCRTEXT extractor",error:e})})),null}},{key:"runPredict",value:function(e,t){var n=e[0].value,r=t.appModel.appTemplate.findPredictor(n);if(!r)return b.default.ReportErrorOnce({errorMessage:"expected predictor"}),null;var o=new C.default(t,[t.rowData]);return r.predict(o)[0]}},{key:"runSort",value:function(e){if(null==e)return[];var t=e[0].attribute.nestedAttribute(),n=!1;2===e.length&&(n=e[1].value);var r=[].concat(e[0].value);return P.default.sort(r,(function(e,r){var o=t.valueComparer(T.ValueFormat.Native)(e,r);return 0!==o?n?-1*o:o:0})),r}},{key:"runIndex",value:function(e){var t=e[0],n=e[1];if(null!=t.value&&null!=n.value){var r=Array.isArray(t.value)?t.value:null,o=Number(n.value);if(r&&r.length>=o&&o>0)return r[o-1]}return null}},{key:"runIf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.children[0].run(e,t);return n?this.children[1].run(e,t):this.children[2].run(e,t)}},{key:"runIfS",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;n<this.children.length;n+=2){var r=this.children[n].run(e,t);if(r&&n+1<this.children.length)return this.children[n+1].run(e,t)}return null}},{key:"runSwitch",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.children[0],r=n.run(e,t),o=n.resultAttribute(),i=o.basestType(),a=function(e,t){var n=t.basestType();return(0,D.getTypedChildValue)(r,o,n,!1)===(0,D.getTypedChildValue)(e,t,i,!1)},l=1;l<this.children.length-2;l+=2){var u=this.children[l],s=u.run(e,t),c=u.resultAttribute();if(a(s,c))return this.children[l+1].run(e,t)}return this.children[this.children.length-1].run(e,t)}},{key:"runLinkToFilteredView",value:function(e){if(null==e)return null;var t=e.appModel.appTemplate,n=String(this.children[0].Value),r=t.findControl(n);if(!r)return null;var o=r.TableOrFolderName,i=t.findRootSchemaForTable(o),a=e.makeNestedContext(i),l=this.children[1].curry(a),u=m.default.makeCompactEvaluatable(l),s=encodeURIComponent(n),c=JSON.stringify(u);return"#control="+s+"&filter="+encodeURIComponent(c)}},{key:"runSelect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e||"function"!=typeof e.getTableColumnSet)return[];var o=this.children[0],i=o.TableName,a=o.RowListAttrName,l=o.RowListAttrIndex,u=o.ColumnIndex,s=o.ContextLevel,c=this.children[1],d=3===this.children.length&&this.children[2].run(e,n),p=r.maxEntries,f=this.resultAttribute(),g=f.nestedAttribute(),h=e.getTableColumnSet(i,u,c,d,p,l,a,s).map((function(e){return(g||f).valueFromWireFormat(e)})),m=g.basestAttribute().type();return h.map((function(e){return t.handleRefImageValue(e,m,i)}))}},{key:"runOrderBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e||"function"!=typeof e.sortData)return[];var r=this.children[0].resultAttribute(),o=r.nestedAttribute(),i=null==o?void 0:o.referencedTableName(),a=this.children[0].run(e,t);if(null==a)return null;if(0===a.length)return[];for(var l=[],u=1;u<this.children.length;u+=2)l.push({sortExpression:this.children[u],descending:u+1<this.children.length&&this.children[u+1].run(e,t)});return e.sortData(a,i,l,n.maxEntries)}},{key:"runAny",value:function(e,t){var n=this.children[0].run(e,t,{maxEntries:1});return n.length>0?n[0]:null}},{key:"runTop",value:function(e,t){var n=this.children[1].run(e,t),r=this.children[0].run(e,t,{maxEntries:n});return r?r.slice(0,n):null}},{key:"curryLazy",value:function(e){var t;switch(this.FunctionName){case"SELECT":return(null===(t=e.appModel)||void 0===t?void 0:t.inRollout("currySelect"))?this.currySelectRollout(e):this.currySelect(e);case"ORDERBY":return this.curryOrderBy(e);default:return(0,s.default)((0,p.default)(r.prototype),"curry",this).call(this,e)}}},{key:"currySelect",value:function(e){var t=!0,n=this.children[2]&&this.children[2].curry(e);if(this.children[0].RowListAttrIndex)t=!1;else if(n&&"CONSTANT"!==n.evalType())t=!1;else{var r=this.makeFakeFilterContext(e,"");"CONSTANT"!==this.children[1].curry(r).evalType()&&(t=!1)}return t?this.convertToConstant(e):n?h.default.create(f.default.extend({},this.model,{Children:[this.children[0].model,this.children[1].model,n.model]})):this}},{key:"currySelectRollout",value:function(e){var t=(0,i.default)(this.children,3),n=t[0],r=t[1],o=t[2],l=n.TableName,u=e.appModel.findTableCollection(l).tableSchema;if(null==u)return this;var s=e.makeNestedContext(u),c=r.curry(s),d=null==o?void 0:o.curry(e),p=this;if(c!==r||d!==o){var f=(0,a.default)(this.children);f[1]=c,d&&(f[2]=d),p=this.withCurriedChildren(f)}var g=n.RowListAttrName,h=n.RowListAttrIndex,m=n.RowListContextLevel,y=null!=g&&null!=h,v=y?e.getColumnValue(g,h,m):void 0,b=!y||null!=v,O=null==d||d.isConstant;if(b&&O){var w=this.makeFakeFilterContext(e,"");if(c.curry(w).isConstant)return p.convertToConstant(e)}return p}},{key:"makeFakeFilterContext",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new S.default(e.appModel,e.tableSchema);return(null===(t=e.appModel)||void 0===t?void 0:t.inRollout("currySelect"))&&r.setParentContext(e),r.getColumnValue=function(t,r,o){return 0===o?n:e.getColumnValue(t,r,o-1)},r.isFakeContext=!0,r}},{key:"currySelectFilterOnly",value:function(e){var t=this.makeFakeFilterContext(e,null);return this.children[1].curry(t)}},{key:"curryOrderBy",value:function(e){var t=h.default.create(f.default.extend({},this.model));return t.model.Children=[],null!=this.children&&(t.children=this.children.map((function(n,r){var o=r%2==0?n.curry(e):n;return t.model.Children[r]=o.model,o}))),t.children.map((function(e,t){return t%2!=0||"CONSTANT"===e.model.EvalType})).every((function(e){return e}))?this.convertToConstant(e):t}},{key:"curryThis",value:function(e){var t;return(null===(t=null==e?void 0:e.appModel)||void 0===t?void 0:t.inRollout("curryNativeValue"))?(0,s.default)((0,p.default)(r.prototype),"curryThis",this).call(this,e):this.children&&0!==this.children.filter((function(e){return"CONSTANT"!==e.model.EvalType})).length?this:this.convertToConstant(e)}}]),r}(m.default);t.default=H},426204:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(861655)),l=r(n(994993)),u=r(n(73808));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var c=function(e){(0,a.default)(n,e);var t=s(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,e,r)).Name=e.Name,i}return(0,i.default)(n,[{key:"runEval",value:function(e,t){var n;if(null!=t){var r=t.getInputParameterValue(this.Name);if(null!==r)return r}return null===(n=e[0])||void 0===n?void 0:n.value}}]),n}(r(n(189491)).default);t.default=c},888861:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.create=S,t.createAnd=_,t.createColFilter=I,t.createColumnLookup=T,t.createColumnSet=E,t.createCompositeBoolean=L,t.createConcatenate=G,t.createConstantValue=A,t.createConstantValueNative=k,t.createEquals=x,t.createFilter=D,t.createIn=R,t.createIsBlank=C,t.createKeyInListFilter=N,t.createNot=P,t.createOr=M,t.createRefsFilter=F,t.createSelect=j,t.default=void 0,t.getFilterDefaults=V,t.getFilterDefaultsAndFullyMapped=B;var o=r(n(627424)),i=r(n(600861)),a=r(n(496486)),l=r(n(593186)),u=r(n(565722)),s=r(n(85945)),c=r(n(17601)),d=r(n(98705)),p=r(n(397013)),f=r(n(213082)),g=r(n(50757)),h=r(n(426204)),m=n(166089);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={FUNCTION:u.default,CONSTANT:s.default,COLUMN:c.default,DEREF:d.default,ARITHMETIC:p.default,BOOLEAN:f.default,COLUMNSET:g.default,PARAM:h.default};function O(e){return S(e)}function w(e){var t;return null===(t=e.Children)||void 0===t?void 0:t.map(O)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=e.EvalType,r=b[n];return r?new r(e,t):(l.default.warnToDevConsole("No evaluation tree class found for ",n),null)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return S({ResultType:t.type(),ResultTypeQualifier:t.auxData(),EvalType:"COLUMN",ColName:t.name(),ColIndex:e.findAttributeIndex(t.name()),ColumnsReferenced:[e.findAttributeIndex(t.name())],ContextLevel:n})}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return S({ResultType:t,ResultTypeQualifier:n,EvalType:"CONSTANT",ConstantValue:e})}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return S({ResultType:t,ResultTypeQualifier:n,EvalType:"CONSTANT",NativeValue:e})}function E(e,t,n,r){return S({ResultType:"List",ResultTypeQualifier:t.isKey()?{ElementType:"Ref",ElementTypeQualifier:JSON.stringify({ReferencedType:t.type(),ReferencedTableName:e.tableOrSliceName(),ReferencedTypeQualifier:t.auxDataString()})}:{ElementType:t.type(),ElementTypeQualifier:t.auxDataString()},EvalType:"COLUMNSET",IsPure:!0,ColIndex:e.findAttributeIndex(t.name()),ColName:t.name(),TableName:e.tableOrSliceName(),RowListAttrName:null==n?void 0:n.name(),RowListAttrIndex:r})}function P(e){return S({ResultType:"Yes/No",EvalType:"BOOLEAN",BoolType:"NOT",IsAtomic:!1,Children:[e.model]})}function C(e){return S({ResultType:"Yes/No",EvalType:"FUNCTION",FunctionName:"ISBLANK",Children:[e.model]})}function x(e,t,n){return S({ResultType:"Yes/No",EvalType:"BOOLEAN",OperatorName:"Equals",IsAtomic:!0,Children:[e.model,t.model],SourceExpr:n})}function D(e,t){return null!=e&&null!=t?x(A(e,t.resultType(),t.resultTypeQualifier()),t):null}function R(e,t,n){return S({ResultType:"Yes/No",EvalType:"FUNCTION",FunctionName:"IN",Children:[e.model,t.model],SourceExpr:n})}function I(e,t,n){var r;return n&&null!=n.name()&&null!=e?n&&"EnumList"===n.type()&&""!==e?R(A(e,null!==(r=n.nestedType())&&void 0!==r?r:"Text",n.baseTypeQualifier()),T(t,n)):x(A(e,n.basestType(),n.baseTypeQualifier()),T(t,n)):null}function N(e,t,n){return n instanceof u.default&&"SELECT"===n.FunctionName?S(n.children[1].model):R(S({ResultType:e,ResultTypeQualifier:t,EvalType:"COLUMN",ColName:"_THISROW"}),n)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return S({ResultType:e.resultType(),ResultTypeQualifier:e.resultTypeQualifier(),EvalType:"FUNCTION",FunctionName:"SELECT",Children:[e.model,t.model,A(n?"Y":"N","Yes/No").model],SourceExpr:r})}function L(e,t){var n=a.default.compact(e),r=a.default.map(n,"model");switch(n.length){case 0:return null;case 1:return n[0];default:return S({ResultType:"Yes/No",EvalType:"BOOLEAN",BoolType:t,IsAtomic:!1,Children:r})}}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return L(t,"AND")}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return L(t,"OR")}function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S({ResultType:"Text",EvalType:"FUNCTION",FunctionName:"CONCATENATE",Children:a.default.map(t,"model")})}function F(e,t,n){var r=[];a.default.forEach(e,(function(e,o){var i=t.refAttributesToTable(o).filter((function(e){return n.findTableCollection(e.referencedTableName(),!0).tableSchema.name()!==t.name()}));i.length&&r.push({refAttribute:i[0],columnValue:e})}));var o=r.map((function(e){var n=e.refAttribute;return I(e.columnValue,t,n)}));return _.apply(void 0,(0,i.default)(o))}function B(e){var t,n=[],r=!1;if(null==e?void 0:e.children)if(null===(t=m.AppGlobals.AppModel)||void 0===t?void 0:t.inRollout("curryNativeValue")){if("BOOLEAN"===e.evalType()&&e.isAtomic()&&"Equals"===e.operatorName()){var i=function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(c.default.is(r)&&0===r.ContextLevel)return r}}catch(e){n.e(e)}finally{n.f()}}(e.children),a=function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(s.default.is(r))return r}}catch(e){n.e(e)}finally{n.f()}}(e.children);i&&a&&(n.push({ColumnName:i.colName(),ColumnValue:a.constantValue()}),r=!0)}else if("BOOLEAN"===e.evalType()&&!e.isAtomic()&&"AND"===e.boolType()){r=!0;for(var l=0;l<e.children.length;l++){var u=B(e.children[l]),d=(0,o.default)(u,2),p=d[0],f=d[1];n=n.concat(p),r=r&&f}}}else{var g=e.model;if("BOOLEAN"===g.EvalType&&g.IsAtomic&&"Equals"===g.OperatorName)"COLUMN"===g.Children[0].EvalType&&"CONSTANT"===g.Children[1].EvalType?(n.push({ColumnName:g.Children[0].ColName,ColumnValue:g.Children[1].ConstantValue}),r=!0):"COLUMN"===g.Children[1].EvalType&&"CONSTANT"===g.Children[0].EvalType&&(n.push({ColumnName:g.Children[1].ColName,ColumnValue:g.Children[0].ConstantValue}),r=!0);else if("FUNCTION"===g.EvalType&&"IN"===g.FunctionName)"COLUMN"===g.Children[1].EvalType&&"CONSTANT"===g.Children[0].EvalType&&(n.push({ColumnName:g.Children[1].ColName,ColumnValue:g.Children[0].ConstantValue}),r=!0);else if("BOOLEAN"===g.EvalType&&!g.IsAtomic&&"AND"===g.BoolType){r=!0;for(var h=0;h<e.children.length;h++){var v=B(e.children[h]),b=(0,o.default)(v,2),O=b[0],w=b[1];n=n.concat(O),r=r&&w}}}return[n,r]}function V(e){return B(e)[0]}var U=Object.assign(Object.assign({},b),{create:S,createColumnLookup:T,createColumnSet:E,createSelect:j,createConstantValue:A,createConstantValueNative:k,createEquals:x,createNot:P,createIn:R,createIsBlank:C,createFilter:D,createColFilter:I,createKeyInListFilter:N,createCompositeBoolean:L,createAnd:_,createOr:M,createConcatenate:G,createRefsFilter:F,getFilterDefaults:V,getFilterDefaultsAndFullyMapped:B});t.default=U},32913:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(593186)),u=function(){function e(t){var n=t.timeoutSec;(0,o.default)(this,e),a.default.isNumber(n)?this.cacheTimeoutSec=n:this.cacheTimeoutSec=30,this.cache={}}return(0,i.default)(e,[{key:"makeRequestKey",value:function(e){return e.resolve()}},{key:"addToCache",value:function(e,t){var n=this;this.cache[e]={timestamp:new Date,object:{promise:t,value:null}},t&&t.then((function(t){n.cache[e]&&(n.cache[e].object.value=t)})).catch((function(e){return l.default.ReportErrorOnce({errorMessage:"Error in addToCache",error:e})})),this.cleanupCache()}},{key:"getFromCache",value:function(e){return this.cache[e]?this.tryEvict(e)?null:this.cache[e].object:null}},{key:"tryEvict",value:function(e){if(!this.cache[e])return!1;var t=this.cache[e],n=new Date,r=t.timestamp;return(n.getTime()-r.getTime())/1e3>this.cacheTimeoutSec&&(delete this.cache[e],!0)}},{key:"cleanupCache",value:function(){var e=this;a.default.keys(this.cache).forEach((function(t){return e.tryEvict(t)}))}}]),e}();t.default=u},747286:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(t){(0,o.default)(this,e),this._model=t}return(0,i.default)(e,[{key:"success",value:function(){return this._model.Success}},{key:"errorMessage",value:function(){return this._model.ErrorMessage}},{key:"getExtractedValue",value:function(e){return this.success()?this._model.Extraction[e]:null}}]),e}();t.default=a},738628:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(747286)),u=r(n(32913)),s=n(34531),c=function(){function e(t){var n=t.appId,r=t.ocrModel,i=t.cacheTimeoutSec,l=t.extractFn;(0,o.default)(this,e),this.appId=n,this.ocrModel=r,this.cache=new u.default({timeoutSec:i}),a.default.isFunction(l)?this.extractFn=l:this.extractFn=s.makeOcrRequest,this.makeRequest=this.makeRequest.bind(this)}return(0,i.default)(e,[{key:"extract",value:function(e){var t=this;return(0,s.getImageData)(e).then((function(){return t.extractHelper(e)}))}},{key:"extractHelper",value:function(e){var t=this.cache.makeRequestKey(e),n=this.cache.getFromCache(t);if(n)return n.promise;var r=(0,s.getImageData)(e).then(this.makeRequest);return this.cache.addToCache(t,r),r}},{key:"hasCachedValue",value:function(e){var t=this.cache.makeRequestKey(e),n=this.cache.getFromCache(t);return!!(null==n?void 0:n.value)}},{key:"getCachedValue",value:function(e){var t=this.cache.makeRequestKey(e),n=this.cache.getFromCache(t);return n?n.value:null}},{key:"makeRequest",value:function(e){var t=this.appId,n=this.ocrModel.name(),r=this.extractFn(t,n,e);return Promise.resolve(r).then((function(e){return new l.default(e)}))}}]),e}();t.default=c},455842:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(t){(0,o.default)(this,e),this.model=t}return(0,i.default)(e,[{key:"name",value:function(){return this.model.Name}},{key:"table",value:function(){return this.model.Table}}]),e}();t.default=a},81873:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=r(n(747286)),u=r(n(32913)),s=n(34531),c=function(){function e(t){var n=t.appId,r=t.cacheTimeoutSec,i=t.extractFn;(0,o.default)(this,e),this.appId=n,this.cache=new u.default({timeoutSec:r}),a.default.isFunction(i)?this.extractFn=i:this.extractFn=s.makeOcrTextRequest,this.makeRequest=this.makeRequest.bind(this)}return(0,i.default)(e,[{key:"extract",value:function(e,t){var n=this;return(0,s.getImageData)(e).then((function(){return n.extractHelper(e,t)}))}},{key:"extractHelper",value:function(e,t){var n=this,r=this.cache.makeRequestKey(e),o=this.cache.getFromCache(r);if(o)return o.promise;var i=(0,s.getImageData)(e).then((function(e){return n.makeRequest(e,t)}));return this.cache.addToCache(r,i),i}},{key:"hasCachedValue",value:function(e){var t=this.cache.makeRequestKey(e),n=this.cache.getFromCache(t);return!!(null==n?void 0:n.value)}},{key:"getCachedValue",value:function(e){var t=this.cache.makeRequestKey(e),n=this.cache.getFromCache(t);return n?n.value:null}},{key:"makeRequest",value:function(e,t){var n=this.appId,r=this.extractFn(n,e,t);return Promise.resolve(r).then((function(e){return new l.default(e)}))}}]),e}();t.default=c},34531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageData=function(e){return new Promise((function(t,n){e.getBase64OrWebUrl((function(e,r){e?n(e):t(r)}))}))},t.makeOcrRequest=function(e,t,n){var l={ImageData:n},u="/api/template/".concat(e,"/ocrExtract/").concat(t);if(i.dynamicRollouts.includeByUserId("AjaxToFetchEditor"))return(0,a.ajaxPost)(u,l,{contentType:"json"}).then((function(e){return e=e||{},r.logger.logEvent(new o.OcrEvent(e.Success)),e}));var s=new Promise((function(e,t){$.postJSON(u,l,e,t)}));return s.then((function(e){e=e||{},r.logger.logEvent(new o.OcrEvent(e.Success))})),s},t.makeOcrTextRequest=function(e,t,n){var l={ImageData:t},u="/api/template/".concat(e,"/ocrText/").concat(n);if(i.dynamicRollouts.includeByUserId("AjaxToFetchEditor"))return(0,a.ajaxPost)(u,l,{contentType:"json"}).then((function(e){return e=e||{},r.logger.logEvent(new o.OcrTextEvent(e.Success)),e}));var s=new Promise((function(e,t){$.postJSON(u,l,e,t)}));return s.then((function(e){e=e||{},r.logger.logEvent(new o.OcrTextEvent(e.Success))})),s};var r=n(318926),o=n(804758),i=n(44617),a=n(635672)},308048:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(){(0,o.default)(this,e),this.columnNames=[],this._columnValues={}}return(0,i.default)(e,[{key:"addColumn",value:function(e,t){this.columnNames.push(e),this._columnValues[e]=t}},{key:"columnValues",value:function(e){return this._columnValues[e]}},{key:"createBagOfWords",value:function(e,t){var n=this;if(null!=this.columnNames){for(var r=[],o=function(t){var o=[];e.forEach((function(e){o.push(n._columnValues[e.model.Name][t])})),r.push(o.join(" "))},i=0;i<this._columnValues[this.columnNames[0]].length;i++)o(i);this.addColumn(t,r)}}}]),e}();t.default=a},944589:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(308048)),l=function(){function e(t){(0,o.default)(this,e),this._colDefs=t}return(0,i.default)(e,[{key:"buildFrom",value:function(e){var t=this._colDefs,n=new a.default,r=e.rows,o=e.singleDataContext;return t.forEach((function(e){var t=e.name(),i=e.formulaEvalTree(),a=[];r.forEach((function(e){o.rowData=e;var t=i.run(o);a.push(t)})),n.addColumn(t,a)})),n}}]),e}();t.default=l},372502:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(t){(0,o.default)(this,e),this.name=t}return(0,i.default)(e,[{key:"columnName",value:function(){return this.name}},{key:"standardize",value:function(e){return e}}]),e}();t.default=a},663207:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ALL_TEXT_FEATURES=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(888861));t.ALL_TEXT_FEATURES="all_text_features";var l=function(){function e(t){(0,o.default)(this,e),this.model=t,this._evalTreeLookup={}}return(0,i.default)(e,[{key:"evalTreeLookup",value:function(e){if(!this._evalTreeLookup[e]){var t=this.model.ExprLookup||{};try{this._evalTreeLookup[e]=a.default.create(t[e])}catch(t){console.warn("Failed to create ExprEvalTree for "+e)}}return this._evalTreeLookup[e]}},{key:"formulaEvalTree",value:function(){return this.evalTreeLookup("Formula")}},{key:"name",value:function(){return this.model.Name}},{key:"type",value:function(){return this.model.Type}}]),e}();t.default=l},116898:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(947787)),l=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"create",value:function(e,t){if("SUPERVISED"===e)return new a.default(t);throw Error("Unknown model type")}}]),e}();t.default=l},973289:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(116898)),l=function(){function e(t){(0,o.default)(this,e),this.model=t}return(0,i.default)(e,[{key:"name",value:function(){return this.model.Name}},{key:"modelType",value:function(){return this.model.ModelType}},{key:"settings",value:function(){return this._settings||(this._settings=a.default.create(this.modelType(),this.model.Settings)),this._settings}},{key:"colDefs",value:function(){return this.settings().allDefinitions()}},{key:"inputColDefs",value:function(){return this.settings().inputDefinitions()}},{key:"outputColDef",value:function(){return this.settings().outputDefinition()}},{key:"predictorReady",value:function(){var e=this.model;return!e.NeedsTraining&&e.Id&&(e.JobId||e.TrainOperationName)}},{key:"id",value:function(){return this.model.Id}},{key:"isLegacy",value:function(){return null==this.model.TrainOperationName}}]),e}();t.default=l},317473:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(805491)),l=r(n(736306)),u=r(n(372502)),s=n(663207),c=function(){function e(t,n){if((0,o.default)(this,e),this.model=t,this.legacy=n,n)this._vocabAssets=t.vocab_assets.map((function(e){return new a.default(e)})),this._stdAssets=t.standardizer_assets.map((function(e){return new l.default(e)})),this._internalColumnNames={};else{for(var r in this._bagOfWords=t.InputProcessing.ApplyBagOfWords,this._assets=new Map,this._internalColumnNames=t.InternalColumnNames,t.InputProcessing.ColumnProcessing){var i=t.InputProcessing.ColumnProcessing[r];1===i.Encoding||2===i.Encoding?this._assets.set(r,new a.default({col_name:r,tokens:i.OrderedVocabulary})):3===i.Encoding?this._assets.set(r,new l.default({col_name:r,mean:i.Mean,std:i.Stdev})):this._assets.set(r,new u.default(r))}1===t.OutputProcessing.Transform&&this._assets.set("output_column",new a.default({col_name:"output_column",tokens:t.OutputProcessing.OutputValues}))}}return(0,i.default)(e,[{key:"getVocabAsset",value:function(e){return this.legacy?this._vocabAssets.find((function(t){return t.columnName()===e})):this._assets.get(e)}},{key:"getStandardizerAsset",value:function(e){return this.legacy?this._stdAssets.find((function(t){return t.columnName()===e})):this._assets.get(e)}},{key:"hasInternalColumnNames",value:function(){return!!this._internalColumnNames&&Object.keys(this._internalColumnNames).length>0}},{key:"getInternalColumnName",value:function(e){if(e===s.ALL_TEXT_FEATURES)return e;var t=this._internalColumnNames[e];if(void 0===t)throw new Error("column not found");return t}}]),e}();t.default=c},985341:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(364687)),i=r(n(856690)),a=r(n(689728)),l=n(635672),u=r(n(317473)),s=r(n(944589)),c=r(n(738181)),d=r(n(593186)),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},f=function(){function e(t){var n=t.predictiveModel,r=t.modelAssets,o=t.tfjsModel,a=t.tf;(0,i.default)(this,e),this.tf=a,this.predictiveModel=n,this.tfjsModel=o,this.modelAssets=r,this.legacy=n.isLegacy(),this.vectorizer=new c.default(n,r);var l=this.predictiveModel.settings().inputDefinitions();this.datasetBuilder=new s.default(l),this.predict=this.predict.bind(this),this.inputTensors=this.inputTensors.bind(this),this.tensorLength=this.tensorLength.bind(this)}return(0,a.default)(e,[{key:"predict",value:function(e){var t=this.tfjsModel;try{var n=this.inputTensors(e),r=t.predict(n);return this.vectorizer.predictionsToValues(r)}catch(e){return d.default.ReportErrorOnce({errorMessage:"Error running predictive model"}),""}}},{key:"inputTensors",value:function(e){var t=this,n=this.datasetBuilder.buildFrom(e),r=this.vectorizer.vectorize(n);return this.legacy?this.tf.tensor2d(r):r.map((function(e){return t.tf.tensor2d(e,[1,t.tensorLength(e)])}))}},{key:"tensorLength",value:function(e){return Array.isArray(e)?e.length:1}}],[{key:"fromDefinition",value:function(t,r){return p(this,void 0,void 0,o.default.mark((function i(){var a,s,c,d,f,g,h,m,y;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all([n.e("vendors-node_modules_tensorflow_tfjs_dist_index_js"),n.e("_4434-_126c-_a298-_181a-_19e2")]).then(n.t.bind(n,843081,23));case 2:return a=i.sent,s=t.Id,c=r.id(),d="/predictiveModels/".concat(s,"/").concat(c,"/tfjs/model.json"),f="/predictiveModels/".concat(s,"/").concat(c,"/assets.json"),g="/api/template/".concat(s,"/trainingJobInfo/").concat(c),i.next=10,new Promise((function(e,t){!function n(r){return p(this,void 0,void 0,o.default.mark((function i(){var a,u,s;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,l.ajaxGet)(g);case 2:(a=o.sent).Success||t("Failed to fetch predictive model ".concat(r," status")),u=a.TrainingJobInfo,"ERROR"!==(s=u.TrainingStatus)&&"FINISHED"!==s?(5e3,setTimeout(n,5e3,r)):e(void 0);case 7:case"end":return o.stop()}}),i)})))}(c)}));case 10:return i.next=12,a.loadLayersModel(d);case 12:return h=i.sent,i.next=15,(0,l.ajaxGet)(f);case 15:return m=i.sent,y=new u.default(m,r.isLegacy()),i.abrupt("return",new e({predictiveModel:r,modelAssets:y,tfjsModel:h,tf:a}));case 18:case"end":return i.stop()}}),i)})))}}]),e}();t.default=f},736306:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=function(){function e(t){(0,o.default)(this,e),this.model=t}return(0,i.default)(e,[{key:"columnName",value:function(){return this.model.col_name}},{key:"mean",value:function(){return this.model.mean}},{key:"std",value:function(){return this.model.std}},{key:"standardize",value:function(e){var t=this.mean(),n=this.std();return n<=0?0:(e-t)/n}}]),e}();t.default=a},947787:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(663207)),l=function(){function e(t){(0,o.default)(this,e),this.model=t}return(0,i.default)(e,[{key:"type",value:function(){return this.model.Type}},{key:"inputDefinitions",value:function(){return this._inputDefs||(this._inputDefs=this.model.InputDefinitions.map((function(e){return new a.default(e)}))),this._inputDefs}},{key:"outputDefinition",value:function(){return this._outputDef||(this._outputDef=new a.default(this.model.OutputDefinition)),this._outputDef}},{key:"allDefinitions",value:function(){var e=this.inputDefinitions();return e.push(this.outputDefinition()),e}}]),e}();t.default=l},738181:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(856690)),a=r(n(689728)),l=r(n(496486)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(663207));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=function(){function e(t,n){(0,i.default)(this,e),this.predictiveModel=t,this.assets=n,this.legacy=t.isLegacy()}return(0,a.default)(e,[{key:"vectorize",value:function(e){var t=this,n=this.predictiveModel.settings().inputDefinitions(),r={};if(!this.legacy&&this.assets._bagOfWords){var o=[],i=[];n.forEach((function(e){"TEXT"===e.model.Type?i.push(e):o.push(e)})),i.length>0&&(o.push(new u.default({Name:u.ALL_TEXT_FEATURES,Type:"TEXT"})),e.createBagOfWords(i,u.ALL_TEXT_FEATURES)),n=o}n.forEach((function(n){var o=n.name(),i=e.columnValues(o).map((function(e){return t.createValues(n,e)}));r[o]=i}));var a=l.default.max(l.default.values(r).map((function(e){return e.length})));if(this.legacy){for(var s=[],c=function(e){var t=[];n.forEach((function(n){var o=n.name(),i=r[o][e];t=t.concat(i)})),s.push(t)},d=0;d<a;d++)c(d);return s}var p=[];return n.forEach((function(e){for(var t=[],n=0;n<a;n++){var o=e.name(),i=r[o][n];t=t.concat(i)}p.push(t)})),p}},{key:"predictionsToValues",value:function(e){switch(this.predictiveModel.outputColDef().type()){case"BOOLEAN":return this.booleanToResults(e);case"NUMERIC":return this.numericToResults(e);case"CATEGORICAL":return this.categoricalToResults(e);default:return[]}}},{key:"booleanToResults",value:function(e){var t=e.dataSync();return Array.from(t).map((function(e){return e>.5}))}},{key:"numericToResults",value:function(e){var t=e.dataSync();return Array.from(t)}},{key:"categoricalToResults",value:function(e){var t=e.argMax(1).dataSync(),n=Array.from(t),r="output_column",o=this.predictiveModel.outputColDef();this.legacy&&o&&null!=o.model.Name&&(r=o.model.Name);var i=this.assets.getVocabAsset(r).tokens();return n.map((function(e){return i[e]}))}},{key:"createValues",value:function(e,t){switch(e.type()){case"NUMERIC":return[this.standardize(e,t)];case"CATEGORICAL":return this.oneHotEncode(e,t);case"BOOLEAN":return this.booleanEncode(e,t);case"TEXT":return this.countTermVector(e,t);default:return[]}}},{key:"normalize",value:function(e){return null==e?this.legacy?this.zeros(1):"[UNK]":String(e||"").toLowerCase().trim()}},{key:"zeros",value:function(e){return l.default.times(e,l.default.constant(0))}},{key:"countTermVector",value:function(e,t){var n=this.normalizeName(e),r=this.assets.getVocabAsset(n).tokens(),o=this.zeros(500);return this.normalize(t).split(/[^a-z0-9]/).forEach((function(e){var t=r.indexOf(e);t<0||t>=500||o[t]++})),o}},{key:"oneHotEncode",value:function(e,t){var n=this.normalizeName(e),r=this.assets.getVocabAsset(n).tokens(),o=this.zeros(r.length),i=this.normalize(t),a=r.indexOf(i);return a>=0&&(o[a]=1),o}},{key:"booleanEncode",value:function(e,t){return this.legacy?[1*t]:null==t?[1,0,0]:t?[0,0,1]:[0,1,0]}},{key:"standardize",value:function(e,t){if(null==t)return this.zeros(1);var n=this.normalizeName(e);return this.assets.getStandardizerAsset(n).standardize(t)}},{key:"normalizeName",value:function(e){var t,n=e.name();return this.legacy?n:(null===(t=this.assets)||void 0===t?void 0:t.hasInternalColumnNames())?this.assets.getInternalColumnName(n):n.replace(/[^A-Za-z0-9_.\-/]+/gi,"_")}}]),e}();t.default=c},805491:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(496486)),l=function(){function e(t){(0,o.default)(this,e),this.model=t,this._lookup={},this.buildLookup()}return(0,i.default)(e,[{key:"buildLookup",value:function(){var e=this._lookup;this.tokens().forEach((function(t,n){e[t]=n}))}},{key:"tokenIndex",value:function(e){var t=this._lookup[e];return a.default.isNumber(t)?t:-1}},{key:"tokens",value:function(){return this.model.tokens}},{key:"columnName",value:function(){return this.model.col_name}}]),e}();t.default=l},249825:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicRolloutContainer=void 0,t.isDevBuild=l;var o=r(n(600861)),i=r(n(856690)),a=r(n(689728));function l(){return null==window.AppSheetJSVersion||window.AppSheetJSVersion.endsWith("-dev")}var u=function(){function e(){(0,i.default)(this,e),this.ownerDynamicRollouts=new Set,this.userDynamicRollouts=new Set}return(0,a.default)(e,[{key:"getStorageFormat",value:function(){return{ownerDynamicRollouts:(0,o.default)(this.ownerDynamicRollouts),userDynamicRollouts:(0,o.default)(this.userDynamicRollouts)}}},{key:"restoreFromStorage",value:function(e){var t=e.ownerDynamicRollouts,n=void 0===t?[]:t,r=e.userDynamicRollouts,o=void 0===r?[]:r;this.ownerDynamicRollouts=new Set(n),this.userDynamicRollouts=new Set(o)}},{key:"update",value:function(e){var t=this,n=e.upstreamAppSheetJSVersion,r=e.ownerDynamicRollouts,o=e.userDynamicRollouts;n===window.AppSheetJSVersion||l()?(this.ownerDynamicRollouts=new Set(r),this.userDynamicRollouts=new Set(o)):(this.ownerDynamicRollouts=new Set(r.filter((function(e){return t.ownerDynamicRollouts.has(e)}))),this.userDynamicRollouts=new Set(o.filter((function(e){return t.userDynamicRollouts.has(e)}))))}},{key:"byOwner",value:function(e){return this.ownerDynamicRollouts.has(e)}},{key:"byUser",value:function(e){return this.userDynamicRollouts.has(e)}}]),e}();t.DynamicRolloutContainer=u},169457:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactAppUrlHandlerInstance=t.ReactAppUrlHandler=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(280129)),l=n(398171),u=r(n(819433)),s=n(397866),c=n(287024);var d={setHash:function(e){window.location.hash=e},get prefixedHash(){return window.location.hash},get unprefixedHash(){return this.prefixedHash.substring(1)},registerHashChangeCallback:function(e){window.addEventListener("hashchange",e)}},p=function(){function e(){var t=this;(0,o.default)(this,e),this.hashInterface=d,this.lastHashSeen="",this.hashHandlers=new Map,this.onHashChange=function(){var e=t.hashInterface.unprefixedHash;e!==t.lastHashSeen&&t.applyHash(e)},this.getCurrentHashState=function(){return t.parse(t.hashInterface.unprefixedHash)}}return(0,i.default)(e,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.hashInterface=e,this.hashInterface.registerHashChangeCallback(this.onHashChange)}},{key:"parse",value:function(e){var t={};try{var n=a.default.parse(e);return Object.assign(Object.assign({},t),n)}catch(e){return t}}},{key:"applyHash",value:function(e){var t=(0,u.default)(),n=t.dispatch,r=t.getState;this.lastHashSeen=e;var o=this.parse(e),i=!1;this.hashHandlers.forEach((function(t,n){var a=t.beforeHashToSlice;a&&(i||(i=a(r()[n],o,e)))})),i||(!function(e){return!Object.keys(e).includes("viewStack")&&!!Object.keys(e).length}(o)?n((0,c.replaceStateForHashMiddleware)(o)):n((0,s.navigateToLegacyHash)("#".concat(e))))}},{key:"register",value:function(e,t){this.hashHandlers.set(e,t)}},{key:"unprefixedHash",get:function(){return this.hashInterface.unprefixedHash}},{key:"updateHash",value:function(e){var t={};this.hashHandlers.forEach((function(n,r){n.sliceToHash(t,e[r])}));var n=a.default.stringify(t,{encode:!1}),r=new URL("".concat(location.origin,"#").concat(n)).hash.substring(1);this.lastHashSeen=r,this.hashInterface.setHash(r)}}]),e}();t.ReactAppUrlHandler=p;var f=new p;t.ReactAppUrlHandlerInstance=f;var g=function(e){return function(t){return function(n){t(n);var r=e.getState();(0,l.getAppModelLastUpdated)(r)&&f.updateHash(e.getState())}}};t.default=g},287024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceStateForHashMiddleware=void 0;var r=(0,n(829829).createAction)("replaceStateForHashMiddleware");t.replaceStateForHashMiddleware=r},613834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(829829),o=n(287024),i=function(e,t){var i=e.initialState;return n(169457).ReactAppUrlHandlerInstance.register(e.name,t),(0,r.createSlice)({name:e.name,initialState:i,reducers:e.reducers,extraReducers:function(n){n.addCase(o.replaceStateForHashMiddleware,(function(e,n){t.hashToSlice(e,n.payload)})),e.extraReducers instanceof Function&&e.extraReducers(n)}})};t.default=i},907673:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Proxy(e,y)};var o=r(n(23279)),i=n(351101),a=n(398171),l=n(994885),u=n(449456),s=r(n(819433)),c=n(95483),d=n(692479),p=n(166089),f=n(557310),g=n(21870),h=n(289276),m=(0,o.default)((function(e){return(0,s.default)().dispatch((0,a.setDataLastUpdated)(e))}),200),y={get:function(e,t){var n,r,o,m,y,v;if(!0===window.APPSHEET_TEST_CONTEXT&&!f.ReactRootUIConfig.isReactRoot())return e[t];switch(t){case"dataStamp":return(0,a.getDataModelLastUpdated)((0,s.default)().getState());case"sideMenuOpen":return(0,l.getSideMenuOpen)((0,s.default)().getState());case"hashState":var b=(0,c.getTopStack)((0,s.default)().getState()).identifier;return{general:{ControlName:"Control"===b.Type?b.Name:void 0}};case"isWideScreen":return(null===(n=null===document||void 0===document?void 0:document.body)||void 0===n?void 0:n.clientWidth)>768;case"setAppTemplate":return function(){};case"headerHeight":case"drawerOpenWidth":case"drawerCloseWidth":return 0;case"widescreenBreakpoint":return 768;case"windowWidth":return null!==(o=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.clientWidth)&&void 0!==o?o:0;case"windowHeight":return null!==(y=null===(m=null===document||void 0===document?void 0:document.body)||void 0===m?void 0:m.clientHeight)&&void 0!==y?y:0;case"footerEntries":var O=(0,a.getAppModelHook)((0,s.default)().getState()),w=(null===(v=null==O?void 0:O.appTemplate)||void 0===v?void 0:v.viewControls())||[],S=function(e){return p.AppGlobals.AppModel.POSITIONS_ORDERED.indexOf(e)};return w.filter((function(e){return e.IsValid&&e.Position!==p.AppGlobals.AppModel.POSITION_MENU&&e.Position!==p.AppGlobals.AppModel.POSITION_REF})).sort((function(e,t){return S(e.Position)-S(t.Position)}));case"syncQueueCount":return(0,i.getAppModel)().NumDelayedActions()+(0,i.getAppModel)().NumProcessingActions();case"syncState":return{get initiatedBy(){return(0,a.getSyncInitiatedBy)((0,s.default)().getState())},get ui(){return(0,a.getSyncUI)((0,s.default)().getState())},get visibility(){var e,t=null!==(e=(0,a.getSyncUI)((0,s.default)().getState()))&&void 0!==e?e:g.SyncUI.Hidden;return g.SyncUI[t]},get notification(){var e;return null!==(e=(0,a.getSyncNotification)((0,s.default)().getState()))&&void 0!==e?e:void 0},get error(){var e;return null!==(e=(0,a.getSyncErrorMessage)((0,s.default)().getState()))&&void 0!==e?e:void 0},set error(e){(0,s.default)().dispatch((0,a.setSyncErrorMessage)(null!=e?e:null))}};case"syncProgressHandle":return(0,h.getReactAppSyncProgressHandle)();case"setCachingProgress":return function(e){return(0,s.default)().dispatch((0,u.setOfflineCacheProgress)(e))};case"totalFilesToCache":return(0,u.getCacheProgress)((0,s.default)().getState()).totalFilesToCache;case"filesCached":return(0,u.getCacheProgress)((0,s.default)().getState()).filesCached;case"filesWithError":return(0,u.getCacheProgress)((0,s.default)().getState()).filesWithError;case"showResetDash":return!1;case"navigateToPreviousHashState":return function(){(0,s.default)().dispatch((0,d.popView)())}}return e[t]},set:function(e,t,n){if(!0===window.APPSHEET_TEST_CONTEXT&&!f.ReactRootUIConfig.isReactRoot())return e[t]=n,!0;switch(t){case"dataStamp":return m(n),!0;case"sideMenuOpen":return(0,s.default)().dispatch((0,l.setSideMenuOpen)(n)),!0;case"headerHeight":return!0}return e[t]=n,!0}}},783252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPECIFIC_STATE_NAME_MAP=void 0;t.SPECIFIC_STATE_NAME_MAP={card:"ListUIState",table:"FastTableUIState",fastTable:"FastTableUIState",dashboard:"DashboardUIState",search:"SearchUIState",deck:"DeckUIState",gallery:"GalleryUIState",slideshow:"SlideshowUIState",detail:"SlideshowUIState",map:"MapUIState","google-map":"MapUIState",chart:"GraphUIState",graph:"GraphUIState",form:"FormUIState",onboarding:"OnboardingUIState",calendar:"CalendarUIState"}},673275:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.generateFilterExpressions=m,t.getCurrentUIState=void 0,t.getUIStateByKey=function(e){var t=(0,c.default)().getState(),n=(0,u.getViewStack)(t),r=b(t),o=(0,u.getSearchTerm)(t),i=(0,u.getGlobalUserDefinedFilters)(t);return y(e?(0,d.findViewStackEntry)(n,e):r,o,i)};var o=r(n(238416)),i=r(n(496486)),a=n(829829),l=n(173399),u=n(95483),s=n(398171),c=r(n(819433)),d=n(307074),p=n(695882),f=n(783252),g=n(319598),h=r(n(888861));function m(e){var t,n=[],r=(0,g.getFilterQuery)(e.Root,e.TableName||void 0,e.UserDefinedFilters).toExpression();n.push(r);try{if(null==e?void 0:e.filterExprString){var o=JSON.parse(e.filterExprString);n.push(h.default.create(o))}}catch(e){}return null!==(t=h.default.createAnd.apply(h.default,n))&&void 0!==t?t:void 0}function y(e,t,n){var r,a,u=(0,l.mapViewStackToControl)(e),s=u.control,d=u.navState,g=u.action,h=i.default.cloneDeep(null!=d?d:{});if(h.UserDefinedFilters=n,h.Root=g,null!=d){var y=m(d);h.FilterExpr=y}var v=g?f.SPECIFIC_STATE_NAME_MAP[g]:null,b=(0,c.default)(),O=Object.assign({Root:g,ControlName:null==s?void 0:s.Name,SearchTerm:t},void 0===b&&{AppTemplateName:null===(a=(0,p.getCurrentAppHook)(null===(r=(0,c.default)())||void 0===r?void 0:r.getState()))||void 0===a?void 0:a.Name});return v?Object.assign(Object.assign({},O),(0,o.default)({},v,h)):O}var v,b=function(e){var t,n=(0,u.getViewStackGroups)(e),r=n.focusedViewGroup;return null!==(t=n.formViews[0])&&void 0!==t?t:r[r.length-1]};function O(){return(0,a.createSelector)([b,u.getSearchTerm,u.getGlobalUserDefinedFilters,s.getAppModelLastUpdated],y)}t.getCurrentUIState=function(){return v||(v=O()),v.apply(void 0,arguments)}},95483:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.getViewStackGroups=t.getViewStack=t.getTopStack=t.getSyncRequestDataStamp=t.getSearchTerm=t.getIsInExpandMode=t.getGlobalUserDefinedFilters=t.getFocusedViewGroup=t.getFocusedView=t.breakViewStackIntoGroups=t.STACKABLE_VIEW_TYPES=t.FULLSCREEN_VIEW_TYPES=void 0;var o=r(n(496486)),i=n(829829),a=n(166089),l=n(557310);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=["slideshow","detail","form","onboarding"];t.STACKABLE_VIEW_TYPES=c;var d=["map","dashboard"];function p(e,t){var n=t.identifier;return"Control"===n.Type?e.FindControl(n.Name):void 0}function f(e,t){var n,r=t.identifier;return"Control"===r.Type?null===(n=p(e,t))||void 0===n?void 0:n.Action:r.Action}t.FULLSCREEN_VIEW_TYPES=d;var g=function(e){return e.uiState.viewStack};t.getViewStack=g;var h=function(e){return e.uiState.focusedView};t.getFocusedView=h;var m=function(e){return e.uiState.isInExpandMode};t.getIsInExpandMode=m;t.getSyncRequestDataStamp=function(e){return e.uiState.syncRequestDataStamp};var y=function(e,t,n,r){var i,a,l;if(!e)return{parentViewGroups:[],focusedViewGroup:[],formViews:[]};var s=o.default.findLastIndex(t,(function(e){return!!e.parentEntriesHidden}));s>0&&(t=t.slice(s));var g=t.findIndex((function(t,n){return"form"===f(e,t)&&0!==n})),h=t,m=[];-1!==g&&(h=t.slice(0,g),m=t.slice(g));var y,v=[],b=[v],O=u(h);try{for(O.s();!(y=O.n()).done;){var w=y.value,S=f(e,w),T=n||d.includes(f(e,w))||"Full screen"===(null===(a=null===(i=p(e,w))||void 0===i?void 0:i.ViewDefinition)||void 0===a?void 0:a.DesktopSplitMode),A=!T&&!c.includes(S);T?(b.push([w]),v=[],b.push(v)):A&&v.length?(v=[w],b.push(v)):v.push(w)}}catch(e){O.e(e)}finally{O.f()}var k=(b=b.filter((function(e){return e.length}))).findIndex((function(e){return e.some((function(e){return e.viewStateKey===r}))}));return-1===k&&(k=b.length-1),{parentViewGroups:b.slice(0,k),focusedViewGroup:null!==(l=b[k])&&void 0!==l?l:[],formViews:m}};t.breakViewStackIntoGroups=y;var v=(0,i.createSelector)([function(){return a.AppGlobals.AppModel},g,m,h],y);t.getViewStackGroups=v;var b=(0,i.createSelector)([v],(function(e){return e.focusedViewGroup}));t.getFocusedViewGroup=b;t.getTopStack=function(e){if(!l.ReactRootUIConfig.isInDesktopExperience())return e.uiState.viewStack[e.uiState.viewStack.length-1];var t=v(e).focusedViewGroup;return t[t.length-1]};t.getSearchTerm=function(e){return e.searchState.searchTerm};t.getGlobalUserDefinedFilters=function(e){return e.searchState.userDefinedFilters}},29827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getControlName=function(e){var t=e.identifier;return"Control"===t.Type?t.Name:null},t.getInSelectionMode=void 0,t.getMutableState=l,t.getSelectedRowIds=t.getPendingTransaction=void 0,t.getTableName=function(e){var t,n=(0,o.getAppModel)(),r=e.identifier;if("View"===r.Type)return r.TableName;var i=null==n?void 0:n.FindControl(r.Name);return null!==(t=null==i?void 0:i.TableOrFolderName)&&void 0!==t?t:void 0},t.getViewInPendingTransactionById=t.getViewInPendingTransaction=t.getViewInEditMode=void 0,t.getViewLabel=function(e,t){var n,r,o,a,l,u=e.identifier;if("View"===u.Type)return u.TableName;var s=null!==(n=u.Name.replace(/_/g," "))&&void 0!==n?n:"View";if(!t)return s;var c=t.FindControl(u.Name);if(!c)return s;var d=t.appTemplate.getView(c.Name);if(!d)return s;var p=d.table(),f=t.findTableCollection(p),g=f.rootTable,h=f.rootTableSchema,m=null!==(o=null===(r=e.mutableState)||void 0===r?void 0:r.RowKey)&&void 0!==o?o:null===(a=e.mutableState)||void 0===a?void 0:a.row;if(d.hasDisplayName()){var y=m?null===(l=null==g?void 0:g.lookupTableRow(m))||void 0===l?void 0:l.values:void 0;return d.displayName(t,h,y,{viewStateKey:e.viewStateKey})}var v=d.name().replace(/_/g," ")||s;if(!p)return v;if(!g||!h||!m)return v;var b=g.labelTextForId(m);if(!b)return v;var O=h.labelBasicAttribute();if("Enum"===(null==O?void 0:O.type())||"EnumList"===(null==O?void 0:O.type())){return(0,i.getLabelValueFromRefRow)({attribute:O,value:b})}return b},t.getViewStackIndex=void 0,t.getViewType=s,t.isBehindFormOverlay=void 0;var r=n(496486),o=n(351101),i=n(178314),a=n(398171);function l(e){var t;return null!==(t=e.mutableState)&&void 0!==t?t:{}}t.getViewStackIndex=function(e,t){return t};var u=function(e){return l(e).selected};t.getSelectedRowIds=u;function s(e){var t,n=(0,o.getAppModel)(),r=e.identifier;if("View"===r.Type)return r.Action;var i=null==n?void 0:n.FindControl(r.Name);return null!==(t=null==i?void 0:i.Action)&&void 0!==t?t:void 0}t.getInSelectionMode=function(){return Array.isArray(u.apply(void 0,arguments))};t.getPendingTransaction=function(e,t,n){var r=(0,a.getAppModelHook)(n);return null==r?void 0:r.dataManager.getTransaction(l(e).transactionId)};t.getViewInEditMode=function(e){return e.uiState.viewStack.find((function(e){return!!e.mutableState.isInEditMode}))};t.getViewInPendingTransaction=function(e){return e.uiState.viewStack.find((function(e){return null!=e.mutableState.transactionId}))};t.getViewInPendingTransactionById=function(e,t){return t.uiState.viewStack.find((function(t){return t.mutableState.transactionId===e}))};t.isBehindFormOverlay=function(e,t,n){return(0,r.some)(n.uiState.viewStack,(function(e,n){return n>t&&"form"===s(e)}))}},398171:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.setTotalActions=t.setSyncTotalActions=t.setSyncProgressPercentage=t.setSyncProgress=t.setSyncErrorMessage=t.setNonRecoverableErrorMsg=t.setIsOnline=t.setDataLastUpdated=t.onSyncStart=t.onSyncError=t.onSyncComplete=t.getSyncUI=t.getSyncTotalActions=t.getSyncStatusText=t.getSyncSeverity=t.getSyncProgressPercentage=t.getSyncNotification=t.getSyncInitiatedBy=t.getSyncIcon=t.getSyncErrorMessage=t.getNonRecoverableErrorMsg=t.getIsOnline=t.getIsLiveAppSynced=t.getIsLiveApp=t.getInSync=t.getDataModelLastUpdated=t.getAppModelLastUpdated=t.getAppModelHook=t.default=t.appModelStateSlice=void 0;var o=n(829829),i=n(351101),a=n(692479),l=r(n(571524)),u=n(629503),s=n(21870),c=r(n(819433)),d={nonRecoverableErrorMsg:null,appLastUpdated:null,dataLastUpdated:null,syncProgressPercentage:null,syncProgress:null,syncErrorMessage:null,syncInitiatedBy:null,syncNotification:null,syncUI:null,isOnline:!0,isLiveApp:!1,isLiveAppSynced:!1,syncTotalActions:0},p=(0,o.createSlice)({name:"appModelState",initialState:d,reducers:{setIsOnline:function(e,t){e.isOnline=t.payload},setTotalActions:function(e,t){e.syncTotalActions=t.payload},setDataLastUpdated:function(e,t){e.dataLastUpdated=t.payload},setNonRecoverableErrorMsg:function(e,t){e.nonRecoverableErrorMsg=t.payload},setSyncProgressPercentage:function(e,t){e.syncProgressPercentage=t.payload},setSyncProgress:function(e,t){e.syncProgress=t.payload},setSyncTotalActions:function(e,t){e.syncTotalActions=t.payload},setSyncErrorMessage:function(e,t){e.syncErrorMessage=t.payload},onSyncStart:function(e,t){var n,r;e.syncProgressPercentage=0,e.syncInitiatedBy=t.payload.initiatedBy,e.syncUI=null!==(n=t.payload.preferredUI)&&void 0!==n?n:s.SyncUI.Subtle,e.syncNotification=null!==(r=t.payload.notification)&&void 0!==r?r:null},onSyncComplete:function(e){e.syncProgressPercentage=null,e.syncErrorMessage=null,e.syncInitiatedBy=null,e.syncUI=null,e.syncNotification=null},onSyncError:function(e,t){e.syncProgressPercentage=null,e.syncErrorMessage=t.payload,e.syncInitiatedBy=null,e.syncUI=null,e.syncNotification=null}},extraReducers:function(e){e.addCase(a.appModelUpdated,(function(e,t){var n,r=(0,i.getAppModel)().appTemplateModel;e.appLastUpdated=Date.now(),document.title=r.ShortName||"",$(".DeepHeader .AppInfo .AppName").text(r.Title||""),$(".DeepHeader .AppInfo .AppVersion").text(r.Version||""),$("#AppDetails").attr("href",(null===(n=r.Behavior.Description)||void 0===n?void 0:n.AboutUrl)||""),l.default.IsAndroidBrowser()||l.default.InAndroidWebView()||($('link[rel="shortcut icon"]').attr("href",u.Common.FlexImageUrl(r.Presentation.LogoUrl)||""),$('link[rel="icon"]').attr("href",u.Common.FlexImageUrl(r.Presentation.LogoUrl)||""))})).addCase(a.appModelUnloaded,(function(){return Object.assign({},d)}))}});t.appModelStateSlice=p;var f=p.actions,g=f.setNonRecoverableErrorMsg,h=f.setDataLastUpdated,m=f.setSyncProgressPercentage,y=f.setSyncProgress,v=f.onSyncStart,b=f.onSyncComplete,O=f.onSyncError,w=f.setIsOnline,S=f.setTotalActions,T=f.setSyncTotalActions,A=f.setSyncErrorMessage;t.setSyncErrorMessage=A,t.setSyncTotalActions=T,t.setTotalActions=S,t.setIsOnline=w,t.onSyncError=O,t.onSyncComplete=b,t.onSyncStart=v,t.setSyncProgress=y,t.setSyncProgressPercentage=m,t.setDataLastUpdated=h,t.setNonRecoverableErrorMsg=g;t.getAppModelHook=function(e){return e.appModel.appLastUpdated?(0,i.getAppModel)():null};t.getAppModelLastUpdated=function(e){return e.appModel.appLastUpdated};t.getDataModelLastUpdated=function(e){return e.appModel.dataLastUpdated};t.getNonRecoverableErrorMsg=function(e){return e.appModel.nonRecoverableErrorMsg};t.getSyncProgressPercentage=function(e){return e.appModel.syncProgressPercentage};t.getSyncErrorMessage=function(e){return e.appModel.syncErrorMessage};t.getSyncInitiatedBy=function(e){return e.appModel.syncInitiatedBy};t.getSyncNotification=function(e){return e.appModel.syncNotification};t.getSyncUI=function(e){return e.appModel.syncUI};t.getInSync=function(e){return null!=e.appModel.syncProgressPercentage};t.getIsOnline=function(e){return e.appModel.isOnline};t.getIsLiveApp=function(e){return e.appModel.isLiveApp};t.getIsLiveAppSynced=function(e){return e.appModel.isLiveAppSynced};t.getSyncTotalActions=function(e){return e.appModel.syncTotalActions};t.getSyncSeverity=function(e){return e.appModel.isOnline?e.appModel.syncErrorMessage?"Error":e.appModel.syncTotalActions?"Warning":"Info":"Offline"};t.getSyncStatusText=function(){var e,t=(0,c.default)().getState().appModel;return t.isOnline?null!=t.syncProgressPercentage?"Syncing":(null===(e=(0,i.getAppModel)())||void 0===e?void 0:e.lastSyncedWithin(3e3))?"SyncedRecently":"":"Offline"};t.getSyncIcon=function(e){return e.appModel.isOnline?e.appModel.syncErrorMessage?"Error":e.appModel.isLiveAppSynced?"LiveAppSynced":e.appModel.isLiveApp?"LiveAppNotSynced":"":"Offline"};var k=p.reducer;t.default=k},695882:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentAppForAppLoadThunk=t.pushCurrentAppForAppLoadThunk=t.popCurrentAppForAppLoadThunk=t.getPreviousAppHook=t.getInvokingAppsHook=t.getCurrentAppHook=t.default=t.appStackSlice=void 0;var o=r(n(593186)),i=r(n(613834)),a=n(369332),l=r(n(819433)),u=n(166089),s=(0,i.default)({name:"appStackState",initialState:{appStack:[{Id:"c37bc8a4-6b53-4e71-812c-2348072cbf2e",Name:"AppGallery-10305",DisplayName:"App Gallery"}]},reducers:{pushCurrentAppForAppLoadThunk:function(e,t){e.appStack.push(t.payload)},popCurrentAppForAppLoadThunk:function(e){e.appStack.length>1&&e.appStack.pop()},updateCurrentAppForAppLoadThunk:function(e,t){e.appStack.length>0?e.appStack[e.appStack.length-1]=t.payload:(e.appStack.push(t.payload),o.default.warnToDevConsole("appStack empty when attempting to update CurrentApp in appStackStateSlice"))}}},{hashToSlice:function(){},sliceToHash:function(e,t){e.appName=t.appStack[t.appStack.length-1].Name},beforeHashToSlice:function(e,t,n){var r=e.appStack,o=r[r.length-1];return!(u.AppGlobals.IsInAppsheetTestContext||!(null==o?void 0:o.Name)||!t.appName||(null==o?void 0:o.Name)===t.appName)&&((0,l.default)().dispatch((0,a.reactAppLoadAppAction)({appName:t.appName,unprefixedHash:n})),!0)}});t.appStackSlice=s;var c=s.actions,d=c.pushCurrentAppForAppLoadThunk,p=c.popCurrentAppForAppLoadThunk,f=c.updateCurrentAppForAppLoadThunk;t.updateCurrentAppForAppLoadThunk=f,t.popCurrentAppForAppLoadThunk=p,t.pushCurrentAppForAppLoadThunk=d;t.getCurrentAppHook=function(e){var t;return null!==(t=e.appStackState.appStack[e.appStackState.appStack.length-1])&&void 0!==t?t:null};t.getPreviousAppHook=function(e){var t;return null!==(t=e.appStackState.appStack[e.appStackState.appStack.length-2])&&void 0!==t?t:null};t.getInvokingAppsHook=function(e){var t=e.appStackState.appStack.slice(0,e.appStackState.appStack.length-1);return t.length>0?t:e.appStackState.appStack.slice(0)};var g=s.reducer;t.default=g},250617:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.cancelEditMode=void 0,t.checkForUnsavedChanges=c,t.startEditMode=t.setPendingTransaction=t.saveAndCloseEditMode=t.mutateViewInEditMode=void 0;var o=r(n(364687)),i=n(166089),a=n(980574),l=n(515128),u=n(692479),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))};t.saveAndCloseEditMode=function(e){return function(t){return s(void 0,void 0,void 0,o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.AppGlobals.AppModel.dataManager.currentTransaction.commitAsync();case 3:return t((0,u.mutateView)({ViewState:{isInEditMode:!1,transactionId:void 0},ViewStateKey:e})),n.abrupt("return",!0);case 7:return n.prev=7,n.t0=n.catch(0),t((0,a.showFailedToSave)((0,l.asError)(n.t0).message)),n.abrupt("return",!1);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))}};t.cancelEditMode=function(e){return function(t){i.AppGlobals.AppModel.dataManager.abortCurrentTransaction(),t((0,u.mutateView)({ViewState:{isInEditMode:!1,transactionId:void 0},ViewStateKey:e}))}};function c(e){var t=function(){var t=n(397930),r=t.checkForUnsavedChangesThunk,o=e.apply(void 0,arguments),i=r(o);return i.onConfirmAction=o,i};return t.onConfirm=e,t}t.setPendingTransaction=function(e,t){return(0,u.mutateView)({ViewState:{transactionId:t},ViewStateKey:e})};var d=c((function(e){return function(t){var n=i.AppGlobals.AppModel.dataManager.currentTransaction;n.startGroup({startedBy:e}),t((0,u.mutateView)({ViewState:{isInEditMode:!0,transactionId:n.id},ViewStateKey:e}))}}));t.startEditMode=d;t.mutateViewInEditMode=function(e){return function(t){var n=i.AppGlobals.AppModel.dataManager.currentTransaction;n.startGroup(),t((0,u.mutateView)({ViewStateKey:e,ViewState:{isInEditMode:!0,transactionId:n.id}}))}}},835288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditorEmulatorId=void 0;var r,o=n(673275),i=n(783252);t.EditorEmulatorId=r,function(e){e.TableName="EmulatorTableName",e.ViewName="EmulatorViewName"}(r||(t.EditorEmulatorId=r={}));var a=function(e){return function(t){return function(n){t(n);var a=(0,o.getCurrentUIState)(e.getState()),l=window.parent.document.getElementById(r.ViewName),u=window.parent.document.getElementById(r.TableName);if(l&&(l.textContent=(null==a?void 0:a.ControlName)||(null==a?void 0:a.Root)||""),u){var s=a.Root||"",c=a[i.SPECIFIC_STATE_NAME_MAP[s]];u.textContent=(null==c?void 0:c.TableName)||""}}}};t.default=a},307074:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ViewStateKey=void 0,t.createViewStateSelector=O,t.findViewStackEntry=function(e,t){return e[b(e,t)]},t.findViewStackIndex=b,t.getParentViews=t.getParentView=t.getChildViews=t.getChildView=void 0,t.useDataContext=T,t.usePendingTransaction=function(){return w(u.getPendingTransaction)},t.useReactAppSelector=t.useReactAppDispatch=void 0,t.useRows=function(e){var t=y(s.getAppModelHook),n=S(),r=T(),a=function(e){var t=(0,i.useRef)(void 0);(0,o.isEqual)(t.current,e)||(t.current=e);return t.current}(e);return(0,i.useMemo)((function(){return null==n?void 0:n.table.queryRowValues(a||{},t,r)}),[n,a,t,r])},t.useTableCollection=S,t.useTriggerForceSync=function(){var e,t=m(),n=y(d.getSyncRequestDataStamp),r=null!==(e=g.AppGlobals.AppModel.lastSuccessfulSyncTimeMs())&&void 0!==e?e:0;(0,i.useEffect)((function(){n&&n>r&&t((0,p.reactAppSyncAction)({initiatedBy:"User",preferredUI:f.SyncUI.Blocking}))}),[n,r,t])},t.useView=function(){var e=y(s.getAppModelHook),t=w(u.getControlName);return t?e.appTemplate.getView(t):null},t.useViewLabel=function(e){var t=y(s.getAppModelLastUpdated),n=y(s.getAppModelHook);return(0,i.useMemo)((function(){return(0,u.getViewLabel)(e,n)}),[e,t])},t.useViewLabels=function(){var e=y(s.getAppModelLastUpdated),t=y(s.getAppModelHook),n=y(d.getViewStack);return(0,i.useMemo)((function(){var e,r={},o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;r[i.viewStateKey]=(0,u.getViewLabel)(i,t)}}catch(e){o.e(e)}finally{o.f()}return r}),[n,e])},t.useViewStackEntry=function(){var e=(0,i.useContext)(v);if(void 0===e)throw new Error("useViewStateSelector called outside a ViewStateKey provider");return(0,a.useSelector)(O(e,(function(e){return e})))},t.useViewStateDispatch=function(){var e=(0,i.useContext)(v);if(void 0===e)throw new Error("useViewStateDispatch called outside a ViewStateKey provider");var t=(0,a.useDispatch)();return function(n){return t(Object.assign(Object.assign({},n),{payload:Object.assign(Object.assign({},n.payload),{ViewStateKey:e})}))}},t.useViewStateSelector=w,t.useViewStateSelectorAll=function(e){return y((function(t){for(var n=(0,d.getViewStack)(t),r={},o=0;o<n.length;o++){var i=n[o];r[i.viewStateKey]=e(i,o,t)}return r}))};var o=n(496486),i=n(667294),a=n(197170),l=r(n(385857)),u=n(29827),s=n(398171),c=n(173399),d=n(95483),p=n(289276),f=n(21870),g=n(166089);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){return(0,a.useDispatch)()};t.useReactAppDispatch=m;var y=a.useSelector;t.useReactAppSelector=y;var v=(0,i.createContext)(void 0);function b(e,t){var n=e.findIndex((function(e){return e.viewStateKey===t}));if(-1===n){var r=e.map((function(e){return e.viewStateKey})).join(", ");throw new Error('failed to find viewStack entry with key "'.concat(t,'", the view stack has the following keys: ').concat(r))}return n}function O(e,t){return function(n){var r=(0,d.getViewStack)(n),o=b(r,e),i=r[o];return t(i,o,n)}}function w(e){var t=(0,i.useContext)(v);if(void 0===t)throw new Error("useViewStateSelector called outside a ViewStateKey provider");return(0,a.useSelector)(O(t,e))}t.ViewStateKey=v;t.getParentViews=function(e,t,n){return n.uiState.viewStack.slice(0,t)};t.getParentView=function(e,t,n){return n.uiState.viewStack[t-1]};t.getChildViews=function(e,t,n){return n.uiState.viewStack.slice(t+1)};function S(){var e=y(s.getAppModelHook),t=w((function(e){return(0,c.mapViewStackToControl)(e).tableName}));return(0,i.useMemo)((function(){return t?e.findTableCollection(t,!0):null}),[e,t])}function T(){var e=y(s.getAppModelHook),t=S(),n=(0,i.useContext)(v);return(0,i.useMemo)((function(){return new l.default(e,null==t?void 0:t.tableSchema,void 0,void 0,void 0,void 0,{viewStateKey:n})}),[e,t,n])}t.getChildView=function(e,t,n){return n.uiState.viewStack[t+1]}},994885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSideMenuOpen=t.setAboutPageOpen=t.getSideMenuOpen=t.getAboutPageOpen=t.default=t.ReactAppLayoutChromeStateSlice=void 0;var r=(0,n(829829).createSlice)({name:"layoutChromeState",initialState:{isSideMenuOpen:!1,isAboutPageOpen:!1},reducers:{setSideMenuOpen:function(e,t){e.isSideMenuOpen=t.payload},setAboutPageOpen:function(e,t){e.isAboutPageOpen=t.payload}}});t.ReactAppLayoutChromeStateSlice=r;var o=r.actions,i=o.setSideMenuOpen,a=o.setAboutPageOpen;t.setAboutPageOpen=a,t.setSideMenuOpen=i;t.getSideMenuOpen=function(e){return e.layoutChromeState.isSideMenuOpen};t.getAboutPageOpen=function(e){return e.layoutChromeState.isAboutPageOpen};var l=r.reducer;t.default=l},369332:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.reactAppLoadInvokingAppAction=t.reactAppLoadAppAction=t.chooseStartControl=void 0;var o=r(n(364687)),i=n(695882),a=n(692479),l=r(n(593186)),u=n(166089),s=n(398171),c=r(n(351101)),d=n(469534),p=r(n(956073)),f=n(717696),g=n(250617),h=n(173399),m=n(629503),y=n(169457),v=n(737351),b=n(263198),O=n(386350),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},S=function(){var e,t=u.AppGlobals.AppModel,n=t.appTemplateModel.Presentation.Controls,r=t.appTemplateModel.Presentation.DefaultStartView,o=t.appTemplateModel.Presentation.ExprLookup;(null==o?void 0:o.StartView)&&(r=t.RunExpression(o.StartView));var i=[t.POSITION_FAR_LEFT,t.POSITION_LEFT,t.POSITION_RIGHT,t.POSITION_FAR_RIGHT,t.POSITION_CENTER,t.POSITION_MENU],a=n.filter((function(e){return e.IsValid&&i.includes(e.Position)})).sort((function(e,t){return i.indexOf(e.Position)-i.indexOf(t.Position)}));return r||(null===(e=a[0])||void 0===e?void 0:e.Name)};t.chooseStartControl=S;var T=function(e,t){return w(void 0,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.default.reset(),n=new Promise((function(e,t){u.AppGlobals.AppModel.Initialize(void 0,e,t)})),t.next=4,n.then((function(t){if(!t.IsRunnable)throw"The ".concat(t.ShortName," app is in an invalid state. Please contact the app creator.");(0,v.installOrUpdateServiceWorker)(),b.JeeneeBrowserAPI.setCurrentApp(t),(0,f.recordAppStartMetrics)(),m.Common.InitializingApp=!0,u.AppGlobals.AppModel.OnAppTemplateLoad(t),b.JeeneeBrowserAPI.OnAppTemplateLoad(t),m.Common.InitializingApp=!1,e((0,h.updateAppStartControl)(S())),e((0,i.updateCurrentAppForAppLoadThunk)({Name:u.AppGlobals.AppModel.AppTemplate.Name,Id:u.AppGlobals.AppModel.AppTemplate.Id,Version:u.AppGlobals.AppModel.AppTemplate.Version,DisplayName:u.AppGlobals.AppModel.AppTemplate.ShortName})),(0,p.default)(t),(0,d.maybeSubscribeToPunctual)(t),(0,O.sendEditorMessage)("app-initialized",{appId:t.Id})})).catch((function(t){l.default.warnToDevConsole("Error loading app,",t),e((0,s.setNonRecoverableErrorMsg)(t))}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))},A=(0,g.checkForUnsavedChanges)((function(){return function(e,t){return w(void 0,void 0,void 0,o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e((0,a.appModelUnloaded)()),e((0,i.popCurrentAppForAppLoadThunk)()),t.next=4,T(e);case 4:e((0,a.appModelUpdated)());case 5:case"end":return t.stop()}}),t)})))}}));t.reactAppLoadInvokingAppAction=A;var k=(0,g.checkForUnsavedChanges)((function(e){var t=e.appName,n=e.appId,r=e.appVersion,l=e.unprefixedHash;return function(e,u){return w(void 0,void 0,void 0,o.default.mark((function u(){return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e((0,a.appModelUnloaded)()),o.next=3,e((0,i.pushCurrentAppForAppLoadThunk)({Id:n,Name:t,Version:r}));case 3:return o.next=5,T(e);case 5:l&&y.ReactAppUrlHandlerInstance.applyHash(l),e((0,a.appModelUpdated)());case 7:case"end":return o.stop()}}),u)})))}}));t.reactAppLoadAppAction=k},334304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(649431),o=n(318926),i=function(){return function(e){return function(t){e(t),o.logger.logEvent(new r.ReduxActionEvent(t.type))}}};t.default=i},980574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showFailedToSave=t.reactAppModalCallbackAction=t.confirmDiscard=void 0;var r=n(351101),o=n(362556);t.reactAppModalCallbackAction=function(e,t){return function(n,r){null==e||e(),t&&n((0,o.closeMessageModal)())}};t.confirmDiscard=function(e){return(0,o.openMessageModal)({title:(0,r.mapActionName)("Discard changes?"),message:(0,r.mapActionName)("Any edits will be lost"),buttons:[{name:(0,r.mapActionName)("Continue editing"),dismiss:!0},{name:(0,r.mapActionName)("Discard"),callback:e,dismiss:!0}]})};t.showFailedToSave=function(e){return(0,o.openMessageModal)({title:(0,r.mapActionName)("Unable to save changes"),message:e,buttons:[{name:(0,r.mapActionName)("OK"),dismiss:!0}]})}},362556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showFormModalError=t.setMessageModalIsProcessing=t.openMessageModal=t.openFormModal=t.getModalState=t.default=t.closeMessageModal=t.closeFormModal=t.ReactAppModalSlice=void 0;var r=(0,n(829829).createSlice)({name:"modal",initialState:{},reducers:{openMessageModal:function(e,t){e.messageModal=t.payload},setMessageModalIsProcessing:function(e,t){e.messageModal&&(e.messageModal.processing=t.payload)},closeMessageModal:function(e){return Object.assign(Object.assign({},e),{messageModal:void 0})},openFormModal:function(e,t){e.formModal=t.payload},showFormModalError:function(e,t){e.formModal&&(e.formModal.errorMessage=t.payload)},closeFormModal:function(e){return Object.assign(Object.assign({},e),{formModal:void 0})}}});t.ReactAppModalSlice=r;var o=r.actions,i=o.openMessageModal,a=o.setMessageModalIsProcessing,l=o.closeMessageModal,u=o.openFormModal,s=o.showFormModalError,c=o.closeFormModal;t.closeFormModal=c,t.showFormModalError=s,t.openFormModal=u,t.closeMessageModal=l,t.setMessageModalIsProcessing=a,t.openMessageModal=i;t.getModalState=function(e){return e.modal};var d=r.reducer;t.default=d},449456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOfflineCacheProgress=t.offlineCacheProgressSlice=t.getCacheProgress=t.default=void 0;var r=n(829829),o=n(692479),i={totalFilesRequested:null,totalFilesToCache:null,filesCached:null,filesWithError:null},a=(0,r.createSlice)({name:"offlineCacheProgress",initialState:i,reducers:{setOfflineCacheProgress:function(e,t){Object.assign(e,t.payload)}},extraReducers:function(e){e.addCase(o.appModelUnloaded,(function(e){return Object.assign(e,i)}))}});t.offlineCacheProgressSlice=a;var l=a.actions.setOfflineCacheProgress;t.setOfflineCacheProgress=l;t.getCacheProgress=function(e){return e.offlineCacheProgress};var u=a.reducer;t.default=u},966488:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.setUserDefinedFilters=t.setSearchTerm=t.searchStateSlice=t.default=void 0;var o=n(692479),i=n(351101),a=r(n(613834));function l(e,t){"newViewStack"===t.type&&(e.searchTerm="",e.tableNameToFilterOn=null);var n=t.payload.Identifier;if("Control"===n.Type){var r=(0,i.getAppModel)().FindControl(n.Name);(null==r?void 0:r.TableOrFolderName)!==e.tableNameToFilterOn&&(e.userDefinedFilters=[],e.tableNameToFilterOn=null,e.searchTerm=null)}}var u={searchTerm:null,userDefinedFilters:[],tableNameToFilterOn:null},s=(0,a.default)({name:"searchState",initialState:u,reducers:{setSearchTerm:function(e,t){e.searchTerm=t.payload.searchTerm,e.tableNameToFilterOn=t.payload.tableNameToFilterOn||null},setUserDefinedFilters:function(e,t){e.userDefinedFilters=t.payload.userDefinedFilters,e.tableNameToFilterOn=t.payload.tableNameToFilterOn}},extraReducers:function(e){e.addCase(o.pushView.onConfirm,l).addCase(o.newViewStack.onConfirm,l).addCase(o.appModelUnloaded,(function(){return Object.assign({},u)}))}},{hashToSlice:function(e,t){e.searchTerm=t.searchTerm||null,e.tableNameToFilterOn=t.tableNameToFilterOn||null,e.userDefinedFilters=t.userDefinedFilters||[]},sliceToHash:function(e,t){var n;t.searchTerm&&(e.searchTerm=t.searchTerm),t.tableNameToFilterOn&&(e.tableNameToFilterOn=t.tableNameToFilterOn),(null===(n=t.userDefinedFilters)||void 0===n?void 0:n.length)>0&&(e.userDefinedFilters=t.userDefinedFilters)}});t.searchStateSlice=s;var c=s.actions,d=c.setSearchTerm,p=c.setUserDefinedFilters;t.setUserDefinedFilters=p,t.setSearchTerm=d;var f=s.reducer;t.default=f},692479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceView=t.pushView=t.popView=t.newViewStack=t.mutateView=t.isViewIdentifierEqual=t.focusView=t.appModelUpdated=t.appModelUnloaded=void 0;var r=n(829829),o=n(250617),i=(0,r.createAction)("appModelUpdated");t.appModelUpdated=i;var a=(0,r.createAction)("appModelUnloaded");t.appModelUnloaded=a;t.isViewIdentifierEqual=function(e,t){return"Control"===e.Type&&"Control"===t.Type?e.Name===t.Name:"View"===e.Type&&"View"===t.Type&&(e.Action===t.Action&&e.TableName===t.TableName)};var l=(0,o.checkForUnsavedChanges)((0,r.createAction)("popView"));t.popView=l;var u=(0,o.checkForUnsavedChanges)((0,r.createAction)("pushView"));t.pushView=u;var s=(0,o.checkForUnsavedChanges)((0,r.createAction)("newViewStack"));t.newViewStack=s;var c=(0,r.createAction)("replaceView");t.replaceView=c;var d=(0,r.createAction)("mutateView");t.mutateView=d;var p=(0,r.createAction)("focusView");t.focusView=p},819433:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.setStoreForTesting=t.generateStore=t.default=void 0;var o=n(829829),i=r(n(398171)),a=r(n(695882)),l=r(n(173399)),u=r(n(315437)),s=r(n(966488)),c=r(n(169457)),d=r(n(835288)),p=r(n(449456)),f=r(n(571524)),g=r(n(994885)),h=n(557310),m=r(n(362556)),y=n(166089),v=r(n(593186)),b=r(n(334304)),O=function(e,t){var n=e.preloadedState;return(0,o.configureStore)({reducer:{appModel:i.default,userInformation:u.default,uiState:l.default,appStackState:a.default,searchState:s.default,offlineCacheProgress:p.default,layoutChromeState:g.default,modal:m.default},middleware:function(e){return e({serializableCheck:{ignoredActions:["modal/openMessageModal"],ignoredPaths:["modal.config.buttons"]}}).concat(null!=t?t:[])},preloadedState:n})};t.generateStore=O;var w=null;t.setStoreForTesting=function(e){w=e};var S=function(){if(w)return w;if(!h.ReactRootUIConfig.isReactRoot())return v.default.ReportErrorOnce({errorMessage:"Attempted access redux store in non-reactroot."}),null;var e=[];return f.default.IsEditorIFramePreview()?e.push(d.default):y.AppGlobals.IsInAppsheetTestContext?e.push(c.default):e.push(c.default,b.default),w=O({},e)};t.default=S},289276:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.reactAppSyncAction=t.reactAppDiscardUnsyncedChangesAction=t.getReactAppSyncProgressHandle=void 0;var o=r(n(364687)),i=n(166089),a=r(n(455127)),l=n(398171),u=n(250617),s=n(692479),c=r(n(819433)),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.default)().dispatch;return new a.default({onProgress:function(t){t.percentDone&&e((0,l.setSyncProgressPercentage)(t.percentDone))},onStart:function(t){e((0,l.onSyncStart)(t))},onFinish:function(){e((0,l.onSyncComplete)()),e(s.appModelUpdated)},onWarning:function(e){},onError:function(t){e((0,l.onSyncError)(t)),e((0,l.setSyncProgressPercentage)(null))},close:function(){},onSyncingStatus:function(e){}})};t.getReactAppSyncProgressHandle=p;var f=(0,u.checkForUnsavedChanges)((function(e){return function(t,n){return d(void 0,void 0,void 0,o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i.AppGlobals.AppModel.SyncData(p(t),e,(function(){}),(function(){}));case 2:case"end":return n.stop()}}),n)})))}}));t.reactAppSyncAction=f;var g=(0,u.checkForUnsavedChanges)((function(e){return function(t,n){return d(void 0,void 0,void 0,o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=i.AppGlobals.AppModel).ClearPersistedActions(),r.ClearLocalState(),t(f(e));case 4:case"end":return n.stop()}}),n)})))}}));t.reactAppDiscardUnsyncedChangesAction=g},173399:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.collapseView=t.closeView=t.ReactAppUIStateSlice=void 0,t.deserializeMutableState=D,t.expandView=void 0,t.generateViewStateKey=O,t.getControlForIdentifier=k,t.mapViewStackToControl=t.isChildFormTransition=void 0,t.resetViewStateKeysForTests=function(){b=0},t.serializeMutableState=x,t.updateAppStartControl=t.setSyncRequestDataStamp=void 0;var o=r(n(600861)),i=r(n(627424)),a=r(n(150361)),l=r(n(639693)),u=r(n(288306)),s=r(n(535937)),c=r(n(610928)),d=n(351101),p=n(692479),f=r(n(613834)),g=r(n(593186)),h=n(166089),m=n(95483),y=n(250617),v=n(29827),b=0;function O(e){return b++,"Control"===e.Type?"".concat(e.Name,"-").concat(b):"".concat(e.Action,"-").concat(e.TableName.replace(/\s/g,"_"),"-").concat(b)}var w={viewStack:[],isInExpandMode:!1},S=function(e,t){return function(e){var t;return"type"in e&&"pushView"===e.type&&!!(null===(t=e.payload.ViewState)||void 0===t?void 0:t.referenceRelationship)}(e)||function(e,t){var n,r;return"type"in e&&"popView"===e.type&&!!(null===(r=null===(n=(0,c.default)(t.viewStack))||void 0===n?void 0:n.mutableState)||void 0===r?void 0:r.referenceRelationship)}(e,t)};t.isChildFormTransition=S;var T=function(e,t){var n,r,o,i=h.AppGlobals.AppModel;if(null==i?void 0:i.appTemplateModel.IsValid){var a=i.appTemplateModel.Presentation.Controls,u=new Set;if(e.viewStack=(0,l.default)(e.viewStack.map((function(e){var t=e.mutableState.transactionId;if(t){if(null==i.dataManager.getTransaction(t)){if(u.has(t))return null;delete e.mutableState.isInEditMode,delete e.mutableState.transactionId}u.add(t)}var n=e.identifier;if("Control"===n.Type){if(null==a.find((function(e){return e.Name===n.Name})))return null}else if(null==i.FindTable(n.TableName))return null;return e}))),0===e.viewStack.length){var s=t?(0,v.getControlName)(t):void 0,c=s?a.filter((function(e){return e.Name!==s})):void 0,d={Type:"Control",Name:(null!==(o=null!==(r=null!==(n=null==c?void 0:c.find((function(t){return t.Name===e.startControl})))&&void 0!==n?n:null==c?void 0:c[0])&&void 0!==r?r:a.find((function(t){return t.Name===e.startControl})))&&void 0!==o?o:a[0]).Name},p={viewStateKey:O(d),identifier:d,mutableState:{}};e.viewStack=[p],e.focusedView=p.viewStateKey,e.isInExpandMode=!1}}};function A(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Error("UIStateSlice reducer is recovering from a bad state");try{t=(0,a.default)(e)}catch(n){t=e}setTimeout((function(){g.default.ReportError(Object.assign(Object.assign({},n),{state:t,error:r,errorMessage:r.message}))}),0),T(e)}function k(e){var t,n=(0,d.getAppModel)();if("Control"===e.Type)return null!==(t=n.FindControl(e.Name))&&void 0!==t?t:void 0;if("View"===e.Type)return n.FindControlsForTable(e.TableName,e.Action,!1)[0];throw new Error("Bad identifier. Expected ControlIdentifier | ViewIdentifier, got ".concat(e))}function E(e,t){var n;if(!t)return{};var r=(0,d.getAppModel)().NavStateForView(e,null!==(n=e.TableOrFolderName)&&void 0!==n?n:"");return(0,s.default)(t,(function(e,t){return r[t]!==e}))}var P=["isInEditMode","ShowLegend","showActionBar","interactiveMode","showTabs","UseCardLayout"],C=["MaxNestedRows","Zoom","CurrentLat","CurrentLng"];function x(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=(0,i.default)(r[n],2),a=o[0],l=o[1];P.includes(a)?t[a]=!0===l?"true":void 0:t[a]=l}return t}function D(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=(0,i.default)(r[n],2),a=o[0],l=o[1];if(P.includes(a))"true"===l&&(t[a]=!0),"false"===l&&(t[a]=!1);else if(C.includes(a)){var u=Number(l);isNaN(u)||(t[a]=u)}else t[a]=l}return t}function R(e){var t,n=null===(t=(0,m.breakViewStackIntoGroups)((0,d.getAppModel)(),e.viewStack,e.isInExpandMode,e.focusedView).focusedViewGroup.at(-1))||void 0===t?void 0:t.viewStateKey,r=e.viewStack.findIndex((function(e){return e.viewStateKey===n}));e.viewStack=e.viewStack.slice(0,r+1)}function I(e){var t=e.viewStack.pop();e.viewStack.length?e.focusedView=e.viewStack[e.viewStack.length-1].viewStateKey:T(e,t),e.viewStack.length<2&&(e.isInExpandMode=!1)}function N(e,t){var n=(0,d.getAppModel)(),r=t.payload.ViewState,o=t.payload.Identifier,i=k(o);if(i)r=E(i,r),o={Type:"Control",Name:i.Name};else if("Control"===o.Type||null==n.FindTable(o.TableName))return void A(e,{action:t});var a=O(o),l={viewStateKey:a,identifier:o,mutableState:null!=r?r:{}};e.viewStack=[l],e.focusedView=a,e.isInExpandMode=!1}function j(e,t){var n,r,i,a=(0,d.getAppModel)(),l=t.payload.ViewState,u=null,s=t.payload.Identifier,c=e.viewStack.findIndex((function(e){return"form"===(0,v.getViewType)(e)})),f=void 0;c>=0&&!S(t,e)?f=c-1:t.payload.ViewStateKey&&(f=e.viewStack.findIndex((function(e){return e.viewStateKey===t.payload.ViewStateKey})));var g=void 0!==f?e.viewStack[f]:void 0;t.payload.RetainFilter&&g&&(l=Object.assign({filterExprString:g.mutableState.filterExprString},l));var h=k(s);if(h)l=E(h,l),u=h.Action,s={Type:"Control",Name:h.Name};else{if("Control"===s.Type||null==(null==a?void 0:a.FindTable(s.TableName)))return void A(e,{action:t});u=s.Action}var m,y={viewStateKey:O(s),identifier:s,mutableState:null!=l?l:{},parentEntriesHidden:null!==(i=null===(r=null===(n=t.payload)||void 0===n?void 0:n.options)||void 0===r?void 0:r.hideParentEntries)&&void 0!==i?i:void 0},b=e.viewStack.find((function(e){return(0,p.isViewIdentifierEqual)(e.identifier,y.identifier)&&e.mutableState.RowKey===y.mutableState.RowKey&&e.mutableState.filterExprString===y.mutableState.filterExprString})),w=e.viewStack.findIndex((function(e){return(0,p.isViewIdentifierEqual)(e.identifier,y.identifier)}));b?(m=b.viewStateKey,b.mutableState=Object.assign(Object.assign({},b.mutableState),l)):-1===w||void 0!==f&&f<w?void 0!==f?(e.viewStack=e.viewStack=[].concat((0,o.default)(e.viewStack.slice(0,f+1)),[y]),m=y.viewStateKey):(e.viewStack=[].concat((0,o.default)(e.viewStack),[y]),m=y.viewStateKey):(e.viewStack=[].concat((0,o.default)(e.viewStack.slice(0,w)),[y]),m=y.viewStateKey),"form"!==u&&(e.focusedView=m,R(e))}function L(e,t){var n,r,o=(0,d.getAppModel)(),i=t.payload;if(!i.ViewStateKey)throw new Error("changeViewReducer called without a ViewStateKey. Dispatch replaceView actions with useViewStateDispatch or provide a ViewStateKey manually.");var a=e.viewStack.findIndex((function(e){return e.viewStateKey===i.ViewStateKey})),l=e.viewStack[a].identifier;if("View"===l.Type){if(null==(null==o?void 0:o.FindTable(l.TableName)))return void A(e,{action:t});e.viewStack[a].mutableState=i.ViewState}else{var u=null!==(n=o.FindControl(l.Name))&&void 0!==n?n:void 0;if(!u)return void A(e,{action:t});var s="replaceView"===t.type?i.ViewState:Object.assign(Object.assign({},e.viewStack[a].mutableState),i.ViewState);e.viewStack[a].mutableState=E(u,s)}(null===(r=i.options)||void 0===r?void 0:r.discardChildren)&&(e.viewStack=e.viewStack.slice(0,a+1))}function _(e,t){e.viewStack.find((function(e){return e.viewStateKey===t.payload}))?(e.focusedView=t.payload,R(e)):A(e,{action:t})}var M=(0,u.default)((function(e){var t;if(!e)return{control:null,navState:null};var n=(0,d.getAppModel)(),r=e.identifier,o=null,i=e.mutableState,a=null,l=null;if("Control"===r.Type){o=n.FindControl(r.Name);var u=n.NavStateForView(o,null!==(t=null==o?void 0:o.TableOrFolderName)&&void 0!==t?t:"");i=Object.assign(Object.assign({controlGroupBy:null==u?void 0:u.GroupBy},u),i),a=null==o?void 0:o.TableOrFolderName,l=null==o?void 0:o.Action}else a=r.TableName,l=r.Action;return{control:o,tableName:a,action:l,navState:i}}));t.mapViewStackToControl=M;var G=(0,f.default)({name:"uiState",initialState:w,reducers:{closeView:function(e,t){var n=e.viewStack.findIndex((function(e){return e.viewStateKey===t.payload}));n>=0&&(n<=e.viewStack.findIndex((function(t){return t.viewStateKey===e.focusedView}))&&(e.focusedView=e.viewStack[n-1].viewStateKey),e.viewStack.splice(n),1===e.viewStack.length&&(e.isInExpandMode=!1))},expandView:function(e,t){var n=e.viewStack.find((function(e){return e.viewStateKey===t.payload}));n&&(e.focusedView=null==n?void 0:n.viewStateKey,e.isInExpandMode=!0,R(e))},collapseView:function(e,t){var n,r=(0,d.getAppModel)();if(-1!==e.viewStack.findIndex((function(e){return e.viewStateKey===t.payload}))){e.focusedView=t.payload,e.isInExpandMode=!1;var o=(0,m.breakViewStackIntoGroups)(r,e.viewStack,e.isInExpandMode,e.focusedView).focusedViewGroup;e.focusedView=null===(n=o.at(-1))||void 0===n?void 0:n.viewStateKey}},updateAppStartControl:function(e,t){e.startControl=t.payload},setSyncRequestDataStamp:function(e,t){e.syncRequestDataStamp=t.payload}},extraReducers:function(e){e.addCase(p.popView.onConfirm,I).addCase(p.pushView.onConfirm,j).addCase(p.newViewStack.onConfirm,N).addCase(p.replaceView,L).addCase(p.mutateView,L).addCase(p.focusView,_).addCase(p.appModelUpdated,(function(e){M.cache.clear&&M.cache.clear(),T(e)})).addCase(p.appModelUnloaded,(function(){return M.cache.clear&&M.cache.clear(),Object.assign({},w)}))}},{hashToSlice:function(e,t){var n,r=(t.viewStack||[]).map((function(e){if(!e.identifier)return null;var t={identifier:e.identifier,mutableState:D(e.mutableState||{}),viewStateKey:e.viewStateKey||O(e.identifier)};return void 0!==e.parentEntriesHidden&&(t.parentEntriesHidden=e.parentEntriesHidden),t})).filter((function(e){return null!=e}));t.at&&(e.syncRequestDataStamp=Math.min(Date.now(),new Date(t.at).valueOf())),e.viewStack=r,e.focusedView=null===(n=r[r.length-1])||void 0===n?void 0:n.viewStateKey,T(e)},sliceToHash:function(e,t){var n=t.viewStack.map((function(e){return Object.assign(Object.assign({},e),{mutableState:x(e.mutableState),viewStateKey:void 0})}));e.viewStack=n}});t.ReactAppUIStateSlice=G;var F=G.actions,B=F.expandView,V=F.collapseView,U=F.updateAppStartControl,H=F.setSyncRequestDataStamp;t.setSyncRequestDataStamp=H,t.updateAppStartControl=U,t.collapseView=V,t.expandView=B;var q=(0,y.checkForUnsavedChanges)(G.actions.closeView);t.closeView=q;var W=G.reducer;t.default=W},315437:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userInformationSlice=t.getUserInformationHook=t.default=void 0;var r=n(829829),o=(0,n(27401).ReadUserInfoFromUStore)(),i=(0,r.createSlice)({name:"userInformation",initialState:o,reducers:{}});t.userInformationSlice=i;t.getUserInformationHook=function(e){return e.userInformation};var a=i.reducer;t.default=a},397930:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.checkForUnsavedChangesThunk=void 0;var o=r(n(364687)),i=n(197170),a=n(29827),l=n(398171),u=n(692479),s=n(250617),c=n(980574),d=n(173399),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))};t.checkForUnsavedChangesThunk=function(e){return function(t,n){return p(void 0,void 0,void 0,o.default.mark((function r(){var f,g,h,m,y;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f=n(),g=(0,l.getAppModelHook)(f),h=(0,a.getViewInPendingTransaction)(f),m="type"in e&&(0,d.isChildFormTransition)(e,f.uiState),!g||!h||m){r.next=15;break}if(y=function(){return p(void 0,void 0,void 0,o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,i.batch)((function(){t((0,s.cancelEditMode)(h.viewStateKey)),t(e)}));case 1:case"end":return n.stop()}}),n)})))},!g.dataManager.currentTransaction.hasUserEdits){r.next=11;break}t((0,u.focusView)(h.viewStateKey)),t((0,c.confirmDiscard)(y)),r.next=13;break;case 11:return r.next=13,y();case 13:r.next=16;break;case 15:t(e);case 16:case"end":return r.stop()}}),r)})))}}},397866:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToLegacyHash=void 0;var o=r(n(364687)),i=r(n(627424)),a=r(n(365914)),l=n(695882),u=n(369332),s=n(759265),c=n(783252),d=r(n(593186)),p=n(173399),f=n(692479),g=n(75212),h=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))};t.navigateToLegacyHash=function(e,t){return function(n,r){return h(void 0,void 0,void 0,o.default.mark((function h(){var m,y,v,b,O,w,S,T,A,k,E,P,C,x,D,R;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(v=e.split("#"),b=(0,i.default)(v,2),O=b[0],w=b[1],S=(0,g.parseHash)(w),T=O||S.appName||S.appId,A=a.default.isGuid(T),k=A?void 0:T,E=A?T:"AppGallery-10305"===k?"c37bc8a4-6b53-4e71-812c-2348072cbf2e":void 0,P=(0,l.getCurrentAppHook)(r()),!(T&&T!==(null==P?void 0:P.Id)&&T!==(null==P?void 0:P.Name)||S.version&&S.version!==(null==P?void 0:P.Version))){o.next=13;break}return o.next=11,n((0,u.reactAppLoadAppAction)({appName:k,appId:E,unprefixedHash:null!=w?w:""}));case 11:o.next=23;break;case 13:if(C=(0,s.hashStringToUIState)("#"+w),(null==(x=null==C?void 0:C[c.SPECIFIC_STATE_NAME_MAP[C.Root]])?void 0:x.FilterExpr)&&(x.filterExprString=JSON.stringify(x.FilterExpr.toJSON()),delete x.FilterExpr),x){o.next=19;break}return d.default.errorToDevConsole(new Error("Failed to decode hash in StateReflector.SwitchApp(".concat(JSON.stringify(e),", ").concat(t,")"))),o.abrupt("return");case 19:C.syncRequestDataStamp&&n((0,p.setSyncRequestDataStamp)(C.syncRequestDataStamp)),D=C.ControlName,R=D?{Type:"Control",Name:D}:{Type:"View",Action:null!==(m=x.Root)&&void 0!==m?m:"",TableName:null!==(y=x.TableName)&&void 0!==y?y:""},n(t?(0,f.pushView)({Identifier:R,ViewState:x,ViewStateKey:t}):(0,f.newViewStack)({Identifier:R,ViewState:x}));case 23:case"end":return o.stop()}}),h)})))}}},759265:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.hashStringToUIState=t.getSpecificUIStateFromHash=void 0;var o,i,a,l,u=r(n(627424)),s=r(n(600861)),c=r(n(238416)),d=r(n(150361)),p=n(351101),f=r(n(888861)),g=r(n(593186)),h=n(75212),m=n(783252),y={card:"card",table:"fastTable",dashboard:"dashboard",deck:"deck",gallery:"gallery",slideshow:"detail",detail:"detail",map:"google-map",chart:"graph",form:"form",search:"search",calendar:"calendar",onboarding:"onboarding",iframe:"iframe"};!function(e){e.Defaults="defaults",e.Filter="filter",e.Group="group",e.MapColumn="mapcolumn",e.QuickEdit="quickedit",e.Row="row",e.Selected="selected",e.Sort="sort",e.Table="table",e.UserDefinedFilters="userfilters"}(i||(i={})),function(e){e.Filter="_filterExpr",e.Group="_groupBy",e.Row="_row",e.Sort="_sortBy",e.Table="_table"}(a||(a={})),function(e){e.DefaultValues="DefaultValues",e.FilterExpr="FilterExpr",e.GroupBy="GroupBy",e.MapColumn="MapCol",e.QuickEdit="isInEditMode",e.RowKey="RowKey",e.Selected="selected",e.SortBy="SortBy",e.TableName="TableName",e.UserDefinedFilters="UserDefinedFilters"}(l||(l={}));var v=(o={},(0,c.default)(o,a.Row,l.RowKey),(0,c.default)(o,a.Table,l.TableName),(0,c.default)(o,a.Filter,l.FilterExpr),(0,c.default)(o,a.Group,l.GroupBy),(0,c.default)(o,a.Sort,l.SortBy),(0,c.default)(o,i.Defaults,l.DefaultValues),(0,c.default)(o,i.Filter,l.FilterExpr),(0,c.default)(o,i.Group,l.GroupBy),(0,c.default)(o,i.QuickEdit,l.QuickEdit),(0,c.default)(o,i.Row,l.RowKey),(0,c.default)(o,i.Selected,l.Selected),(0,c.default)(o,i.Sort,l.SortBy),(0,c.default)(o,i.Table,l.TableName),(0,c.default)(o,i.MapColumn,l.MapColumn),(0,c.default)(o,i.UserDefinedFilters,l.UserDefinedFilters),o),b=new Set([].concat((0,s.default)(Object.values(a)),(0,s.default)(Object.values(i)))),O=new Set([i.Selected,i.Defaults,i.Group,i.Sort,i.QuickEdit,i.UserDefinedFilters,a.Group,a.Sort]),w=function(e){try{return JSON.parse(e)}catch(t){return g.default.warnToDevConsole(t),e}},S=function(e,t){for(var n=(0,d.default)(t),r=0,o=Object.entries(e);r<o.length;r++){var a=(0,u.default)(o[r],2),l=a[0],s=a[1];if(b.has(l)){var c=v[l],p=O.has(l)?w(s):s;void 0!==p&&(n[c]=p)}}if(i.Filter in e){var g=w(e[i.Filter]);n.FilterExpr=f.default.create(g)}return n};t.getSpecificUIStateFromHash=S;t.hashStringToUIState=function(e){var t,n,r;if(e){var o=(0,p.getAppModel)(),i=(0,h.parseHash)(e),a={};a.ControlName=null!==(t=i.view)&&void 0!==t?t:i.control;var l=i.page||(null===(n=o.FindControl(a.ControlName))||void 0===n?void 0:n.Action)||"table";a.Root=y[l]||l,a.DataStamp=o.DataStamp,a.SearchTerm=i.search,i.at&&(a.syncRequestDataStamp=Math.min(Date.now(),new Date(i.at).valueOf()));var u=null!==(r=i.table)&&void 0!==r?r:i._table;if(u&&!a.ControlName){var s=o.FindControlsForTable(u,l,!1);"map"===l&&i.mapcolumn&&(s=s.filter((function(e){var t=o.appTemplate.getViewDefinition(e.Name);return!!t&&(i.mapcolumn===t.MapColumn||u===t.SecondaryTable&&i.mapcolumn===t.SecondaryColumn)}))),s.length&&(a.ControlName=s[0].Name)}return a[m.SPECIFIC_STATE_NAME_MAP[l]]=S(i,a),a}return null}},956073:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.default.applyQueryTheme(e.Presentation.DisplayTheme);o.AppGlobals.ViewManager.theme.setTheme(t,e);var n=o.AppGlobals.AppModel.appTemplate.normalizedFontSize();null!=n&&$("html, body").css("font-size","".concat(n,"px"));if(!window.APPSHEET_TEST_CONTEXT&&null!=e.Presentation.FontFamily){var r=$("body").css("font-family");r&&!r.startsWith(e.Presentation.FontFamily)&&$("body").css("font-family",'"'+e.Presentation.FontFamily+'", '+r)}};var o=n(166089),i=r(n(266522))},717696:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.recordAppStartMetrics=function(){var e;s.appStartsMetric.record(d),l.logger.logAppEvent(u.AppEventName.AppStart,void 0,!0),o.default.isFunction(window.ga)&&window.ga("send",{hitType:"event",eventCategory:"App",eventAction:"AppStart",eventLabel:null===(e=l.logger.getScenario())||void 0===e?void 0:e.scenarioName});var t=(0,i.default)();window.APP_START_TIME=t.toISOString();var n=t.subtract(window.AppSheetPageLoadTime,"ms").valueOf();s.appStartMsMetric.record(n,d)},t.recordBootstrapMetrics=function(){var e=(0,i.default)().subtract(window.AppSheetPageLoadTime,"ms").valueOf();s.appBootstrapMsMetric.record(e,d)};var o=r(n(496486)),i=r(n(730381)),a=r(n(571524)),l=n(318926),u=n(218546),s=n(354632),c=n(557310),d={Device:a.default.GetMetricDevice(),Platform:c.ReactRootUIConfig.isReactRoot()?"react root":"legacy"}},772414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAppsScriptTask=function(e){return"AppsScript"===(null==e?void 0:e.Type)},t.isCallProcessForEachRowNode=function(e){return"CALL_PROCESS_FOR_EACH_ROW"===(null==e?void 0:e.NodeType)},t.isCallProcessNode=function(e){return"CALL_PROCESS"===(null==e?void 0:e.NodeType)},t.isChatTask=function(e){return"Chat"===(null==e?void 0:e.Type)},t.isCompositeAction=function(e,t){return null!=t&&"COMPOSITE"===e.ActionType},t.isIfElseNode=function(e){return"IF_ELSE"===(null==e?void 0:e.NodeType)},t.isRunActionNode=function(e){return"RUN_ACTION"===(null==e?void 0:e.NodeType)},t.isRunTaskNode=function(e){return"RUN_TASK"===(null==e?void 0:e.NodeType)},t.isSendEmailTask=function(e){return"Email"===(null==e?void 0:e.Type)},t.isTakeActionTask=function(e){return"TakeAction"===(null==e?void 0:e.Type)},t.isWaitNode=function(e){return"WAIT"===(null==e?void 0:e.NodeType)},t.isWebhookTask=function(e){return"Webhook"===(null==e?void 0:e.Type)}},540554:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(856690)),i=r(n(689728)),a=r(n(667294)),l=r(n(496486)),u=n(532499),s=n(596179),c=n(239855),d=n(188709),p=n(251347),f=[{label:"Daily",value:"daily",icon:a.default.createElement(c.CalendarTodayIcon,null)},{label:"Weekly",value:"weekly",icon:a.default.createElement(s.DateRangeIcon,null)},{label:"Monthly",value:"monthly",icon:a.default.createElement(u.TodayIcon,null)},{label:"Monthly\n(by week)",value:"monthlyByWeek",icon:a.default.createElement(d.EventAvailableIcon,null)}],g=f.map((function(e){return e.value})),h=[{label:"Sun",value:"0"},{label:"Mon",value:"1"},{label:"Tue",value:"2"},{label:"Wed",value:"3"},{label:"Thu",value:"4"},{label:"Fri",value:"5"},{label:"Sat",value:"6"}],m=[{label:"S",value:"0"},{label:"M",value:"1"},{label:"T",value:"2"},{label:"W",value:"3"},{label:"T",value:"4"},{label:"F",value:"5"},{label:"S",value:"6"}],y=h.map((function(e){return e.value})),v=l.default.range(1,32).map((function(e){return{label:l.default.toString(e),value:l.default.toString(e)}})).concat([{label:"Last day of the month",value:"L"},{label:"Last weekday of the month",value:"LW"}]),b=v.map((function(e){return e.value})),O=new Map(v.map((function(e){return[e.value,e]}))),w=[{label:"1st",value:"#1"},{label:"2nd",value:"#2"},{label:"3rd",value:"#3"},{label:"4th",value:"#4"},{label:"5th",value:"#5"},{label:"Last",value:"L"}],S=w.map((function(e){return e.value})),T=new Map(w.map((function(e){return[e.value,e]})));var A=function(){function e(t){(0,o.default)(this,e),this.fromCron(t)}return(0,i.default)(e,[{key:"frequency",get:function(){return this._frequency},set:function(e){var t;(t=g,p.dynamicRollouts.includeByOwnerId("HourlyAutomationBot")&&t.push("hourly"),t).includes(e)||(e="monthly"),this._frequency=e}},{key:"min",get:function(){return this._min},set:function(e){e=l.default.toInteger(e),e=l.default.clamp(e,0,59),this._min=e}},{key:"hour",get:function(){return this._hour},set:function(e){e=l.default.toInteger(e),e=l.default.clamp(e,0,23),this._hour=e}},{key:"day",get:function(){return this._day},set:function(e){e=l.default.toString(e),b.includes(e)||(e="1"),this._day=e}},{key:"daysOfWeek",get:function(){return this._daysOfWeek},set:function(e){l.default.isArray(e)||(e=[]),e=(e=e.filter((function(e){return y.includes(e)}))).sort(),this._daysOfWeek=e}},{key:"whichWeek",get:function(){return this._whichWeek},set:function(e){S.includes(e)||(e=l.default.first(S)),this._whichWeek=e}},{key:"reset",value:function(){this.frequency="monthly",this.min=0,this.hour=12,this.day=l.default.first(b),this.daysOfWeek=["1"],this.whichWeek=l.default.first(S)}},{key:"fromCron",value:function(e){this.reset();var t=l.default.toString(e).split(" ");if(5!==t.length)return!1;var n=t[1];this.min=t[0],this.hour=n;var r=t[2],o=t[4];if("*"===n)this.frequency="hourly";else if("*"===r&&"*"===o)this.frequency="daily";else if("*"!==r&&"*"===o)this.frequency="monthly",this.day=r;else{if("*"!==r||"*"===o)return!1;var i=S.find((function(e){return o.endsWith(e)}));i?(this.frequency="monthlyByWeek",this.whichWeek=i,this.daysOfWeek=o.replace(i,"").split(",")):(this.frequency="weekly",this.daysOfWeek=o.split(","))}return!0}},{key:"toCron",value:function(){var e;if("daily"===this.frequency)e=[this.min,this.hour,"*","*","*"];else if("weekly"===this.frequency){var t=l.default.join(this.daysOfWeek,",");e=[this.min,this.hour,"*","*",t]}else if("monthly"===this.frequency)e=[this.min,this.hour,this.day,"*","*"];else if("monthlyByWeek"===this.frequency){var n=(l.default.first(this.daysOfWeek)||"1")+this.whichWeek;e=[this.min,this.hour,"*","*",n]}else e="hourly"===this.frequency?[this.min,"*","*","*","*"]:[this.min,this.hour,this.day,"*","*"];return l.default.join(e," ")}},{key:"timeString",value:function(){return e.timeToString({hour:this.hour,min:this.min})}},{key:"daysOfWeekString",value:function(){return this.daysOfWeek.map((function(e){return h[e].label}))}},{key:"whichWeekObject",value:function(){return T.get(this.whichWeek)}},{key:"dayOfMonth",value:function(){return O.get(this.day)}}],[{key:"frequencyOptions",value:function(){return p.dynamicRollouts.includeByOwnerId("HourlyAutomationBot")?[{label:"Hourly",value:"hourly",icon:a.default.createElement(u.TodayIcon,null)}].concat(f):f}},{key:"dayOfWeekOptions",value:function(){return h}},{key:"dayOfWeekSimpleOptions",value:function(){return m}},{key:"dayOptions",value:function(){return v}},{key:"whichWeekOptions",value:function(){return w}},{key:"parseTimeString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/(\d{1,2})\s*\:?\s*(\d{0,2})\s*($|am|pm|AM|PM)/,n=e.match(t)||["","","",""],r=l.default.toInteger(n[1]||"0"),o=l.default.toInteger(n[2]||"0"),i=l.default.lowerCase(n[3]||"");return"am"===i&&12===r&&(r=0),"pm"===i&&r<12&&(r+=12),{hour:r=l.default.clamp(r,0,23),min:o=l.default.clamp(o,0,59)}}},{key:"timeToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=e||{},r=n.min,o=void 0===r?0:r;return o=l.default.clamp(o,0,59)}if(!e||!l.default.isInteger(e.hour)||!l.default.isInteger(e.min))return"12:00 pm";var i=e.hour,a=e.min,u="am";i>=12&&(i-=12,u="pm"),0===i&&(i=12),i=l.default.clamp(i,1,12),a=l.default.clamp(a,0,59);var s=i+":"+(a=l.default.padStart(a,2,"0"))+" "+u;return s}},{key:"normalizeTimeString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.parseTimeString(e),n=this.timeToString(t);return n}}]),e}();t.default=A},629503:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0;var i=r(n(856690)),a=r(n(689728)),l=r(n(496486));n(671734),n(222820);var u,s=r(n(112368)),c=r(n(571524)),d=n(318926),p=n(881219),f=n(218546),g=n(737351),h=r(n(593186)),m=n(365914),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(351101)),v=n(895466),b=n(714067),O=n(429815),w=n(862858),S=n(263198),T=r(n(440587)),A=n(469534),k=n(892148),E=n(166089),P=n(386350),C=r(n(27401)),x=n(717696),D=n(44617);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}t.Common=u;var I="";$(document).on("mouseup","a",(function(e){I=e.currentTarget.href,setTimeout((function(){I=null}),500)}));var N=window.onbeforeunload?window.onbeforeunload:function(){};window.onbeforeunload=function(){u.IsPopupUrl(I)||(N.call(window),h.default.AddTraceContext("BeforeWindowUnload"),d.logger.endAllScenarios({result:w.ScenarioResult.Abandon,abandonReason:w.ScenarioAbandonReason.UserNavigatedAway}))};var j=window.onfocus?window.onfocus:function(){};window.onfocus=function(){j.call(window),window.QuiesceApp=!1,h.default.AddTraceContext("AfterWindowLoad")};var L=function(){function e(){(0,i.default)(this,e),this.FADE_IN_DURATION_MS=300,this.FADE_OUT_DURATION_MS=400,this.InitializingApp=!1,this.PhoneWidth=480,this.TabletWidth=768,this.SmallDesktopWidth=992,this.RunningInTestFramework=!1,this.PrivilegedUsers={25410:!0,25411:!0},this.imageCache={},this.uploadRequests={},this.awaitingUploadRequests={}}return(0,a.default)(e,[{key:"DeployVersion",get:function(){return window.AppSheetJSVersion}},{key:"OnLocalHost",value:function(){return k.WindowWrapper.location.hostname.indexOf("localhost")>=0}},{key:"rescaleCanvas",value:function(e){var t=parseInt($(e).attr("width"),10)/$(e).width();e.getContext("2d").setTransform(t,0,0,t,0,0)}},{key:"StartBackendCall",value:function(){$("#header").trigger("startBackendCall.appsheet")}},{key:"FinishBackendCall",value:function(){$("#header").trigger("finishBackendCall.appsheet")}},{key:"IsPopupUrl",value:function(e){if("string"!=typeof e)return!1;var t=e.toLowerCase();return 0===t.indexOf("mailto:")||0===t.indexOf("tel:")||0===t.indexOf("sms:")}},{key:"Show1TrackHelp",value:function(e,t){var n=this;if($("#GetStartedList").hide(),e){var r=$("#"+t);r.dialog({create:function(e){$(e.target).parent().css("position","fixed")},open:function(){$("#FullScreenOverlay").show(),n.FixDialogPosition(r)},close:function(){$("#FullScreenOverlay").hide()},zIndex:10005,position:"center",width:500,title:$("#"+t).attr("dialogTitle")})}}},{key:"FixDialogPosition",value:function(e,t){var n=e.outerWidth(),r=e.outerHeight();n<=1&&(n=t),r<=1&&(r=500);var o=e.offset(),i=$(window);if(o.left<i.scrollLeft()||o.left+n>i.scrollLeft()+i.width()){var a=i.width()/2-n/2;"absolute"===e.parents(".ui-dialog").css("position")&&(a+=i.scrollLeft()),e.parents(".ui-dialog").css("left",a)}if(o.top<i.scrollTop()||o.top+r>i.scrollTop()+i.height()){var l=i.height()/2-r/2;"absolute"===e.parents(".ui-dialog").css("position")&&(l+=i.scrollTop()),e.parents(".ui-dialog").css("top",l)}}},{key:"BeginOfflineCaching",value:function(){E.AppGlobals.ViewManager.ShowStorageInProgress()}},{key:"FinishedCachingCallback",value:function(){E.AppGlobals.ViewManager.HideStorageInProgress()}},{key:"FlexImageUrl",value:function(e,t){var n,r,o;if(!e)return" ";if("string"!=typeof e)return(0,v.isImageHandle)(e)?null!==(n=v.ImageHandle.from(e).getUrlForImgSrc())&&void 0!==n?n:" ":e instanceof T.default?null!==(r=e.url)&&void 0!==r?r:" ":(h.default.ReportErrorOnce({errorMessage:"Unexpected imageUrl type in FlexImageUrl",stringified:null===(o=JSON.stringify(e))||void 0===o?void 0:o.slice(0,100)}),e);if("data:"===e.substr(0,5))return e;var i=e.includes("?")?"&":"?",a=b.GETIMAGEURL_PATTERN.test(e)||b.GETREMOTEIMAGEURL_PATTERN.test(e);if(/\.svg($|[\?#])|format=svg/.test(e)||e.indexOf("quickchart.io")>0||e.indexOf("drive.google.com")>0||e.indexOf("placeholder.pics")>0||e.indexOf("robohash.org")>0||e.indexOf("avataaars.io")>0||e.indexOf("pixelixe.com")>0)return e;if(!(!a&&e.indexOf("jeenee")<0&&e.indexOf("appsheetios")<0&&e.indexOf(b.REMOTE_URL_BASE)<0&&e.indexOf("gettablefileurl")<0&&e.indexOf(b.CLOUDFLARE_URL_BASE)<0&&e.indexOf("content.force.com")<0&&e.indexOf("via.placeholder.com")<0))return 0===e.indexOf(b.CLOUDFLARE_URL_BASE)?(e.indexOf("&w=")<0&&(e+="".concat(i,"w=").concat(null!=t?t:600)),e):e.indexOf("gettablefileurl")>0?e+="".concat(i,"resizeImage=true&imageWidth=").concat(null!=t?t:600):a?(e.indexOf("width=")<0&&(e+="".concat(i,"width=").concat(null!=t?t:600)),e):e.toLowerCase().indexOf("fsimage")>=0?(0===e.indexOf("http://")&&(e=e.replace("http://","https://")),e):(0,m.normalizeTextIconUrl)(e);try{return b.GETREMOTEIMAGEURL_BASE+"?url="+encodeURIComponent(decodeURIComponent(e))+"&width="+(null==t?600:t)}catch(t){return e}}},{key:"InitializeApp",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{this.InitializingApp=!0,E.AppGlobals.AppState.Initialize(n,o),E.AppGlobals.AppState.AppTemplate={Id:e,Name:n,Version:o},E.AppGlobals.ViewManager.Initialize(),window.InputHandler.Initialize(),S.JeeneeBrowserAPI.notifyJavaScriptLoaded(),S.JeeneeBrowserAPI.setNativeLocalizationStrings&&S.JeeneeBrowserAPI.setNativeLocalizationStrings([]),E.AppGlobals.AppState.UserInformation.Id!==E.AppGlobals.AppState.GuestUserInformation.Id&&(s.default.IsAndroidAppWithMinVersion()&&!c.default.IsUnsupportedAndroidVersion()?window.JeeneeAndroid.setOnTokenRefreshListener("JeeneeBrowserAPI.onNewNotificationToken('{0}')"):s.default.IsAndroidAppWithMinVersion(10.5)&&!c.default.IsUnsupportedAndroidVersion()&&window.JeeneeAndroid.setOnTokenRefreshListener("JeeneeBrowserAPI.onNewNotificationToken('{0}', '{1}', '{2}')"),s.default.IsIOSAppWithMinVersion(10.6)?S.JeeneeBrowserAPI.setOnTokenRefreshListenerIOS({listener:"JeeneeBrowserAPI.onNewNotificationToken('{0}', '{1}', '{2}')"}):s.default.IsIOSAppWithMinVersion(9.9)&&$.ajax({type:"POST",async:!1,url:"/jeenee_new?method=setOnTokenRefreshListener",data:{listener:"JeeneeBrowserAPI.onNewNotificationToken('{0}')"}}));var i=function(){h.default.AddTraceContext("Common.fetchDataAndStart",{appId:e,appName:n}),(0,p.abortOutstandingCalls)(),E.AppGlobals.AppModel.discardPendingAppModel(),c.default.IsAndroid4()&&$("body").addClass("IsAndroid4");E.AppGlobals.ViewManager.ShowDataLoadModal({syncOrStartup:"startup",hideUI:!1},(function(e){E.AppGlobals.AppModel.Initialize(e,(function(e){h.default.AddTraceContext("Common.appTemplateSuccess",{appName:e.Name}),(0,g.installOrUpdateServiceWorker)(),S.JeeneeBrowserAPI.setCurrentApp(e),(0,A.maybeSubscribeToPunctual)(e),StateReflector.Initialize(),null!=e&&(e.IsRunnable?(E.AppGlobals.AppModel.OnAppTemplateLoad(e),r&&E.AppGlobals.AppState.SetLocationHash(r),S.JeeneeBrowserAPI.OnAppTemplateLoad(e),E.AppGlobals.ViewManager.OnAppTemplateLoad(e,!0),E.AppGlobals.AppState.OnAppTemplateLoad(e),E.AppGlobals.AppModel.IsWhitelabelApp()||E.AppGlobals.AppState.SetLastRunApp(e.Name)):E.AppGlobals.ViewManager.ShowErrorScreen("The "+e.ShortName+" app is in an invalid state. Please contact the app creator."),n&&(0,x.recordAppStartMetrics)()),t.InitializingApp=!1,(0,P.sendEditorMessage)("app-initialized",{appId:e.Id})}),(function(e){if(!(window.ignoreAbort&&e&&e.indexOf("abort")>=0))throw E.AppGlobals.ViewManager.ShowErrorScreen("The "+n+" app did not load successfully. Please contact the app creator.",e),t.InitializingApp=!1,E.AppGlobals.AppState.SetLastRunApp(null),n&&d.logger.logAppEvent(f.AppEventName.AppStart),new Error("Error initializing AppModel: "+(e||""))}))}))};try{i()}catch(e){h.default.AddTraceContext("ERROR in fetchDataAndStart - retrying with new AppModel"),E.AppGlobals.AppModel.ClearTemplateData(),C.default.clearUserRollouts(),y.default.reset(),i()}}catch(e){this.InitializingApp=!1,E.AppGlobals.AppState.SetLastRunApp(null)}}},{key:"EvaluateExtensionMethod",value:function(e,t,n){if("AppGallery-10305"!==E.AppGlobals.AppState.AppTemplate.Name)return n(!1,null);if("chooseControl"===e){if(!l.default.isNil(t)&&!l.default.isNil(t.controls)){for(var r=null,o=null,i=null,a=0;a<t.controls.length;a++)switch(t.controls[a].Name){case"Public":i=t.controls[a];break;case"My Apps":r=t.controls[a];break;case"Shared":o=t.controls[a]}if(!l.default.isNil(r)&&0<r._rowCount)return n(!0,r.Name);if(!l.default.isNil(o)&&0<o._rowCount)return n(!0,o.Name);if(!l.default.isNil(i)&&0<i._rowCount)return n(!0,i.Name)}return n(!1,null)}return n(!1,null)}},{key:"MemWarning",value:function(e){h.default.warnToDevConsole(e)}},{key:"processFileInputHandle",value:function(e,t,n){var r=e.file,o="WebFileReader"===e.type();if(null!=r){var i=function(e){"function"==typeof n&&n("Error with filereader: "+e.target.error.message),setTimeout((function(){throw e.target.error}),0)},a=e.preferredWidth||(0,O.getMaxImageResolution)();if(o||a===b.NO_RESIZE_WIDTH){var l=new FileReader;l.onloadend=function(e){t(e.target.result)},l.onerror=i,l.readAsDataURL(r)}else try{$.canvasResize(r,{width:a,height:0,crop:!1,quality:90,callback:function(e){t(e)},onError:i,disableSubsamplingDetection:D.dynamicRollouts.includeByOwnerId("DisableSubsamplingDetectionInCanvasResize")})}catch(e){"function"==typeof n&&n("An error occurred during image resize: "+e.toString())}}else t((0,S.missingImageError)("The selected image could not be found."))}},{key:"makeFileInputHandle",value:function(e,t,n){var r=String(Math.floor(1e6*Math.random()+1)),o=v.ImageHandle.from({type:t?"WebFileReader":"WebImageReader",value:r,preferredWidth:n});return o.setFileInput(e),o}},{key:"registerUploadRequest",value:function(e,t){t&&e&&("function"==typeof this.awaitingUploadRequests[e]?(this.awaitingUploadRequests[e](t),delete this.awaitingUploadRequests[e]):this.uploadRequests[e]=t)}},{key:"unregisterUploadRequest",value:function(e){var t=this.uploadRequests;e&&setTimeout((function(){delete t[e]}),6e4)}},{key:"awaitUploadRequest",value:function(e,t){var n=this.uploadRequests[e];n?(t(n),delete this.uploadRequests[e]):this.awaitingUploadRequests[e]=t}},{key:"finishImageRead",value:function(e,t){e?t?t.value()?"function"==typeof e.CallbackFn&&e.CallbackFn(t):h.default.ReportError({errorMessage:"finishImageRead was called with null imageHandle.value"}):h.default.ReportError({errorMessage:"finishImageRead was called with null imageHandle"}):h.default.ReportError({errorMessage:"finishImageRead was called with null uploadRequest"})}},{key:"processImage",value:function(e,t,n){var r,o=this;if(e.isBlank())t("");else{var i=function(n,r){if(n&&!n.startsWith(S.UNABLE_TO_LOAD_IMAGE_PREFIX))return r||o.setCachedImage(e,n),void t(n);var i=o.getCachedImage(e);i?(h.default.ReportError({errorMessage:"Common.imageCache avoided losing an image",imageHandleType:e.type()}),t(i)):t(n)};switch(e.type()){case"WebFileReader":case"WebImageReader":var a=E.AppGlobals.AppModel.GetFromImageCache(e.value());a?i(a,!0):this.processFileInputHandle(e,i,n);break;case"Url":case"Data":i(null!==(r=e.value())&&void 0!==r?r:"");break;case"IOS":S.JeeneeBrowserAPI.getBase64DataIOS(e,i);break;case"Android":S.JeeneeBrowserAPI.getBase64DataAndroid(e,i)}}}},{key:"setCachedImage",value:function(e,t){e=v.ImageHandle.from(e);var n=(0,y.getAppModel)().inDynamicRolloutByOwnerId("ClientSkipCommonImageCache");switch(e.type()){case"IOS":case"Android":n||(this.imageCache[e.value()]=t);break;case"Data":case"Url":break;case"WebFileReader":case"WebImageReader":n||(this.imageCache[e.value()]=t),E.AppGlobals.AppModel.AddToImageCache(e.value(),t)}}},{key:"getCachedImage",value:function(e){e=v.ImageHandle.from(e);var t=this.imageCache[e.value()];if(t)return t;switch(e.type()){case"IOS":case"Android":case"Data":case"Url":break;case"WebFileReader":case"WebImageReader":return E.AppGlobals.AppModel.GetFromImageCache(e.value())}return null}}]),e}();t.Common=u=new L},422339:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultProvider=void 0,t.initializeDefaultProvider=function(){JeeneeNamespace.DefaultProvider=p};var o=r(n(689728)),i=r(n(856690)),a=r(n(190644)),l=r(n(571524)),u=r(n(593186)),s=n(431335),c=r(n(496486)),d=n(166089),p=(0,o.default)((function e(){var t=this;(0,i.default)(this,e),this._get=function(e,t,n,r,o){$.getJSONUnsigned(e,t,(function(t,r){c.default.isNil(t)||!t.LoginRequired?c.default.isFunction(n)&&n(t,r):d.AppGlobals.AppState.SwitchToLoginPage(t.LoginProvider," GET from "+e+" response indicates that login is required")}),(function(e,t){c.default.isFunction(r)&&r(e,t)}),o)},this._post=function(e,t,n,r){$.postJSON(e,t,(function(t){c.default.isNil(t)||!t.LoginRequired?c.default.isFunction(n)&&n(t):d.AppGlobals.AppState.SwitchToLoginPage(t.LoginProvider," POST to "+e+" response indicates that login is required")}),(function(e,t){c.default.isFunction(r)&&r(e,t)}))},this._postPromise=function(e,n){return new Promise((function(r,o){t._post(e,n,r,(function(e,t){var n=new Error(e);n.statusCode=t,o(n)}))}))},this.ReadTable=function(e,n,r,o,i,l,u,p){var f,g,h=null!==(g=null===(f=null===a.default||void 0===a.default?void 0:a.default.lastPosition)||void 0===f?void 0:f.coords)&&void 0!==g?g:{},m=h.latitude,y=h.longitude,v=null!=m&&null!=y?a.default.stringifyLatLng(m,y):null,b=d.AppGlobals.AppModel?d.AppGlobals.AppModel.GetUserSettings(e):null,O={providerName:o,tableName:r,nestedPath:l,tzOffset:(new Date).getTimezoneOffset(),locale:navigator.languages?navigator.languages[0]:navigator.language,settings:b?JSON.stringify(b):null,version:n,location:v},w=d.AppGlobals.AppModel.FindTable(r),S=encodeURIComponent(e),T="/api/template/".concat(S,"/tableV2");t._get(T,O,(function(e,t){if(304===t)"function"==typeof u&&u(r,w.Rows,w.Timestamp,w.ETag);else if(c.default.isNil(e))c.default.isFunction(p)&&p("Empty table");else if(e.Success){var n=s.CSV.parse(e.DataSet);"function"==typeof u&&u(c.default.isNil(i)?r:i,n,e.Timestamp)}else c.default.isFunction(p)&&p(e.ErrorDescription)}),(function(e,t){c.default.isFunction(p)&&p(e,t)}),(function(e){c.default.isNil(w)||e.setRequestHeader("If-Modified-Since",w.Timestamp)}))},this.makeQueryString=function(e){var t,n=d.AppGlobals.AppModel,r=a.default&&a.default.lastPosition||{},o=a.default?a.default.stringifyLatLng(r.lat,r.lng):null;n&&"function"==typeof n.NeedsUsageScopesConsent&&n.NeedsUsageScopesConsent()&&(o="");var i=e.userSettings||(n&&"function"==typeof n.GetUserSettings?n.GetUserSettings():null),u=l.default&&l.default.IsIFramePreview(),s="?tzOffset="+(new Date).getTimezoneOffset()+"&settings="+encodeURIComponent(JSON.stringify(i))+"&apiLevel="+((null==n?void 0:n.API_LEVEL)||1)+"&isPreview="+u+"&checkCache="+!!e.checkCache+"&locale="+(navigator.languages?navigator.languages[0]:navigator.language)+"&location="+encodeURIComponent(o)+"&appTemplateVersion="+e.appVersion+"&localVersion="+((null===(t=null==n?void 0:n.AppTemplate)||void 0===t?void 0:t.Version)||"")+"&timestamp="+encodeURIComponent(e.timestamp||"")+"&requestStartTime="+encodeURIComponent((new Date).toISOString())+"&lastSyncTime="+encodeURIComponent(n&&"function"==typeof n.lastSuccessfulSyncTime&&n.lastSuccessfulSyncTime()||"")+"&appStartTime="+encodeURIComponent(window.APP_START_TIME||"")+"&dataStamp="+encodeURIComponent((null==n?void 0:n.DataStamp)||"")+"&clientId="+(n&&"function"==typeof n.GetClientId&&n.GetClientId()||"")+"&build="+window.AppSheetJSBuild+"&requestId="+e.requestId;return e.mechanism&&(s+="&mechanism="+encodeURIComponent(e.mechanism)),e.viewName&&(s+="&viewName="+encodeURIComponent(e.viewName)),e.actionName&&(s+="&actionName="+encodeURIComponent(e.actionName)),e.syncToken&&(s+="&syncToken="+encodeURIComponent(e.syncToken)),s},this.AddTableRow=function(e,n,r,o,i){u.default.AddTraceContext("DefaultDataProvider.AddTableRow",{requestId:n.requestId}),t._post("/api/template/"+encodeURIComponent(e)+"/table/"+encodeURIComponent(n.tableName)+"/row"+t.makeQueryString(n),r,o,i)},this.UpdateTableRow=function(e,n,r,o,i){u.default.AddTraceContext("DefaultDataProvider.UpdateTableRow",{requestId:n.requestId}),t._post("/api/template/"+encodeURIComponent(e)+"/table/"+encodeURIComponent(n.tableName)+"/row/update"+t.makeQueryString(n),r,o,i)},this.DeleteTableRow=function(e,n,r,o,i){u.default.AddTraceContext("DefaultDataProvider.DeleteTableRow",{requestId:n.requestId}),t._post("/api/template/"+encodeURIComponent(e)+"/table/"+encodeURIComponent(n.tableName)+"/row/delete"+t.makeQueryString(n),r,o,i)},this.RecordRecoveryData=function(e,n){var r="/api/template/".concat(encodeURIComponent(e),"/recovery");return t._postPromise(r,n)}}));t.DefaultProvider=p},796326:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.NETWORK_ERROR_MESSAGE=void 0,t.getAjaxErrorString=l,t.initializeJsonHelpers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onAjaxResult,n=void 0===t?function(e){}:t,r=e.onPostResult,o=void 0===r?function(e){}:r,u=e.isConnected,s=void 0===u?function(){return!0}:u,c=e.autoDisconnect,d=void 0===c?function(){}:c;function p(e,t){$.getJSONUnsigned("/api/refreshtoken",null,(function(t){window.VerifiedAjaxPostToken=t.token,e()}),t)}$.getJSONUnsigned=function(e,t,r,o,u){if(s()){var c=OneTrackProtocol+"//"+OneTrackHost+e;$.ajax({url:c,dataType:"json",data:t,beforeSend:u,success:function(e,t,o){n(e),"function"==typeof r&&r(e,o.status)},error:function(t,r,u){if(n(t),"function"==typeof o){var s=l(t,r,u);s===a&&d(),o(s,t.status)}i.default.ReportJqueryAjaxError("get",e,t,r,u)}})}else"function"==typeof o&&o("Not connected")},$.postJSONAsync=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Promise((function(i){$.postJSON(e,t,(function(e,t){return i({success:!0,response:e,httpStatus:t})}),(function(e,t){return i({success:!1,responseText:e,httpStatus:t})}),n,r,o)}))},$.postJSON=function(e,t,n,r,u){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(s()){var g=OneTrackProtocol+"//"+OneTrackHost+e;window.verifiedAjaxPost({url:g,type:"post",processData:!1,data:JSON.stringify(t),timeout:3e5,contentType:"application/json",beforeSend:u,success:function(i,a,l){(null==i?void 0:i.TokenIsInvalid)&&0===c?p((function(){$.postJSON(e,t,n,r,u,c+1,f)}),r):(o(i),"function"==typeof n&&n(i,l.status))},error:function(o,s,p){if("function"==typeof r){var g=l(o,s,p);if(g===a){if(2===f){var h=null!=o?o:{},m=h.readyState,y=h.status,v=h.statusText;i.default.ReportError({errorMessage:"NETWORK_ERROR",textStatus:s,errorThrown:p,readyState:m,status:y,statusText:v,tokenRetryCount:c,networkErrorRetryCount:f})}if(f<2)return void setTimeout((function(){$.postJSON(e,t,n,r,u,c,f+1)}),1e3);d()}else i.default.ReportJqueryAjaxError("post",e,o,s,p);r(g,o.status)}}})}else"function"==typeof r&&r("Not connected")}},t.isSuccessResponse=t.isFailureResponse=void 0,t.printableJSON=function e(t,n){var r="";if(null==t)return r;if(n>3)return"";"object"===(0,o.default)(t)?(r+="{ \n",$.each(t,(function(t,o){r+=u(n)+String(t)+":\t"+e(o,n+1)+"\n"})),r+=u(n)+" } \n"):r+=null!=t&&"function"==typeof t.substring?t.substring(0,500):t;return r};var o=r(n(918698)),i=r(n(593186));t.isSuccessResponse=function(e){return!0===e.success};t.isFailureResponse=function(e){return!1===e.success};var a="Network error. Please check connectivity and try again.";t.NETWORK_ERROR_MESSAGE=a;function l(e,t,n){return null!=e.responseText&&e.responseText.length>0?e.responseText:"timeout"===n?"__:Connection timed out. Please wait a moment and try again.":null!=n&&n.length>0&&"error"!==n?"__:"+n:null!=t&&t.length>0&&"error"!==t?"__:"+t:a}function u(e){for(var t="",n=0;n<e;n++)t+="\t";return t}},249633:(e,t,n)=>{"use strict";var r=n(564836),o=n(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.UserSettings=t.NativeProvider=t.AppSuggestions=t.AppSettings=void 0,t.initializeNativeProvider=function(){JeeneeNamespace.NativeProvider=O};var i=r(n(689728)),a=r(n(856690)),l=r(n(496486)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(593186)),s=r(n(150198)),c=n(318926),d=n(804758),p=n(149313),f=n(714067);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t){var n;if(null===(n=null==e?void 0:e.AppTemplate)||void 0===n?void 0:n.AppData){var r=e.AppTemplate.AppData.DataSets;return l.default.find(r,t)}}function m(e,t){var n={};return t.forEach((function(t){var r=new s.default(t),o=e[t.Name],i=r.valueFromWireFormat(o);n[t.Name]=i})),n}var y=(0,i.default)((function e(t){var n=this;(0,a.default)(this,e),this._appWithoutPreview=null,this._suggestionsTableDefn=function(){return h(n._appModel,(function(e){return"native"===e.ProviderName&&"_Internal_SuggestionsTable"===e.Name}))},this._suggestionsSchema=function(){var e=n._suggestionsTableDefn();return e?n._appModel.FindSchema(e.SchemaName):null},this._isValid=function(){return n._appModel&&n._suggestionsTableDefn()&&n._suggestionsSchema()},this.HasTable=function(e){var t=n._suggestionsTableDefn();return n._isValid()&&t.Name===e},this.Update=function(e){if(n._isValid()){var t=e.tableName,r=e.row,o=e.oldRow,i=n._suggestionsTableDefn(),a=n._suggestionsSchema();if(t===i.Name){(0,p.$TSFixMeMaybeNull)(a);var l=m(r,a.Attributes),u=m(o,a.Attributes),s=!u.Accepted&&l.Accepted,c=!u.Previewing&&l.Previewing,d=!u.Rejected&&l.Rejected;s?n._acceptSuggestion(r):c?n._previewSuggestion(r):d&&n._rejectSuggestion(r)}}},this._getNonPreviewApp=function(){return l.default.cloneDeep(n._appWithoutPreview||n._appModel.AppTemplate)},this._updateSettings=function(e){e.Presentation.Controls.forEach((function(e){e.Settings=JSON.stringify(e.ViewDefinition)}))},this._rejectSuggestion=function(e){var t=n._getSuggestion(e);c.logger.logEvent(new d.AppSuggestionEvent("reject",t.Descriptor.Category));var r=n._getNonPreviewApp();n._appModel.setAppTemplate(r)},this._acceptSuggestion=function(e){var t=n._getSuggestion(e);c.logger.logEvent(new d.AppSuggestionEvent("accept",t.Descriptor.Category));var r=n._getNonPreviewApp();t.Commands.forEach((function(e){n._applyCommand(e,r)})),n._updateSettings(r),n._appModel.setAppTemplate(r),n._appWithoutPreview=l.default.cloneDeep(r)},this._previewSuggestion=function(e){var t=n._getSuggestion(e);c.logger.logEvent(new d.AppSuggestionEvent("preview",t.Descriptor.Category)),n._appWithoutPreview||(n._appWithoutPreview=l.default.cloneDeep(n._appModel.AppTemplate));var r=n._getNonPreviewApp();t.Commands.forEach((function(e){n._applyCommand(e,r)})),n._updateSettings(r),n._appModel.setAppTemplate(r)},this._getSuggestion=function(e){var t=e.SerializedSuggestion;try{return JSON.parse(t)}catch(t){return n._reportError("Failed to deserialize commands for "+e.SuggestionId),{Commands:[],Descriptor:{}}}},this._applyCommand=function(e,t){var r,o=e.Type,i=e.Path.ExpressionString,a=n._getValue(e);switch(o){case"ADD":if(r=l.default.get(t,i),!l.default.isArray(r))return void n._reportError("Expected array at '"+i+"'");r.push(a);break;case"CHANGE":l.default.set(t,i,a);break;default:n._reportError("Unexpected command type: "+o)}},this._getValue=function(e){if(!e)return null;var t=e.Value;if(!t)return t;var n=t.$type;return n&&String(n).startsWith("System.Collections.Generic.List")?t.$values:t},this._reportError=function(e){u.default.ReportError({errorMessage:e})},this._appModel=t}));t.AppSuggestions=y;var v=(0,i.default)((function e(t,n){var r=this;(0,a.default)(this,e),this._settingsTableDefn=function(){return h(r._appModel,(function(e){return"native"===e.ProviderName&&e.Name&&e.Name.startsWith("Settings_")}))},this._settingsSchema=function(){var e=r._settingsTableDefn();return e?r._appModel.FindSchema(e.SchemaName):null},this._isValid=function(){return r._appModel&&r._settingsTableDefn()&&r._settingsSchema()},this._objectPathCols=function(){var e=r._settingsSchema();return(0,p.$TSFixMeMaybeNull)(e),l.default.chain(e.Attributes).filter((function(e){return e.Name.endsWith("_ObjectPath")})).keyBy((function(e){return e.Name.replace("_ObjectPath","")})).value()},this._objectValueCols=function(){var e=r._settingsSchema();return(0,p.$TSFixMeMaybeNull)(e),l.default.chain(e.Attributes).filter((function(e){return e.Name.endsWith("_ObjectValue")})).keyBy((function(e){return e.Name.replace("_ObjectValue","")})).value()},this.HasTable=function(e){return r._isValid()&&e===r._settingsTableDefn().Name},this.Update=function(e){if(r._isValid()){var t=r._getSettingsChanges(e);r._stateReflector.ChangeAndRedisplay(t,!1,!0)}},this._getSettingsChanges=function(e){var t=e.row,n=r._appModel,o=r._objectPathCols(),i=r._objectValueCols();return l.default.keys(o).map((function(e){var r,a=o[e],l=i[e],u=t[l.Name],c=new s.default(l);if("Ref"===l.Type){var d=c.referencedTableName(),f=n.findTableCollection(d),g=f.table,h=f.tableSchema,m=g&&g.findRow(u);if(m)(0,p.$TSFixMeMaybeNull)(h),r=h.findAttributeByName("ObjectValue").valueFromWireFormat(m.ObjectValue)}else r=c.valueFromWireFormat(u);return{ObjectPath:t[a.Name],ObjectValue:r}}))},this._appModel=t,this._stateReflector=n||window.StateReflector}));t.AppSettings=v;var b=(0,i.default)((function e(t,n){var r=this;(0,a.default)(this,e),this._settingsTableDefn=function(){return h(r._appModel,(function(e){return"native"===e.ProviderName&&e.Name&&e.Name.startsWith(f.userSettingsTableName)}))},this._settingsSchema=function(){var e=r._settingsTableDefn();return e?r._appModel.FindSchema(e.SchemaName):null},this._isValid=function(){return r._appModel&&r._settingsTableDefn()&&r._settingsSchema()},this.HasTable=function(e){return r._isValid()&&e===r._settingsTableDefn().Name},this.Update=function(e){r._isValid()&&(r._localUserSettings=e.row,e.nextSteps.immediateSync=!0,e.nextSteps.enqueueChanges=!1)},this._appModel=t,this._stateReflector=n||window.StateReflector}));t.UserSettings=b;var O=(0,i.default)((function e(t){var n=this;(0,a.default)(this,e),this.Name="native",this._getTableManager=function(e){return l.default.find(n._tableManagers,(function(t){return t&&"function"==typeof t.HasTable&&t.HasTable(e)}))},this.OnLocalUpdateRow=function(e){if(e){e.tableName!==f.userSettingsTableName&&(0,u.doWeEverHitThis)("Unexpected native table update: ".concat(e.tableName));var t=n._getTableManager(e.tableName);return t?(e.nextSteps.updateAppTemplate=!0,t.Update(e)):void 0}},this.AppModel=t,this._tableManagers=[new v(t),new y(t),new b(t)]}));t.NativeProvider=O},946094:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.StatePropsThatDontImplyNavigation=t.StateModel=void 0,t.getPreviewAsEmail=function(){var e;try{if(null===(e=window.parent)||void 0===e?void 0:e.getPreviewAsEmail)return window.parent.getPreviewAsEmail();var t=(0,v.parseUrlQuery)();if(t.hasOwnProperty("previewAs"))return t.previewAs}catch(e){}return""},t.initializeStateModel=function(){JeeneeNamespace.StateModel=Q,JeeneeNamespace.Controllers=[]};var o=r(n(238416)),i=r(n(856690)),a=r(n(689728)),l=r(n(600861)),u=r(n(496486)),s=r(n(836808)),c=n(672023),d=r(n(571524)),p=r(n(180818)),f=r(n(112368)),g=r(n(593186)),h=r(n(143249)),m=r(n(365914)),y=r(n(498967)),v=n(646317),b=r(n(343625)),O=r(n(888861)),w=r(n(150198)),S=r(n(962553)),T=n(319598),A=n(307827),k=n(714067),E=n(263198),P=n(351101),C=n(75212),x=r(n(190644)),D=n(892148),R=n(166089),I=n(149313),N=n(557310),j=n(783252),L=n(864510);t.StatePropsThatDontImplyNavigation=["RowKey","selected","FilterExpr","UserDefinedFilters","UserDefinedFilterExpression"];var _={PAGE_PARAM:"page",TABLE_PARAM:"table",ROW_PARAM:"row",FILTER_PARAM:"filter",USER_DEFINED_FILTERS_PARAM:"userfilters",DEFAULTS_PARAM:"defaults",SORT_PARAM:"sort",GROUP_PARAM:"group",SELECTED_PARAM:"selected",QUICKEDIT_PARAM:"quickedit",VFE_FOCUSCOLUMN_PARAM:"vfe_focuscolumn",VFE_TIMESTAMP_PARAM:"vfe_ts",FreshControllerState:function(e){if(e||(e={}),e.TableName&&e.RefKeyAttr&&e.RefKeyValue){g.default.warnToDevConsole("View was initialized with RefKeyAttr/RefKeyValue, something needs migrating",e);var t=R.AppGlobals.AppModel.FindTableDefinition(e.TableName);if(!t)return;var n=R.AppGlobals.AppModel.FindSchema(t.SchemaName);if(!n)return;var r=n.Attributes.find((function(t){var n;return t&&t.IsValid&&t.Name.toLowerCase()===(null===(n=e.RefKeyAttr)||void 0===n?void 0:n.toLowerCase())}));e.FilterExpr=O.default.createColFilter(e.RefKeyValue,n,r?new w.default(r):void 0)}if(e.SortAttr&&!e.SortBy){g.default.warnToDevConsole("View was initialized with SortAttr, (likely the apptemplate is using old view options) ",e);var o=S.default.findByName(e.TableName).tableSchema;if(!o)return;var i=y.default.findSortInfo(o,e.SortAttr);(null==i?void 0:i.attribute)&&i.attribute.name()&&(e.SortBy=[{Column:i.attribute.name(),Order:i.inverted?"Descending":"Ascending"}])}return e.ItemId&&(e.RowKey=e.ItemId),e.isPopulated=!1,u.default.pick(e,["TableName","RowKey","FilterExpr","DefaultValues","GroupBy","SortBy","isPopulated"])},HashStateToControllerState:function(e,t){if("_table"in e&&(t.TableName=e._table),"_row"in e&&(t.RowKey=e._row),"_filterExpr"in e)try{var n=JSON.parse(e._filterExpr);t.FilterExpr=O.default.create(n)}catch(e){}if("_groupBy"in e)try{t.GroupBy=JSON.parse(e._groupBy)}catch(e){}if("_sortBy"in e)try{t.SortBy=JSON.parse(e._sortBy)}catch(e){}if(this.TABLE_PARAM in e&&(t.TableName=e[this.TABLE_PARAM]),this.ROW_PARAM in e&&(t.RowKey=e[this.ROW_PARAM]),this.SELECTED_PARAM in e)try{t.selected=JSON.parse(e[this.SELECTED_PARAM])}catch(e){}var r=[];if(this.FILTER_PARAM in e)try{var o=JSON.parse(e[this.FILTER_PARAM]);r.push(O.default.create(o))}catch(e){}if(this.USER_DEFINED_FILTERS_PARAM in e&&"dashboard"!==e[this.PAGE_PARAM])try{t.UserDefinedFilters=JSON.parse(e[this.USER_DEFINED_FILTERS_PARAM]);var i=(0,T.getFilterQuery)(null==t?void 0:t.Root,null==t?void 0:t.TableName,null==t?void 0:t.UserDefinedFilters).toExpression();r.push(i),t.UserDefinedFilterExpression=i}catch(e){g.default.ReportError({errorMessage:"Error in HashStateToControllerState",error:e})}if(t.FilterExpr=O.default.createAnd.apply(O.default,r),this.DEFAULTS_PARAM in e)try{var a=JSON.parse(e[this.DEFAULTS_PARAM]);t.DefaultValues=a}catch(e){}if(this.GROUP_PARAM in e)try{t.GroupBy=JSON.parse(e[this.GROUP_PARAM])}catch(e){}if(this.SORT_PARAM in e)try{t.SortBy=JSON.parse(e[this.SORT_PARAM])}catch(e){}if(this.QUICKEDIT_PARAM in e)try{t.QuickEdit=JSON.parse(e[this.QUICKEDIT_PARAM])}catch(e){}if(this.VFE_FOCUSCOLUMN_PARAM in e)try{t.vfeFocusColumn=e[this.VFE_FOCUSCOLUMN_PARAM]}catch(e){}if(this.VFE_TIMESTAMP_PARAM in e)try{t.vfeTimestamp=e[this.VFE_TIMESTAMP_PARAM]}catch(e){}},ControllerStateToHashState:function(e,t){var n;null!=e.TableName&&(t[this.TABLE_PARAM]=e.TableName),null!=e.RowKey&&(t[this.ROW_PARAM]=e.RowKey),null!=e.selected&&(t[this.SELECTED_PARAM]=e.selected);var r=e.FilterExpr,o=e.UserDefinedFilterExpression;if(null!=o&&null!=r){var i=null!==(n=r.children)&&void 0!==n?n:[];e.UserDefinedFilterExpression.isEqualTo(r)?r=null:"AND"===r.BoolType&&i.length&&(r=O.default.createAnd.apply(O.default,(0,l.default)(i.filter((function(e){return!e.isEqualTo(o)})))))}Array.isArray(e.UserDefinedFilters)&&e.UserDefinedFilters.length>0&&(t[this.USER_DEFINED_FILTERS_PARAM]=JSON.stringify(e.UserDefinedFilters)),null!=r&&(t[this.FILTER_PARAM]=JSON.stringify(r)),null!=e.DefaultValues&&(t[this.DEFAULTS_PARAM]=JSON.stringify(e.DefaultValues)),null!=e.GroupBy&&(t[this.GROUP_PARAM]=JSON.stringify(e.GroupBy)),null!=e.SortBy&&(t[this.SORT_PARAM]=JSON.stringify(e.SortBy)),null!=e.QuickEdit&&(t[this.QUICKEDIT_PARAM]=JSON.stringify(e.QuickEdit)),null!=e.vfeFocusColumn&&(t[this.VFE_FOCUSCOLUMN_PARAM]=e.vfeFocusColumn),null!=e.vfeTimestamp&&(t[this.VFE_TIMESTAMP_PARAM]=e.vfeTimestamp)},PopulateControllerStateFromControl:function(e,t,n){if(t&&(t.isPopulated=!0,e)){var r=R.AppGlobals.AppModel.NavStateForView(e,t.TableName);r&&(t.TableName||(t.TableName=r.TableName),t.TableName===r.TableName&&(t.RowKey||(t.RowKey=r.RowKey),t.FilterExpr||(t.FilterExpr=r.FilterExpr),t.GroupBy||(t.GroupBy=r.GroupBy),t.SortBy||(t.SortBy=r.SortBy),"function"==typeof n&&n(r)))}}},M="card",G="table",F="dashboard",B="search",V="deck",U="gallery",H="slideshow",q="detail",W="chart",z="form",Y="calendar",J="onboarding",K="iframe",Q=function(){function e(){var t;(0,i.default)(this,e),this.STATE_CHANGE_FORWARD=1,this.STATE_CHANGE_BACKWARD=2,this.CHANGE_MODE_PUSH="push",this.CHANGE_MODE_PUSH_RETAIN_SEARCH="push-retain-search",this.CHANGE_MODE_REPLACE="replace",this.CHANGE_MODE_REPLACE_BACK="replaceback",this.CHANGE_MODE_RESET="reset",this.SHOW_DRILLDOWN=M,this.SHOW_FASTTABLE=G,this.SHOW_DASHBOARD=F,this.SHOW_SEARCH=B,this.SHOW_DECK=V,this.SHOW_GALLERY=U,this.SHOW_SLIDESHOW=H,this.SHOW_DETAIL=q,this.SHOW_MAP="map",this.SHOW_CHART=W,this.SHOW_FORM=z,this.SHOW_CALENDAR=Y,this.SHOW_ONBOARDING=J,this.SHOW_IFRAME=K,this.CloseAfterNextSync=!1,this.GuestUserInformation={Id:0,Name:"Guest",AuthUserId:"guest",AuthUserEmail:"guest",AuthSource:"native",UserRole:"User"},this.SamplesUserInformation={Id:1,Name:"Justin A. Sample",AuthUserId:"sample",AuthUserEmail:"justin@sample.com",AuthSource:"native",UserRole:"User"},this.ControllerLookup=(t={},(0,o.default)(t,M,"card"),(0,o.default)(t,G,"fastTable"),(0,o.default)(t,F,"dashboard"),(0,o.default)(t,V,"deck"),(0,o.default)(t,U,"gallery"),(0,o.default)(t,H,"detail"),(0,o.default)(t,q,"detail"),(0,o.default)(t,"map","google-map"),(0,o.default)(t,W,"graph"),(0,o.default)(t,z,"form"),(0,o.default)(t,B,"search"),(0,o.default)(t,Y,"calendar"),(0,o.default)(t,J,"onboarding"),(0,o.default)(t,K,"iframe"),t),this.KnownStates={},this.NavigationStack=[],this.InvokingAppArray=[{displayName:"App Gallery",appName:k.APP_GALLERY_NAME,appId:k.APP_GALLERY_ID}],this.DefaultStateDefinition=_,this.ForceWipeUserData=!1,this.ForceRefreshAppDefinition=!1,this.UserInformation=void 0,this.CurrentUIState=void 0,this.AppTemplate=void 0,this.inAppStartup=!1,this.freshAppTemplateLoad=!1,this.removePageParameterRollout=!1,this.ReadUserInfoFromUStore(),void 0!==window.OTURLParams.wipe&&(this.ForceWipeUserData=!0),void 0!==window.OTURLParams.refresh&&(this.ForceRefreshAppDefinition=!0);for(var n=0;n<JeeneeNamespace.Controllers.length;n++){var r=JeeneeNamespace.Controllers[n];if(null==r)throw new Error("Invalid controller "+n);this.KnownStates[r.Name]=new r.StateDefinition}this.GoogleMapStateDef=this.KnownStates[this.ControllerLookup[this.SHOW_MAP]]}return(0,a.default)(e,[{key:"isLegacyAuthSource",value:function(){return"linkedin"===this.UserInformation.AuthSource||"native"===this.UserInformation.AuthSource}},{key:"getPreviousNavigationStackItem",value:function(){if(this.NavigationStack.length>=2){var e=this.NavigationStack[this.NavigationStack.length-2];return this.ParseStateFromHash(e.HashState)}return null}},{key:"getPreviousGroupByArray",value:function(e){return e&&(null==e?void 0:e.FastTableUIState)?e.FastTableUIState.GroupBy:null}},{key:"getPreviousGroupByColumnName",value:function(e){e||(e=this.getPreviousNavigationStackItem());var t=this.getPreviousGroupByArray(e);return t&&t.length>0?t[0].Column:null}},{key:"GetLastRunApp",value:function(){var e=b.default.getItem("LastRunApp");return null!=e&&""!==e&&"null"!==e?e:null}},{key:"SetLastRunApp",value:function(e){b.default.setItem("LastRunApp",e)}},{key:"Initialize",value:function(e,t){this.ReadUserInfoFromUStore(),R.AppGlobals.ViewManager.Clear(this.PreviousUIState),this.PreviousUIState=this.CurrentUIState,this.CurrentUIState={AppTemplateName:e},R.AppGlobals.ViewManager.Clear(this.PreviousUIState),this.PreviousUIState={},this.NavigationStack=[],this.AppTemplate={Name:e,Version:t},this.inAppStartup=!0}},{key:"SetDataContext",value:function(e){this.NavigationStack&&this.NavigationStack.length>0?this.NavigationStack[this.NavigationStack.length-1].DataContext=e:g.default.logToDevConsole("Setting data context with an empty nav stack!")}},{key:"DebugPrint",value:function(){var e="\t AppTemplate:: "+(this.AppTemplate&&this.AppTemplate.Name);return e+="\t UserInfo:: Id= "+this.UserInformation.Id+"\n",e+="\t UIState:: "+JSON.stringify(this.CurrentUIState)+"\n",e+="\t Location:: "+D.WindowWrapper.location+"\n"}},{key:"SetActiveControl",value:function(e,t,n){if(null!=e){"slideshow"===e.Action&&(e.Action="detail");var r=(0,P.getAppModel)(),o=r.FindTable(e.TableOrFolderName);if(null!=o){R.AppGlobals.AppState.ActiveControl=e;var i=t(e,r.NavStateForView(e,o.Name));"form"===e.Action||n?R.AppGlobals.AppState.PushState(i):R.AppGlobals.AppState.ResetState(i)}}}},{key:"AugmentCurrentState",value:function(e,t){var n=this.NavigationStack.length;if(n>0){var r=this.NavigationStack[n-1],o=this.ParseHash(r.HashState);o[e]!==t&&(o[e]=t,r.HashState=(0,v.sortedParams)(o),this.SetLocationHash(r.HashState,R.AppGlobals.AppState.CHANGE_MODE_REPLACE))}}},{key:"AugmentCurrentStateWithSearch",value:function(e,t){t=t||{};var n=this.NavigationStack.length;if(n>0){var r=this.NavigationStack[n-1],o=this.ParseHash(r.HashState);o.search!==e&&(o.search=e,r.HashState=(0,v.sortedParams)(o),t.updateHash&&this.SetLocationHash(r.HashState,R.AppGlobals.AppState.CHANGE_MODE_REPLACE))}}},{key:"GetCurrentStateSelection",value:function(){var e=this.NavigationStack.length;if(e>0){var t=this.NavigationStack[e-1],n=this.ParseHash(t.HashState).selected;if(!n)return null;try{return JSON.parse(n)}catch(e){return null}}return null}},{key:"AugmentCurrentStateWithSelection",value:function(e){var t=this.NavigationStack.length;if(t>0){var n=this.NavigationStack[t-1],r=this.ParseHash(n.HashState);r.selected=JSON.stringify(e);var o=(0,v.sortedParams)(r);this.SetLocationHash(o,R.AppGlobals.AppState.CHANGE_MODE_REPLACE)}}},{key:"ChoosePreviousState",value:function(e){this.StateChangeDirection=this.STATE_CHANGE_BACKWARD;var t=R.AppGlobals.AppState.CurrentUIState.Root;this.NavigationStack.pop();var n=this.NavigationStack[this.NavigationStack.length-1],r=(null==n?void 0:n.HashState)||"",o=this.ParseHash(r),i=o.page;if(""!==r&&(null!=i&&"empty"!==i||o.view))n.AppTemplateName!==R.AppGlobals.AppModel.AppTemplate.Name?this.PushState({Root:"empty"}):(n.scrollTop&&(this.restoreScrollPosition=n.scrollTop),this.SetWindowHash(n.HashState));else if("form"===t)if(e)this.ActiveControl=null,this.ResetState({});else{var a,l,u,s,c;R.AppGlobals.AppModel.AppTemplate.Presentation.Controls.filter((function(e){return e.IsValid&&"form"!==e.Action&&null!=R.AppGlobals.AppModel.DisplayActions[e.Action]})).forEach((function(e){e.Name===R.AppGlobals.AppModel.AppTemplate.Presentation.DefaultStartView&&(a=e),e.Position===R.AppGlobals.AppModel.POSITION_LEFT&&(l=e),e.Position===R.AppGlobals.AppModel.POSITION_RIGHT&&(u=e),e.Position===R.AppGlobals.AppModel.POSITION_CENTER&&(s=e),e.Position===R.AppGlobals.AppModel.POSITION_MENU&&(c=e)}));var d=a||l||u||s||c;d?R.AppGlobals.AppState.SetActiveControl(d,InputHandler.rootStateForControl):(this.ActiveControl=null,this.ResetState({Root:"empty"}))}else this.ActiveControl=null,this.ResetState({Root:"empty"})}},{key:"ComputeStringHash",value:function(e){return c.sha256.hmac("1234567890",""+e).substr(0,6)}},{key:"InvokingAppVisibilityMode",value:function(){var e,t=u.default.last(this.InvokingAppArray);return(null==t?void 0:t.appId)!==k.APP_GALLERY_ID?"visible":d.default.IsEditorIFramePreview()?"disabled":f.default.IsWhitelabelBrowser()||(null===(e=R.AppGlobals.AppModel)||void 0===e?void 0:e.IsWhitelabelApp())?"hidden":"visible"}},{key:"SwitchToLoginPage",value:function(e,t,n){if(t&&g.default.logToDevConsole("Switching to login page: "+t),d.default.IsIFrame())g.default.ReportErrorOnce({errorMessage:"Unexpected SwitchToLoginPage from iframe preview"});else{this.ClearUserInfoInUStore(),window.QuiesceApp=!0,null!=R.AppGlobals.ViewManager&&R.AppGlobals.ViewManager.ShowLoginInfoPage();var r=this.GetLocationHash();r.indexOf("mainprotocol")<0&&(null!=r&&""!==r&&(r+="&"),r+="_mainprotocol="+OneTrackProtocol);var o="?returnUrl="+encodeURIComponent(D.WindowWrapper.location.pathname+D.WindowWrapper.location.search);null!=e&&e.length>0&&(o+="&provider="+e),n&&(o+="&appId="+n),null!=f.default.IsIOSAppWithMinVersion&&f.default.IsIOSAppWithMinVersion(6.3)&&E.JeeneeBrowserAPI.clearCookiesIOS(),null!=f.default.IsAndroidAppWithMinVersion&&f.default.IsAndroidAppWithMinVersion(6.4)&&!d.default.IsUnsupportedAndroidVersion()&&window.JeeneeAndroid.clearCookies(),x.default.removeAllListeners(),D.WindowWrapper.location.href="//"+D.WindowWrapper.location.host+"/Account/Login"+o+"#"+r}}},{key:"SaveUserInfoToUStore",value:function(){if(1!==this.UserInformation.Id){var e=new Date,t=m.default.addDays(e,28),n={UserInfo:this.UserInformation,ExpiryTime:t},r=JSON.stringify(n);b.default.setItem("JeeneeUserInfo",r)}}},{key:"SaveUserRole",value:function(e){this.UserInformation.UserRole=e,null!=(0,L.readUserInfoFromCookie)()?(0,L.updateUserInfoCookie)(this.UserInformation):this.SaveUserInfoToUStore()}},{key:"ReadUserInfoFromUStore",value:function(){var e=(0,L.readUserInfoFromCookie)();if(null==e){var t=b.default.getItem("JeeneeUserInfo");if(null==t||""===t||"null"===t){var n=s.default.get("STARTWITHTOKEN");if(n){var r=(0,v.parseQuery)(n);this.UserInformation={Id:r.id,Name:r.name,AuthUserId:r.email,AuthUserEmail:r.email,AuthSource:"native"}}else this.SetGuestUser()}else{var o=JSON.parse(t);null!=o.UserInfo.AuthTokenExpiryTime&&(o.UserInfo.AuthTokenExpiryTime=new Date(o.UserInfo.AuthTokenExpiryTime+" UTC")),this.UserInformation=o.UserInfo}}else this.UserInformation=e}},{key:"SetGuestUser",value:function(){this.UserInformation=this.GuestUserInformation}},{key:"SetSamplesUser",value:function(){this.UserInformation=this.SamplesUserInformation}},{key:"ClearUserInfoInUStore",value:function(){b.default.setItem("JeeneeUserInfo",null),this.DeleteCookie()}},{key:"IsAuthenticatedUser",value:function(e){var t=this.UserInformation;return null!=t&&"Id"in t&&"Name"in t&&"AuthUserId"in t&&"AuthUserEmail"in t&&(0!==t.Id||!e)}},{key:"DeleteCookie",value:function(){s.default.remove(""),(0,L.removeUserInfoCookie)()}},{key:"GetLocationHash",value:function(){return this.ExtractHashFromUrl(D.WindowWrapper.location.href)}},{key:"ExtractHashFromUrl",value:function(e){return e.split("#")[1]||""}},{key:"SetCurrentTemplate",value:function(e){this.AppTemplate.Id!==e.Id&&(this.AppTemplate.Id=e.Id),this.AppTemplate.Name!==e.Name&&(this.AppTemplate.Name=e.Name)}},{key:"LogUserIdentity",value:function(e){try{if(0!==this.UserInformation.Id){var t=e.Behavior.AuthRequired?this.UserInformation.Id.toString():null;null!=p.default.LogNewUser&&p.default.LogNewUser(t),t?p.default.identify(t,{$email:this.UserInformation.AuthUserEmail,$last_login:new Date,$name:this.UserInformation.Name,$username:this.UserInformation.Id,AuthSource:this.UserInformation.AuthSource,AuthUserId:this.UserInformation.AuthUserEmail}):null!=p.default.ForgetUserIdentity&&p.default.ForgetUserIdentity(null)}}catch(e){g.default.warnToDevConsole(e)}}},{key:"OnAppTemplateLoad",value:function(e){g.default.AddTraceContext("AppState.OnAppTemplateLoad",{Id:e.Id,Name:e.Name}),this.inAppStartup=!1,this.freshAppTemplateLoad=!0,this.LogUserIdentity(e),this.SetCurrentTemplate(e),this.removePageParameterRollout=h.default.get("removePageParameter").includeByOwner(e),A.onAppTemplateLoadCallbacks.run()}},{key:"SetLocationHash",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.freshAppTemplateLoad&&(this.freshAppTemplateLoad=!1),this.inAppStartup)this.inAppStartup=!1;else{var o={HashState:e,AppTemplateName:R.AppGlobals.AppModel.AppTemplate.Name};if("reset"===t||0===this.NavigationStack.length)this.NavigationStack=[o];else if(t===R.AppGlobals.AppState.CHANGE_MODE_REPLACE||t===R.AppGlobals.AppState.CHANGE_MODE_REPLACE_BACK)this.NavigationStack[this.NavigationStack.length-1]=o;else{var i,a,l=$(".ActivePage").data("reactView");if((null===(n=null==l?void 0:l.component)||void 0===n?void 0:n.getScrollContainer)&&(a=null==(i=l.component.getScrollContainer())?void 0:i.scrollTop),a){var u=this.NavigationStack[this.NavigationStack.length-1];u&&(u.scrollTop=a)}this.NavigationStack.push(o)}}this.StateChangeDirection=t===R.AppGlobals.AppState.CHANGE_MODE_REPLACE_BACK?this.STATE_CHANGE_BACKWARD:this.STATE_CHANGE_FORWARD,r&&this.SetWindowHash(e)}},{key:"SetWindowHash",value:function(e){if(d.default.IsIFramePreview()){var t=(null===parent||void 0===parent?void 0:parent.window)?parent.window.pageYOffset:0;D.WindowWrapper.location.replace(D.WindowWrapper.location.href.split("#")[0]+"#"+e),(null===parent||void 0===parent?void 0:parent.window)&&parent.window.scrollTo(parent.window.pageXOffset,t)}else D.WindowWrapper.location.hash=e}},{key:"ComputeHash",value:function(e){var t,n,r={},o=e;if(null!=o){null==o.Root||this.removePageParameterRollout&&null!=o.ControlName||(r.page=o.Root),null!=o.ControlName&&(r.view=o.ControlName),null!=o.AppTemplateName&&(r.appName=o.AppTemplateName),null!=o.SearchTerm&&(r.search=o.SearchTerm),null!=o.MinDataStamp&&(r.at=o.MinDataStamp);var i=null===(t=this.GetSpecificState(o))||void 0===t?void 0:t.UserDefinedFilters;null!=i&&(r[this.DefaultStateDefinition.USER_DEFINED_FILTERS_PARAM]=JSON.stringify(i));var a=R.AppGlobals.AppState.KnownStates[o.Root];void 0!==a?"function"==typeof a.FillStateObject&&a.FillStateObject(o,r):N.ReactRootUIConfig.isReactRoot()&&_.ControllerStateToHashState(null!==(n=o[j.SPECIFIC_STATE_NAME_MAP[o.Root]])&&void 0!==n?n:{},r)}return(0,v.sortedParams)(r)}},{key:"MutateState",value:function(e,t,n,r){if(null==this.UserInformation||null==this.UserInformation.Id)return alert("Unauthenticated user ---- cannot proceed. Login as a valid user."),void this.SwitchToLoginPage(null,"user information not available",this.AppTemplate.Id);t===R.AppGlobals.AppState.CHANGE_MODE_PUSH_RETAIN_SEARCH&&(e.SearchTerm=R.AppGlobals.AppState.CurrentUIState.SearchTerm,t=R.AppGlobals.AppState.CHANGE_MODE_PUSH),e.SearchTerm||StateReflector.EndSearch(!0);var o=this.CurrentUIState?this.GetSpecificState(this.CurrentUIState):null,i=e?this.GetSpecificState(e):null,a=(null==o?void 0:o.TableName)===(null==i?void 0:i.TableName),l=Boolean((null==o?void 0:o.UserDefinedFilters)&&!(null==i?void 0:i.UserDefinedFilters)),u="dashboard"===(null==e?void 0:e.Root);a&&l&&i&&!u&&(i.UserDefinedFilters=null==o?void 0:o.UserDefinedFilters),e.AppTemplateName=this.AppTemplate.Name;var s=this.ComputeHash(e);this.ChangeRawUrlHash(s,t,n)}},{key:"PushState",value:function(e,t){this.MutateState(e,t?R.AppGlobals.AppState.CHANGE_MODE_PUSH_RETAIN_SEARCH:R.AppGlobals.AppState.CHANGE_MODE_PUSH)}},{key:"ReplaceState",value:function(e,t){this.MutateState(e,t?R.AppGlobals.AppState.CHANGE_MODE_REPLACE_BACK:R.AppGlobals.AppState.CHANGE_MODE_REPLACE)}},{key:"ResetState",value:function(e,t){this.MutateState(e,R.AppGlobals.AppState.CHANGE_MODE_RESET,t)}},{key:"PushViewForResult",value:function(e,t,n,r,o,i,a){var l=this.NavigationStack[this.NavigationStack.length-1];l&&(l.pendingResult={context:e,requestId:t}),this.PushView(n,r,o,i,a)}},{key:"ReturnResult",value:function(e){var t=this.NavigationStack[this.NavigationStack.length-2];if(null==t?void 0:t.pendingResult){var n=t.pendingResult.context;n&&"function"==typeof n.onPushViewResult&&n.onPushViewResult(t.pendingResult.requestId,e),delete t.pendingResult}}},{key:"PushView",value:function(e,t,n,r,o,i){var a=i||(r?R.AppGlobals.AppState.CHANGE_MODE_PUSH_RETAIN_SEARCH:R.AppGlobals.AppState.CHANGE_MODE_PUSH);if(n.TableName){var l=o;if(!l){var u=R.AppGlobals.AppModel.FindControlsForTable(n.TableName,e,t);u.length&&(l=u[0])}if(l){var s=R.AppGlobals.AppModel.FindTable(n.TableName);if(s){var c=R.AppGlobals.AppModel.NavStateForView(l,s.Name),d=this.ExtendAppState(c,n),p=InputHandler.rootStateForControl(l,d);return void this.MutateState(p,a)}}var f=R.AppGlobals.AppState.KnownStates[e].CreateRootState(n);this.MutateState(f,a)}else g.default.warnToDevConsole("No TableName was given to MutateView",n)}},{key:"ExtendAppState",value:function(e,t){var n=u.default.pick(t,["ItemId","GroupBy","SortBy","FilterExpr","DefaultValues","CurrentLat","CurrentLng","RefKeyAttr","RefKeyValue","RowKey","detailContentColumn"]);return u.default.extend(u.default.clone(t),e,n)}},{key:"IsTopLevel",value:function(){return this.NavigationStack.length<=1}},{key:"ChangeRawUrlHash",value:function(e,t,n){this.GetLocationHash()!==e?this.SetLocationHash(e,t,n):$("#header").trigger("staterefresh")}},{key:"ResetCurrentUIState",value:function(){var e=this.GetLocationHash(),t=this.SetCurrentUIStateFromHash(e),n=(0,P.getAppModel)();if(e&&!this.NavigationStack.length){var r={HashState:e,AppTemplateName:n.AppTemplate.Name};this.NavigationStack=[r]}return t}},{key:"ParseHash",value:function(e){return(0,C.parseHash)(e)}},{key:"SetCurrentUIStateFromHash",value:function(e){return this.PreviousUIState=this.CurrentUIState,e?(this.CurrentUIState=this.ParseStateFromHash(e),this.CurrentUIState):null}},{key:"ParseStateFromHash",value:function(e){var t={};if(!e)return null;var n=this.ParseHash(e);if(t.Hash=e,t.DataStamp=AppModel.DataStamp,null!=n.view?t.ControlName=n.view:null!=n.control?t.ControlName=n.control:null!=n._control&&(t.ControlName=n._control),t.Root=n.page,null!=n._page&&(t.Root=n._page),"slideshow"===t.Root&&(t.Root="detail"),n.table&&!t.ControlName){var r=R.AppGlobals.AppModel.FindControlsForTable(n.table,t.Root,!1);"map"===t.Root&&n.mapcolumn&&(r=r.filter((function(e){var t=R.AppGlobals.AppModel.appTemplate.getViewDefinition(e.Name);return!!t&&(n.mapcolumn===t.MapColumn||n.table===t.SecondaryTable&&n.mapcolumn===t.SecondaryColumn)}))),r.length&&(t.ControlName=r[0].Name)}if(!t.Root&&(t.Root=this.SHOW_FASTTABLE,t.ControlName)){var o=R.AppGlobals.AppModel.FindControl(t.ControlName);o&&((0,I.$TSFixMeMaybeNull)(o.Action),t.Root=this.ControllerLookup[o.Action])}t.Root&&this.ControllerLookup[t.Root]&&(t.Root=this.ControllerLookup[t.Root]),t.SearchTerm=n.search,null!=n._searchTerm&&(t.SearchTerm=n._searchTerm),null!=n.appName&&(t.AppTemplateName=n.appName),null!=n._appName&&(t.AppTemplateName=n._appName),null!=n.at&&(t.MinDataStamp=n.at);var i=R.AppGlobals.AppState.KnownStates[t.Root];return void 0!==i&&("function"==typeof i.ResetUIState&&i.ResetUIState(t),"function"==typeof i.ProcessStateObject&&i.ProcessStateObject(t,n)),t}},{key:"GetSpecificState",value:function(e){var t,n=R.AppGlobals.AppState.KnownStates[null!==(t=e.Root)&&void 0!==t?t:""];return void 0!==n&&"function"==typeof n.GetSpecificState?n.GetSpecificState(e):null}},{key:"SetPendingFormState",value:function(e,t){this.pendingFormState=e,this.pendingFormCancelFn=t}},{key:"ClearPendingFormState",value:function(){delete this.pendingFormState,delete this.pendingFormCancelFn}}]),e}();t.StateModel=Q},276585:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.batch=function(e,t){var n,r=this,u=[],s=t.minSize||1,c=t.wait||0,d=function(){return l(r,void 0,void 0,o.default.mark((function r(){var a,l;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=u,u=[],r.prev=2,r.next=5,e.apply(void 0,[a].concat((0,i.default)(n)));case 5:r.next=12;break;case 7:if(r.prev=7,r.t0=r.catch(2),(l=u).push.apply(l,(0,i.default)(a)),t.dontThrow){r.next=12;break}throw r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,7]])})))},p=d,f=a.default.throttle(d,c,{leading:!1});function g(){0===c?p():f.flush()}function h(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a;(n=r,Array.isArray(e))?(a=u).push.apply(a,(0,i.default)(e)):u.push(e);0!==c&&f(),u.length>=s&&g()}return h.flush=g,h};var o=r(n(364687)),i=r(n(600861)),a=r(n(496486)),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))}},390678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"batch",{enumerable:!0,get:function(){return r.batch}});var r=n(276585)},419638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JS_VERSION=t.JS_BUILD=t.COMMIT_HASH=void 0;var n={COMMIT_HASH:"dummycommithash",JS_VERSION:"".concat(Date.now(),"-test"),JS_BUILD:"dummyjsbuild"},r=(n={COMMIT_HASH:"1e3d70e290796c235abe887aeabf6bd4ba7b586b",JS_VERSION:"'20230407'.1",JS_BUILD:"aaaaaaaaaaaaaaaaaaaa-1680898999088-1e3d70e2"}).COMMIT_HASH;t.COMMIT_HASH=r;var o=n.JS_VERSION;t.JS_VERSION=o;var i=n.JS_BUILD;t.JS_BUILD=i},399713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Drz=void 0,t.getDrz=function(){if("eu.appsheet.com"===o.WindowWrapper.location.hostname)return r.EU;return r.GLOBAL};var r,o=n(892148);t.Drz=r,function(e){e.EU="EU",e.GLOBAL="GLOBAL"}(r||(t.Drz=r={}))},287375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setModals=t.setModalInProgress=t.pushModal=t.popModal=t.clearModalsUntil=t.ModalSettingsActionTypes=void 0;var n={PUSH_MODAL:"PUSH_MODAL",POP_MODAL:"POP_MODAL",SET_MODALS:"SET_MODALS",SET_MODAL_IN_PROGRESS:"SET_MODAL_IN_PROGRESS",CLEAR_MODALS_UNTIL:"CLEAR_MODALS_UNTIL"};t.ModalSettingsActionTypes=n;t.pushModal=function(e){return Object.assign({type:n.PUSH_MODAL},e)};t.popModal=function(){return{type:n.POP_MODAL}};t.setModals=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{modals:[]},t=e.modals;return{type:n.SET_MODALS,modals:t}};t.clearModalsUntil=function(e){return{type:n.CLEAR_MODALS_UNTIL,predicate:e}};t.setModalInProgress=function(e){return{type:n.SET_MODAL_IN_PROGRESS,value:e}}},235049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoConnect=function(){n=!0},t.autoDisconnect=function(){n=!1},t.isConnected=function(){return n};var n=!0},84690:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeHref=function(e){if(function(e){return/^[^:]*([/?#]|$)/.test(e)}(e=(e||"").trim()))return e;var t=e.indexOf(":"),n=e.slice(0,t).toLowerCase();if(!n||/[^a-z]/.test(n)||i.has(n))return"http"+e.slice(t);a.has(n)||o.default.ReportErrorOnce({errorMessage:"Unknown scheme in sanitizeHref",scheme:n,href:e});return e};var o=r(n(593186));var i=new Set(["javascript"]),a=new Set(["comgooglemapsurl","deapp","http","https","intent","mailto","oneqa","sms","tel","whatsapp"])},149313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$TSFixMeMaybeNull=function(e){}},882901:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.addIsOpen=function(e,t){var n;return Object.assign(Object.assign({},e),{isOpen:(null===(n=o.default.get(t,e._path,{}))||void 0===n?void 0:n.isOpen)||!1})};var o=r(n(496486))},244306:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.getRunTaskSummary=t.getCardSummaryForNode=t.getCardSummaryForEvent=void 0;var o=r(n(600861)),i=n(729633),a=r(n(496486)),l=n(772414),u=r(n(540554)),s=function(e){if(!e)return"";var t;switch(null==e?void 0:e.Type){case"Email":var n=e;if(t=n.TableName?n.TableName:"No Table",n.ToList&&n.ToList.length>0){var r="";n.ToList.forEach((function(e){e&&(r+=("="===e.charAt(0)?e.slice(1):e)+", ")})),r&&(t+=" / To: "+r.slice(0,-2))}"EmbeddedAppView"===n.EmailType?n.ViewName&&(t+=" / View: "+n.ViewName):n.Subject&&(t+=" / Subject: "+n.Subject);break;case"Notification":var o=e;if(t=o.TableName?o.TableName:"No Table",o.ToList&&o.ToList.length>0){var i="";o.ToList.forEach((function(e){e&&(i+=("="===e.charAt(0)?e.slice(1):e)+", ")})),i&&(t+=" / To: "+i.slice(0,-2))}break;case"SMS":var l=e;if(t=l.TableName?l.TableName:"No Table",l.ToList&&l.ToList.length>0){var u="";l.ToList.forEach((function(e){e&&(u+=("="===e.charAt(0)?e.slice(1):e)+", ")})),u&&(t+=" / To: "+u.slice(0,-2))}break;case"Webhook":var s=e;t=s.TableName?s.TableName:"No Table",t+=s.Preset?" / "+s.Preset:"",t+=s.AsyncExec?" / Run asynchronously":"";break;case"MakeDoc":var c=e;t=c.TableName?c.TableName:"No Table",t+=c.ContentType?" / "+a.default.startCase(c.ContentType.toLowerCase()):"";break;case"AppsScript":var d=e;t=d.TableName?d.TableName:"No Table",t+=d.ScriptId?" / "+d.ScriptId:"",t+=d.FunctionName?" / "+d.FunctionName:"";break;case"Chat":var p=e;t=p.TableName?p.TableName:"No Table",t+=p.SpaceIdList&&p.SpaceIdList.length>0?" / Chat space":"",t+=p.ViewName?" / View: "+p.ViewName:"";break;default:t="Define the actions at this step"}return t};t.getRunTaskSummary=s;var c=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=function(e){return e?e.map((function(e){return"".concat(e.ColumnToEdit," ").concat((null==e?void 0:e.NewColumnValue)?null==e?void 0:e.NewColumnValue:"")})):[]};if((0,l.isRunActionNode)(t)&&i){var s="",c=e.getProcessForNode(i);(null==c?void 0:c.InputSchemaName)&&(s=null!==(r=null===(n=e.tableForSchema(null==c?void 0:c.InputSchemaName))||void 0===n?void 0:n.Name)&&void 0!==r?r:"");var d=e.findDataAction(t.Action,s);if(d)return[a.default.startCase(a.default.toLower(d.ActionType.replace("_"," "))),d.Table?d.Table:""].concat((0,o.default)(["SET_COLUMN_VALUE","ADD_RECORD_TO"].includes(d.ActionType)?u(d.ActionDefinition.Assignments):[])).join(" / ")}return""};t.getCardSummaryForNode=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t){if((0,l.isRunTaskNode)(t))return s(e.entityByName(i.TemplatePath.Tasks,t.Task));var u;switch(t.NodeType){case"WAIT":var d=t;u="WaitForCondition"===d.WaitNodeType?"Wait for a condition"+(d.Condition?" / "+("="===d.Condition.charAt(0)?d.Condition.slice(1):d.Condition):""):"Wait for a period"+(d.Period?" / "+("="===d.Period.charAt(0)?d.Period.slice(1):d.Period):"");break;case"RUN_ACTION":""===(u=c(e,t,o))&&(u="Define the actions at this step");break;case"IF_ELSE":var p=t;u="Branch on a condition"+(p.Condition?" / "+("="===p.Condition.charAt(0)?p.Condition.slice(1):p.Condition):"");break;case"CALL_PROCESS":var f=t,g=e.entityByName(i.TemplatePath.Processes,null==f?void 0:f.ProcessName);u=null==f.ProcessName?"Call a process":(null==f?void 0:f.ProcessName)+((null==g?void 0:g.InputSchemaName)?" / "+a.default.startCase(null===(n=null==f?void 0:f.CallMode)||void 0===n?void 0:n.toLowerCase()):"");break;case"RETURN":var h=t.ReturnValues;if(null==h||0===h.length)u="returns values";else{u="";for(var m=0;m<h.length&&m<3;m++)h[m].ColumnToEdit&&h[m].NewColumnValue&&(u+=h[m].ColumnToEdit+" = "+(null===(r=h[m].NewColumnValue)||void 0===r?void 0:r.slice(1))+", ");u=u.slice(0,-2)}break;case"CALL_PROCESS_FOR_EACH_ROW":var y=t;u=null==y?"Call a process for each row":"Call "+y.ProcessName+" for each row"+(y.Table?" / "+y.Table+(y.FilterCondition?" / "+y.FilterCondition.slice(1):""):"");break;default:u="Define the actions at this step"}return u}};t.getCardSummaryForEvent=function(e,t){if(e){var n="Define your event trigger";if("Scheduled"===(null==e?void 0:e.EventType)){var r=new u.default(e.AppEventDefinition.Schedule);switch(r.frequency){case"daily":n=a.default.startCase(r.frequency)+" / "+r.timeString();break;case"weekly":n=a.default.startCase(r.frequency);var o=r.daysOfWeekString();if(o.length>0){n+=" / "+o[0];for(var i=1;i<o.length;i++)n+=", "+o[i];n+=" / "+r.timeString()}break;case"monthly":n=a.default.startCase(r.frequency);var l=r.dayOfMonth();void 0!==l&&(n+=" / ","L"!==l.value&&"LW"!==l.value&&(n+="Day "),n+=l.label+" / "+r.timeString());break;case"monthlyByWeek":n=a.default.startCase(r.frequency);var s=r.whichWeekObject();if(void 0!==s){n+=" / "+s.label+" week";var c=r.daysOfWeekString();c.length>0&&(n+=" / "+c[0]+" / "+r.timeString())}}}else if("Change"===e.EventType)n=t+" / "+a.default.capitalize(a.default.toString(e.AppEventDefinition.ChangeEvent).replace(/_+/g," "));else if("Chat"===e.EventType){var d=e.AppEventDefinition;if("SLASH_COMMAND"===d.EventType){var p=d.SlashCommand;n=p&&p.Name?"via "+p.Name:"Slash command"}else n=a.default.capitalize(a.default.toString(d.EventType).replace(/_+/g," "))}return n}}},894002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"UiEntityWithIsOpen",{enumerable:!0,get:function(){return o.UiEntityWithIsOpen}}),Object.defineProperty(t,"addIsOpen",{enumerable:!0,get:function(){return o.addIsOpen}}),Object.defineProperty(t,"getCardSummaryForEvent",{enumerable:!0,get:function(){return a.getCardSummaryForEvent}}),Object.defineProperty(t,"getCardSummaryForNode",{enumerable:!0,get:function(){return a.getCardSummaryForNode}}),Object.defineProperty(t,"getRunTaskSummary",{enumerable:!0,get:function(){return a.getRunTaskSummary}}),Object.defineProperty(t,"isEntityEmbedded",{enumerable:!0,get:function(){return i.isEntityEmbedded}}),Object.defineProperty(t,"openReferenceModal",{enumerable:!0,get:function(){return r.openReferenceModal}});var r=n(871198),o=n(882901),i=n(40011),a=n(244306)},871198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openReferenceModal=void 0;var r=n(287375);t.openReferenceModal=function(e,t,n){n.length>0&&(e.stopPropagation(),t((0,r.pushModal)({component:"REFERENCE_LINKS_MODAL",subtitle:"The following processes and bots use this component. Edits to the component may break the following instances.",skipStyleReset:!0,hideHeaderCloseButton:!0,props:{references:n},modalProps:{maxWidth:"sm"}})))}},40011:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEntityEmbedded=void 0;t.isEntityEmbedded=function(e){return"LOCAL"===e||"PROCESS"===e}},239855:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.CalendarTodayIcon=void 0;var o=r(n(667294)),i=(0,n(697211).createSvgIcon)(o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o.default.createElement("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})),"CalendarTodayIcon");t.CalendarTodayIcon=i},596179:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DateRangeIcon=void 0;var o=r(n(667294)),i=(0,n(697211).createSvgIcon)(o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o.default.createElement("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM8 11c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4 0c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4 0c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"})),"DateRangeIcon");t.DateRangeIcon=i},188709:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.EventAvailableIcon=void 0;var o=r(n(667294)),i=(0,n(697211).createSvgIcon)(o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o.default.createElement("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zm-3.4-9.4L17 12l-5.99 6-4-4 1.4-1.4 2.6 2.6 4.59-4.6z"})),"EventAvailableIcon");t.EventAvailableIcon=i},532499:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.TodayIcon=void 0;var o=r(n(667294)),i=(0,n(697211).createSvgIcon)(o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o.default.createElement("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 9.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S10.38 9.5 9 9.5z"})),"TodayIcon");t.TodayIcon=i},729633:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatePath=void 0,t.TemplatePath=n,function(e){e.Bots="Behavior.AppBots",e.DataActions="AppData.DataActions",e.Events="Behavior.AppEvents",e.FormatRules="Presentation.FormatRules",e.OcrModels="Behavior.AppOcrModels",e.PredictiveModels="Behavior.AppPredictiveModels",e.Processes="Behavior.AppProcesses",e.Schemas="AppData.DataSchemas",e.Slices="AppData.TableSlices",e.Tables="AppData.DataSets",e.Tasks="Behavior.Tasks",e.UserRoles="UserRoles",e.Views="Presentation.Controls",e.WorkflowRules="Behavior.AppWorkflowRules"}(n||(t.TemplatePath=n={}))},449977:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.protoTransportProvider=t.batchSendMonitoringData=t.MonitoringClient=void 0;var o=r(n(364687)),i=r(n(496486)),a=n(579911),l=n(390678),u=n(419638),s=n(462790),c=r(n(593186)),d=n(998182),p=n(635672),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},g=function(e){return function(t,n,r){var o=e.url,i=a.base64.stringify(n);(0,p.ajaxPost)(o,i,{headers:{Accept:"text/proto-base64","Content-Type":"text/proto-base64"},timeout:(null==e?void 0:e.timeout)||0}).then((function(e){var t=a.base64.parse(e);r(null,t)})).catch((function(e){r(e,null)}))}};t.protoTransportProvider=g;var h=s.MonitoringProto.FrontendMonitoringService.create(g({url:"/api/monitoring/collect"}));t.MonitoringClient=h;var m=(0,l.batch)((function(e,t){return f(void 0,void 0,void 0,o.default.mark((function n(){var r,a,l,p,f,g,m;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&0!==e.length){n.next=2;break}return n.abrupt("return",s.MonitoringProto.CollectMonitoringDataResponse.create({}));case 2:r=s.MonitoringProto.MonitoringSourceType.MONITORING_SOURCE_TYPE_UNKNOWN,n.t0=t.source,n.next="editor"===n.t0?6:8;break;case 6:return r=s.MonitoringProto.MonitoringSourceType.EDITOR,n.abrupt("break",8);case 8:return a={appId:t.appId,pageLoadSessionId:t.pageLoadSessionId,sourceType:r},l=i.default.groupBy(e,(function(e){return e.key})),p=i.default.mapValues(l,(function(e){return e.map((function(e){return e.value}))})),(f=i.default.merge(a,p)).commitHash=u.COMMIT_HASH,f.counterMetricEvents&&(f.counterMetricEvents=(0,d.aggregateCounters)(f.counterMetricEvents)),g=s.MonitoringProto.CollectMonitoringDataRequest.create(f),c.default.logToDevConsole("FrontendMonitoring request-",g),n.prev=16,n.next=19,h.collectMonitoringData(g);case 19:return n.abrupt("return",n.sent);case 22:n.prev=22,n.t1=n.catch(16),null!=n.t1&&(m="Error thrown by monitoring client",c.default.logToDevConsole(m,n.t1),c.default.ReportErrorOnce({errorMessage:m,request:JSON.stringify(g),err:n.t1}));case 25:return n.abrupt("return",s.MonitoringProto.CollectMonitoringDataResponse.create({}));case 26:case"end":return n.stop()}}),n,null,[[16,22]])})))}),{minSize:25,wait:5e4});t.batchSendMonitoringData=m},998182:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionMetric=t.CounterMetric=void 0,t.aggregateCounters=function(e){var t,n=e.reduce((function(e,t){var n=t.name,r=t.value,o=t.labels;(0,s.assert)(null!=n),(0,s.assert)(null!=r),(0,s.assert)(null!=o);var i=e.get(n);void 0===i&&(i=new Map,e.set(n,i));var a,l=((a=new URLSearchParams(o)).sort(),a.toString()),u=i.get(l);return void 0===u&&(u=0),i.set(l,u+r),e}),new Map),r=[],o=c(n.entries());try{for(o.s();!(t=o.n()).done;){var i,u=(0,a.default)(t.value,2),d=u[0],p=c(u[1].entries());try{for(p.s();!(i=p.n()).done;){var g=(0,a.default)(i.value,2),h=g[0],m=g[1],y=f(h);r.push(l.MonitoringProto.CounterMetricEvent.create({name:d,value:m,labels:y}))}}catch(e){p.e(e)}finally{p.f()}}}catch(e){o.e(e)}finally{o.f()}return r},t.getMetricCount=function(){return p};var o=r(n(856690)),i=r(n(689728)),a=r(n(627424)),l=n(462790),u=n(449977),s=n(766333);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=0;function f(e){return Object.fromEntries(new URLSearchParams(e))}var g=function(){function e(t){(0,o.default)(this,e),this.name=t,++p}return(0,i.default)(e,[{key:"record",value:function(e){!function(e,t){(0,u.batchSendMonitoringData)({key:"counterMetricEvents",value:l.MonitoringProto.CounterMetricEvent.create({name:e,labels:t,value:1})},{})}(this.name,null!=e?e:{})}}]),e}();t.CounterMetric=g;var h=function(){function e(t){(0,o.default)(this,e),this.name=t,p+=2}return(0,i.default)(e,[{key:"record",value:function(e,t){!function(e,t,n){(0,u.batchSendMonitoringData)({key:"distributionMetricEvents",value:l.MonitoringProto.DistributionMetricEvent.create({name:e,labels:n,value:t})},{})}(this.name,e,null!=t?t:{})}}]),e}();t.DistributionMetric=h},458279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appStartsMetric=t.appStartMsMetric=t.appBootstrapMsMetric=void 0;var r=n(998182),o=new r.CounterMetric("app_starts");t.appStartsMetric=o;var i=new r.DistributionMetric("app_bootstrap_ms");t.appBootstrapMsMetric=i;var a=new r.DistributionMetric("app_start_ms");t.appStartMsMetric=a},599185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterTimeMetric=void 0;var r=new(n(998182).DistributionMetric)("filter_time");t.filterTimeMetric=r},435113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchTimeMetric=void 0;var r=new(n(998182).DistributionMetric)("search_time");t.searchTimeMetric=r},5206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncTimeMetric=t.syncStalenessMetric=t.syncCountMetric=t.recordSyncMetrics=void 0;var r=n(998182),o=new r.DistributionMetric("sync_time");t.syncTimeMetric=o;var i=new r.DistributionMetric("sync_staleness");t.syncStalenessMetric=i;var a=new r.CounterMetric("sync_count");t.syncCountMetric=a;t.recordSyncMetrics=function(e,t,n){a.record(n),o.record(Date.now()-e.getTime(),n),t&&i.record(Date.now()-t,n)}},637491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasmLatencyMetric=t.recordWasmLatency=void 0;var r=new(n(998182).DistributionMetric)("wasm_latency");t.wasmLatencyMetric=r;t.recordWasmLatency=function(e,t){var n=performance.now()-e;r.record(n,t)}},79837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasmLoadMetric=void 0;var r=new(n(998182).DistributionMetric)("wasm");t.wasmLoadMetric=r},926794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasmMemoryUsageMbMetric=void 0;var r=new(n(998182).DistributionMetric)("wasm_memory_usage_mb");t.wasmMemoryUsageMbMetric=r},354632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"appBootstrapMsMetric",{enumerable:!0,get:function(){return r.appBootstrapMsMetric}}),Object.defineProperty(t,"appStartMsMetric",{enumerable:!0,get:function(){return r.appStartMsMetric}}),Object.defineProperty(t,"appStartsMetric",{enumerable:!0,get:function(){return r.appStartsMetric}}),Object.defineProperty(t,"filterTimeMetric",{enumerable:!0,get:function(){return i.filterTimeMetric}}),Object.defineProperty(t,"recordSyncMetrics",{enumerable:!0,get:function(){return s.recordSyncMetrics}}),Object.defineProperty(t,"searchTimeMetric",{enumerable:!0,get:function(){return o.searchTimeMetric}}),Object.defineProperty(t,"syncCountMetric",{enumerable:!0,get:function(){return s.syncCountMetric}}),Object.defineProperty(t,"syncStalenessMetric",{enumerable:!0,get:function(){return s.syncStalenessMetric}}),Object.defineProperty(t,"syncTimeMetric",{enumerable:!0,get:function(){return s.syncTimeMetric}}),Object.defineProperty(t,"wasmLatencyMetric",{enumerable:!0,get:function(){return u.wasmLatencyMetric}}),Object.defineProperty(t,"wasmLoadMetric",{enumerable:!0,get:function(){return a.wasmLoadMetric}}),Object.defineProperty(t,"wasmMemoryUsageMbMetric",{enumerable:!0,get:function(){return l.wasmMemoryUsageMbMetric}});var r=n(458279),o=n(435113),i=n(599185),a=n(79837),l=n(926794),u=n(637491),s=n(5206)},462790:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ProtoWellKnownTypes=t.MonitoringProto=void 0;var o=r(n(878074)),i=(o.default,o.default.cloud.appsheet.monitoring.v1);t.MonitoringProto=i;var a=o.default.google.protobuf;t.ProtoWellKnownTypes=a},161171:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionSettingsOption=void 0,t.ExpressionSettingsOption=n,function(e){e[e.Legacy=0]="Legacy",e[e.Consistent=1]="Consistent"}(n||(t.ExpressionSettingsOption=n={}))},506871:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NumberDivisionOption=void 0,t.NumberDivisionOption=n,function(e){e[e.Number=0]="Number",e[e.Decimal=1]="Decimal"}(n||(t.NumberDivisionOption=n={}))},417751:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateModeEnum=void 0,t.UpdateModeEnum=n,function(e){e[e.READ_ONLY=0]="READ_ONLY",e[e.UPDATES_ONLY=1]="UPDATES_ONLY",e[e.ADDS_ONLY=2]="ADDS_ONLY",e[e.ADDS_AND_UPDATES=3]="ADDS_AND_UPDATES",e[e.DELETES_ONLY=4]="DELETES_ONLY",e[e.UPDATES_AND_DELETES=5]="UPDATES_AND_DELETES",e[e.ADDS_AND_DELETES=6]="ADDS_AND_DELETES",e[e.ALL_CHANGES=7]="ALL_CHANGES",e[e.UNASSIGNED=8]="UNASSIGNED"}(n||(t.UpdateModeEnum=n={}))},222820:()=>{"use strict";!function(e){var t="canvasResize",n={newsize:function(e,t,n,r,o){var i=o?"h":"";if(n&&e>n||r&&t>r){var a=e/t;(a>=1||0===r)&&n&&!o?(e=n,t=n/a>>0):o&&a<=n/r?(e=n,t=n/a>>0,i="w"):(e=r*a>>0,t=r)}return{width:e,height:t,cropped:i}},dataURLtoBlob:function(e){for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=atob(e.split(",")[1]),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;return a?((a=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder)).append(r),a.getBlob(t)):a=new Blob([r],{type:t})},detectSubsampling:function(e){var t=e.width;if(t*e.height>1048576){var n=document.createElement("canvas");n.width=n.height=1;var r=n.getContext("2d");return r.drawImage(e,1-t,0),0===r.getImageData(0,0,1,1).data[3]}return!1},rotate:function(e,t){var n={1:{90:6,180:3,270:8},2:{90:7,180:4,270:5},3:{90:8,180:1,270:6},4:{90:5,180:2,270:7},5:{90:2,180:7,270:4},6:{90:3,180:8,270:1},7:{90:4,180:5,270:2},8:{90:1,180:6,270:3}};return n[e][t]?n[e][t]:e},transformCoordinate:function(e,t,n,r){switch(r){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var o=e.getContext("2d");switch(r){case 1:default:break;case 2:o.translate(t,0),o.scale(-1,1);break;case 3:o.translate(t,n),o.rotate(Math.PI);break;case 4:o.translate(0,n),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-n);break;case 7:o.rotate(.5*Math.PI),o.translate(t,-n),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-t,0)}},detectVerticalSquash:function(e,t,n){var r=document.createElement("canvas");r.width=1,r.height=n;var o=r.getContext("2d");o.drawImage(e,0,0);for(var i=o.getImageData(0,0,1,n).data,a=0,l=n,u=n;u>a;){0===i[4*(u-1)+3]?l=u:a=u,u=l+a>>1}var s=u/n;return 0===s?1:s},callback:function(e){return e}},r={width:300,height:0,crop:!1,quality:80,callback:n.callback,disableSubsamplingDetection:!1};function o(n,o){this.file=n,this.options=e.extend({},r,o),this._defaults=r,this._name=t,this.init()}o.prototype={init:function(){var t=this,r=this.file,o=new FileReader;o.onloadend=function(o){var i=o.target.result,a=new Image;a.onload=function(o){e(a).exifLoadFromDataURL((function(){var o=e(a).exif("Orientation")[0]||1,i=document.querySelector("img");i&&("from-image"===getComputedStyle(i).imageOrientation&&(o=1));var l=(o=n.rotate(o,t.options.rotate))>=5&&o<=8?n.newsize(a.height,a.width,t.options.width,t.options.height,t.options.crop):n.newsize(a.width,a.height,t.options.width,t.options.height,t.options.crop),u=a.width,s=a.height,c=l.width,d=l.height,p=document.createElement("canvas"),f=p.getContext("2d");f.save(),n.transformCoordinate(p,c,d,o),!t.options.disableSubsamplingDetection&&n.detectSubsampling(a)&&(u/=2,s/=2);var g=1024,h=document.createElement("canvas");h.width=h.height=g;for(var m=h.getContext("2d"),y=0;y<s;){for(var v=y+g>s?s-y:g,b=0;b<u;){var O=b+g>u?u-b:g;m.clearRect(0,0,g,g),m.drawImage(a,-b,-y);var w=Math.floor(b*c/u),S=Math.ceil(O*c/u),T=Math.floor(y*d/s/1),A=Math.ceil(v*d/s/1);f.drawImage(h,0,0,O,v,w,T,S,A),b+=g}y+=g}f.restore(),h=m=null;var k=document.createElement("canvas");k.width="h"===l.cropped?d:c,k.height="w"===l.cropped?c:d;var E="h"===l.cropped?.5*(d-c):0,P="w"===l.cropped?.5*(c-d):0;if(k.getContext("2d").drawImage(p,E,P,c,d),"image/png"===r.type)var C=k.toDataURL(r.type);else C=k.toDataURL("image/jpeg",.01*t.options.quality);t.options.callback(C,c,d)}))},a.src=i},"function"==typeof t.options.onError&&(o.onerror=t.options.onError),o.readAsDataURL(r)}},e[t]=function(e,t){if("string"==typeof e)return n[e](t);new o(e,t)}}(jQuery)},671734:(e,t,n)=>{"use strict";var r,o,i,a=n(564836)(n(918698));r=function(e,t,n){var r=e,o=t||0,i=0;this.getRawData=function(){return r},"string"==typeof e&&(i=n||r.length,this.getByteAt=function(e){return 255&r.charCodeAt(e+o)}),this.getLength=function(){return i},this.getSByteAt=function(e){var t=this.getByteAt(e);return t>127?t-256:t},this.getShortAt=function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return n<0&&(n+=65536),n},this.getSShortAt=function(e,t){var n=this.getShortAt(e,t);return n>32767?n-65536:n},this.getLongAt=function(e,t){var n=this.getByteAt(e),r=this.getByteAt(e+1),o=this.getByteAt(e+2),i=this.getByteAt(e+3),a=t?(((n<<8)+r<<8)+o<<8)+i:(((i<<8)+o<<8)+r<<8)+n;return a<0&&(a+=4294967296),a},this.getSLongAt=function(e,t){var n=this.getLongAt(e,t);return n>2147483647?n-4294967296:n},this.getStringAt=function(e,t){for(var n=[],r=e,o=0;r<e+t;r++,o++)n[o]=String.fromCharCode(this.getByteAt(r));return n.join("")},this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))},this.toBase64=function(){return window.btoa(r)},this.fromBase64=function(e){r=window.atob(e)}},o=function(){function e(){var e=null;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}function t(t,n,o,i,a,l){var u=e();if(u){var s=0;i&&!a&&(s=i[0]);var c=0;i&&(c=i[1]-i[0]+1),n&&(void 0!==u.onload?u.onload=function(){"200"==u.status||"206"==u.status||"0"==u.status?(this.binaryResponse=new r(this.responseText,s,c),this.fileSize=l||this.getResponseHeader("Content-Length"),n(this)):o&&o(),u=null}:u.onreadystatechange=function(){4==u.readyState&&("200"==u.status||"206"==u.status||"0"==u.status?(this.binaryResponse=new r(u.responseBody,s,c),this.fileSize=l||this.getResponseHeader("Content-Length"),n(this)):o&&o(),u=null)}),u.open("GET",t,!0),u.overrideMimeType&&u.overrideMimeType("text/plain; charset=x-user-defined"),i&&a&&u.setRequestHeader("Range","bytes="+i[0]+"-"+i[1]),u.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT"),u.send(null)}else o&&o()}return function(n,r,o,i){i?function(t,n,r){var o=e();o?(n&&(void 0!==o.onload?o.onload=function(){"200"==o.status?n(this):r&&r(),o=null}:o.onreadystatechange=function(){4==o.readyState&&("200"==o.status?n(this):r&&r(),o=null)}),o.open("HEAD",t,!0),o.send(null)):r&&r()}(n,(function(e){var a,l,u=parseInt(e.getResponseHeader("Content-Length"),10),s=e.getResponseHeader("Accept-Ranges");a=i[0],i[0]<0&&(a+=u),l=a+i[1]-1,t(n,r,o,[a,l],"bytes"==s,u)})):t(n,r,o)}}(),i={},function(){function e(e){return!!e.exifdata}function t(e){if(255!=e.getByteAt(0)||216!=e.getByteAt(1))return!1;for(var t=2,n=e.getLength();t<n;){if(255!=e.getByteAt(t))return!1;var r=e.getByteAt(t+1);if(22400==r)return u(e,t+4,e.getShortAt(t+2,!0));if(225==r)return u(e,t+4,e.getShortAt(t+2,!0));t+=2+e.getShortAt(t+2,!0)}}function n(e,t,n,r,o){for(var i=e.getShortAt(n,o),a={},u=0;u<i;u++){var s=n+12*u+2,c=r[e.getShortAt(s,o)];a[c]=l(e,s,t,0,o)}return a}function l(e,t,n,r,o){var i=e.getShortAt(t+2,o),a=e.getLongAt(t+4,o),l=e.getLongAt(t+8,o)+n;switch(i){case 1:case 7:if(1==a)return e.getByteAt(t+8,o);for(var u=a>4?l:t+8,s=[],c=0;c<a;c++)s[c]=e.getByteAt(u+c);return s;case 2:var d=a>4?l:t+8;return e.getStringAt(d,a-1);case 3:if(1==a)return e.getShortAt(t+8,o);for(u=a>2?l:t+8,s=[],c=0;c<a;c++)s[c]=e.getShortAt(u+2*c,o);return s;case 4:if(1==a)return e.getLongAt(t+8,o);for(s=[],c=0;c<a;c++)s[c]=e.getLongAt(l+4*c,o);return s;case 5:if(1==a)return e.getLongAt(l,o)/e.getLongAt(l+4,o);for(s=[],c=0;c<a;c++)s[c]=e.getLongAt(l+8*c,o)/e.getLongAt(l+4+8*c,o);return s;case 9:if(1==a)return e.getSLongAt(t+8,o);for(s=[],c=0;c<a;c++)s[c]=e.getSLongAt(l+4*c,o);return s;case 10:if(1==a)return e.getSLongAt(l,o)/e.getSLongAt(l+4,o);for(s=[],c=0;c<a;c++)s[c]=e.getSLongAt(l+8*c,o)/e.getSLongAt(l+4+8*c,o);return s}}function u(e,t,r){if("Exif"!=e.getStringAt(t,4))return!1;var o,a=t+6;if(18761==e.getShortAt(a))o=!1;else{if(19789!=e.getShortAt(a))return!1;o=!0}if(42!=e.getShortAt(a+2,o))return!1;if(8!=e.getLongAt(a+4,o))return!1;var l=n(e,a,a+8,i.TiffTags,o);if(l.ExifIFDPointer){var u=n(e,a,a+l.ExifIFDPointer,i.Tags,o);for(var s in u){switch(s){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":u[s]=i.StringValues[s][u[s]];break;case"ExifVersion":case"FlashpixVersion":u[s]=String.fromCharCode(u[s][0],u[s][1],u[s][2],u[s][3]);break;case"ComponentsConfiguration":u[s]=i.StringValues.Components[u[s][0]]+i.StringValues.Components[u[s][1]]+i.StringValues.Components[u[s][2]]+i.StringValues.Components[u[s][3]]}l[s]=u[s]}}if(l.GPSInfoIFDPointer){var c=n(e,a,a+l.GPSInfoIFDPointer,i.GPSTags,o);for(var s in c)"GPSVersionID"===s&&(c[s]=c[s][0]+"."+c[s][1]+"."+c[s][2]+"."+c[s][3]),l[s]=c[s]}return l}i.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},i.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},i.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},i.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},i.getData=function(n,r){return!!n.complete&&(e(n)?r&&r():function(e,n){o(e.src,(function(r){console.log("BINARY",r.binaryResponse);var o=t(r.binaryResponse);e.exifdata=o||{},n&&n()}))}(n,r),!0)},i.getDataFromDataURL=function(n,o){return!!n.complete&&(e(n)?o&&o():function(e,n){var o=atob(e.src.split(",")[1]),i=t(new r(o,0,o.length));e.exifdata=i||{},n&&n()}(n,o),!0)},i.getTag=function(t,n){if(e(t))return t.exifdata[n]},i.getAllTags=function(t){if(!e(t))return{};var n=t.exifdata,r={};for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r},i.pretty=function(t){if(!e(t))return"";var n=t.exifdata,r="";for(var o in n)n.hasOwnProperty(o)&&("object"==(0,a.default)(n[o])?r+=o+" : ["+n[o].length+" values]\r\n":r+=o+" : "+n[o]+"\r\n");return r},i.readFromBinaryFile=function(e){return t(e)},jQuery((function(){for(var e,t,n,r=document.getElementsByTagName("img"),o=0;o<r.length;o++)"true"==r[o].getAttribute("exif")&&(r[o].complete?i.getData(r[o]):(e=r[o],t="load",n=function(){i.getData(this)},e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)))})),jQuery.fn.exifLoad=function(e){return this.each((function(){i.getData(this,e)}))},jQuery.fn.exifLoadFromDataURL=function(e){return this.each((function(){return i.getDataFromDataURL(this,e),!0}))},jQuery.fn.exif=function(e){var t=[];return this.each((function(){t.push(i.getTag(this,e))})),t},jQuery.fn.exifAll=function(){var e=[];return this.each((function(){e.push(i.getAllTags(this))})),e},jQuery.fn.exifPretty=function(){var e=[];return this.each((function(){e.push(i.pretty(this))})),e}}()},674823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var n=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],r={},o=0;o<n.length;o++)for(var i=n[o].letters,a=0;a<i.length;a++)r[i[a]]=n[o].base;var l=/[^\u0000-\u007E]/g,u=function(e){return r[e]||e},s=function(e){return l.test(e)?e.replace(l,u):e};t.default=s},878074:(e,t,n)=>{"use strict";var r=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.google=t.cloud=void 0;var o=r(n(918698)),i=n(262100),a=i.Reader,l=i.Writer,u=i.util,s=i.roots.monitoringprotos||(i.roots.monitoringprotos={}),c=s.google=function(){var e,t,n,r,c,d,p,f,g,h,m,y,v={};return v.api=((n={}).Http=function(){function e(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rules=u.emptyArray,e.prototype.fullyDecodeReservedExpansion=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)s.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,"fullyDecodeReservedExpansion")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Http;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.HttpRule.decode(e,e.uint32()));break;case 2:r.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var n=s.google.api.HttpRule.verify(e.rules[t]);if(n)return"rules."+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&"boolean"!=typeof e.fullyDecodeReservedExpansion?"fullyDecodeReservedExpansion: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Http)return e;var t=new s.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var n=0;n<e.rules.length;++n){if("object"!==(0,o.default)(e.rules[n]))throw TypeError(".google.api.Http.rules: object expected");t.rules[n]=s.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=s.google.api.HttpRule.toObject(e.rules[r],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.HttpRule=function(){function e(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.selector="",e.prototype.get=null,e.prototype.put=null,e.prototype.post=null,e.prototype.delete=null,e.prototype.patch=null,e.prototype.custom=null,e.prototype.body="",e.prototype.responseBody="",e.prototype.additionalBindings=u.emptyArray,Object.defineProperty(e.prototype,"pattern",{get:u.oneOfGetter(t=["get","put","post","delete","patch","custom"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,"get")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,"put")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,"post")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,"delete")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,"patch")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,"custom")&&s.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)s.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,"responseBody")&&t.uint32(98).string(e.responseBody),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.HttpRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.get=e.string();break;case 3:r.put=e.string();break;case 4:r.post=e.string();break;case 5:r.delete=e.string();break;case 6:r.patch=e.string();break;case 8:r.custom=s.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:r.body=e.string();break;case 12:r.responseBody=e.string();break;case 11:r.additionalBindings&&r.additionalBindings.length||(r.additionalBindings=[]),r.additionalBindings.push(s.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";var t={};if(null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector))return"selector: string expected";if(null!=e.get&&e.hasOwnProperty("get")&&(t.pattern=1,!u.isString(e.get)))return"get: string expected";if(null!=e.put&&e.hasOwnProperty("put")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!u.isString(e.put))return"put: string expected"}if(null!=e.post&&e.hasOwnProperty("post")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!u.isString(e.post))return"post: string expected"}if(null!=e.delete&&e.hasOwnProperty("delete")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!u.isString(e.delete))return"delete: string expected"}if(null!=e.patch&&e.hasOwnProperty("patch")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!u.isString(e.patch))return"patch: string expected"}if(null!=e.custom&&e.hasOwnProperty("custom")){if(1===t.pattern)return"pattern: multiple values";t.pattern=1;var n=s.google.api.CustomHttpPattern.verify(e.custom);if(n)return"custom."+n}if(null!=e.body&&e.hasOwnProperty("body")&&!u.isString(e.body))return"body: string expected";if(null!=e.responseBody&&e.hasOwnProperty("responseBody")&&!u.isString(e.responseBody))return"responseBody: string expected";if(null!=e.additionalBindings&&e.hasOwnProperty("additionalBindings")){if(!Array.isArray(e.additionalBindings))return"additionalBindings: array expected";for(var r=0;r<e.additionalBindings.length;++r){var i=s.google.api.HttpRule.verify(e.additionalBindings[r]);if(i)return"additionalBindings."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.api.HttpRule)return e;var t=new s.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!==(0,o.default)(e.custom))throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=s.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if("object"!==(0,o.default)(e.additionalBindings[n]))throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[n]=s.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector="",n.body="",n.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(n.get=e.get,t.oneofs&&(n.pattern="get")),null!=e.put&&e.hasOwnProperty("put")&&(n.put=e.put,t.oneofs&&(n.pattern="put")),null!=e.post&&e.hasOwnProperty("post")&&(n.post=e.post,t.oneofs&&(n.pattern="post")),null!=e.delete&&e.hasOwnProperty("delete")&&(n.delete=e.delete,t.oneofs&&(n.pattern="delete")),null!=e.patch&&e.hasOwnProperty("patch")&&(n.patch=e.patch,t.oneofs&&(n.pattern="patch")),null!=e.body&&e.hasOwnProperty("body")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(n.custom=s.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs&&(n.pattern="custom")),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r)n.additionalBindings[r]=s.google.api.HttpRule.toObject(e.additionalBindings[r],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(n.responseBody=e.responseBody),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.CustomHttpPattern=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.kind="",e.prototype.path="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.CustomHttpPattern;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.kind=e.string();break;case 2:r.path=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.kind&&e.hasOwnProperty("kind")&&!u.isString(e.kind)?"kind: string expected":null!=e.path&&e.hasOwnProperty("path")&&!u.isString(e.path)?"path: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.CustomHttpPattern)return e;var t=new s.google.api.CustomHttpPattern;return null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.kind="",n.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(n.path=e.path),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Authentication=function(){function e(e){if(this.rules=[],this.providers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rules=u.emptyArray,e.prototype.providers=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)s.google.api.AuthenticationRule.encode(e.rules[n],t.uint32(26).fork()).ldelim();if(null!=e.providers&&e.providers.length)for(var r=0;r<e.providers.length;++r)s.google.api.AuthProvider.encode(e.providers[r],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Authentication;e.pos<n;){var o=e.uint32();switch(o>>>3){case 3:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.AuthenticationRule.decode(e,e.uint32()));break;case 4:r.providers&&r.providers.length||(r.providers=[]),r.providers.push(s.google.api.AuthProvider.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var n=s.google.api.AuthenticationRule.verify(e.rules[t]);if(n)return"rules."+n}}if(null!=e.providers&&e.hasOwnProperty("providers")){if(!Array.isArray(e.providers))return"providers: array expected";for(var r=0;r<e.providers.length;++r){var i=s.google.api.AuthProvider.verify(e.providers[r]);if(i)return"providers."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Authentication)return e;var t=new s.google.api.Authentication;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Authentication.rules: array expected");t.rules=[];for(var n=0;n<e.rules.length;++n){if("object"!==(0,o.default)(e.rules[n]))throw TypeError(".google.api.Authentication.rules: object expected");t.rules[n]=s.google.api.AuthenticationRule.fromObject(e.rules[n])}}if(e.providers){if(!Array.isArray(e.providers))throw TypeError(".google.api.Authentication.providers: array expected");t.providers=[];for(var r=0;r<e.providers.length;++r){if("object"!==(0,o.default)(e.providers[r]))throw TypeError(".google.api.Authentication.providers: object expected");t.providers[r]=s.google.api.AuthProvider.fromObject(e.providers[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[],n.providers=[]),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=s.google.api.AuthenticationRule.toObject(e.rules[r],t)}if(e.providers&&e.providers.length){n.providers=[];for(var o=0;o<e.providers.length;++o)n.providers[o]=s.google.api.AuthProvider.toObject(e.providers[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.AuthenticationRule=function(){function e(e){if(this.requirements=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.oauth=null,e.prototype.allowWithoutCredential=!1,e.prototype.requirements=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.oauth&&Object.hasOwnProperty.call(e,"oauth")&&s.google.api.OAuthRequirements.encode(e.oauth,t.uint32(18).fork()).ldelim(),null!=e.allowWithoutCredential&&Object.hasOwnProperty.call(e,"allowWithoutCredential")&&t.uint32(40).bool(e.allowWithoutCredential),null!=e.requirements&&e.requirements.length)for(var n=0;n<e.requirements.length;++n)s.google.api.AuthRequirement.encode(e.requirements[n],t.uint32(58).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.AuthenticationRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.oauth=s.google.api.OAuthRequirements.decode(e,e.uint32());break;case 5:r.allowWithoutCredential=e.bool();break;case 7:r.requirements&&r.requirements.length||(r.requirements=[]),r.requirements.push(s.google.api.AuthRequirement.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector))return"selector: string expected";if(null!=e.oauth&&e.hasOwnProperty("oauth")){var t=s.google.api.OAuthRequirements.verify(e.oauth);if(t)return"oauth."+t}if(null!=e.allowWithoutCredential&&e.hasOwnProperty("allowWithoutCredential")&&"boolean"!=typeof e.allowWithoutCredential)return"allowWithoutCredential: boolean expected";if(null!=e.requirements&&e.hasOwnProperty("requirements")){if(!Array.isArray(e.requirements))return"requirements: array expected";for(var n=0;n<e.requirements.length;++n){var r=s.google.api.AuthRequirement.verify(e.requirements[n]);if(r)return"requirements."+r}}return null},e.fromObject=function(e){if(e instanceof s.google.api.AuthenticationRule)return e;var t=new s.google.api.AuthenticationRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.oauth){if("object"!==(0,o.default)(e.oauth))throw TypeError(".google.api.AuthenticationRule.oauth: object expected");t.oauth=s.google.api.OAuthRequirements.fromObject(e.oauth)}if(null!=e.allowWithoutCredential&&(t.allowWithoutCredential=Boolean(e.allowWithoutCredential)),e.requirements){if(!Array.isArray(e.requirements))throw TypeError(".google.api.AuthenticationRule.requirements: array expected");t.requirements=[];for(var n=0;n<e.requirements.length;++n){if("object"!==(0,o.default)(e.requirements[n]))throw TypeError(".google.api.AuthenticationRule.requirements: object expected");t.requirements[n]=s.google.api.AuthRequirement.fromObject(e.requirements[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.requirements=[]),t.defaults&&(n.selector="",n.oauth=null,n.allowWithoutCredential=!1),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),null!=e.oauth&&e.hasOwnProperty("oauth")&&(n.oauth=s.google.api.OAuthRequirements.toObject(e.oauth,t)),null!=e.allowWithoutCredential&&e.hasOwnProperty("allowWithoutCredential")&&(n.allowWithoutCredential=e.allowWithoutCredential),e.requirements&&e.requirements.length){n.requirements=[];for(var r=0;r<e.requirements.length;++r)n.requirements[r]=s.google.api.AuthRequirement.toObject(e.requirements[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.AuthProvider=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.issuer="",e.prototype.jwksUri="",e.prototype.audiences="",e.prototype.authorizationUrl="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.issuer&&Object.hasOwnProperty.call(e,"issuer")&&t.uint32(18).string(e.issuer),null!=e.jwksUri&&Object.hasOwnProperty.call(e,"jwksUri")&&t.uint32(26).string(e.jwksUri),null!=e.audiences&&Object.hasOwnProperty.call(e,"audiences")&&t.uint32(34).string(e.audiences),null!=e.authorizationUrl&&Object.hasOwnProperty.call(e,"authorizationUrl")&&t.uint32(42).string(e.authorizationUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.AuthProvider;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.issuer=e.string();break;case 3:r.jwksUri=e.string();break;case 4:r.audiences=e.string();break;case 5:r.authorizationUrl=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!u.isString(e.id)?"id: string expected":null!=e.issuer&&e.hasOwnProperty("issuer")&&!u.isString(e.issuer)?"issuer: string expected":null!=e.jwksUri&&e.hasOwnProperty("jwksUri")&&!u.isString(e.jwksUri)?"jwksUri: string expected":null!=e.audiences&&e.hasOwnProperty("audiences")&&!u.isString(e.audiences)?"audiences: string expected":null!=e.authorizationUrl&&e.hasOwnProperty("authorizationUrl")&&!u.isString(e.authorizationUrl)?"authorizationUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.AuthProvider)return e;var t=new s.google.api.AuthProvider;return null!=e.id&&(t.id=String(e.id)),null!=e.issuer&&(t.issuer=String(e.issuer)),null!=e.jwksUri&&(t.jwksUri=String(e.jwksUri)),null!=e.audiences&&(t.audiences=String(e.audiences)),null!=e.authorizationUrl&&(t.authorizationUrl=String(e.authorizationUrl)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.issuer="",n.jwksUri="",n.audiences="",n.authorizationUrl=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.issuer&&e.hasOwnProperty("issuer")&&(n.issuer=e.issuer),null!=e.jwksUri&&e.hasOwnProperty("jwksUri")&&(n.jwksUri=e.jwksUri),null!=e.audiences&&e.hasOwnProperty("audiences")&&(n.audiences=e.audiences),null!=e.authorizationUrl&&e.hasOwnProperty("authorizationUrl")&&(n.authorizationUrl=e.authorizationUrl),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.OAuthRequirements=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.canonicalScopes="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.canonicalScopes&&Object.hasOwnProperty.call(e,"canonicalScopes")&&t.uint32(10).string(e.canonicalScopes),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.OAuthRequirements;e.pos<n;){var o=e.uint32();o>>>3==1?r.canonicalScopes=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.canonicalScopes&&e.hasOwnProperty("canonicalScopes")&&!u.isString(e.canonicalScopes)?"canonicalScopes: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.OAuthRequirements)return e;var t=new s.google.api.OAuthRequirements;return null!=e.canonicalScopes&&(t.canonicalScopes=String(e.canonicalScopes)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.canonicalScopes=""),null!=e.canonicalScopes&&e.hasOwnProperty("canonicalScopes")&&(n.canonicalScopes=e.canonicalScopes),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.AuthRequirement=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.providerId="",e.prototype.audiences="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.providerId&&Object.hasOwnProperty.call(e,"providerId")&&t.uint32(10).string(e.providerId),null!=e.audiences&&Object.hasOwnProperty.call(e,"audiences")&&t.uint32(18).string(e.audiences),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.AuthRequirement;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.providerId=e.string();break;case 2:r.audiences=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.providerId&&e.hasOwnProperty("providerId")&&!u.isString(e.providerId)?"providerId: string expected":null!=e.audiences&&e.hasOwnProperty("audiences")&&!u.isString(e.audiences)?"audiences: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.AuthRequirement)return e;var t=new s.google.api.AuthRequirement;return null!=e.providerId&&(t.providerId=String(e.providerId)),null!=e.audiences&&(t.audiences=String(e.audiences)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.providerId="",n.audiences=""),null!=e.providerId&&e.hasOwnProperty("providerId")&&(n.providerId=e.providerId),null!=e.audiences&&e.hasOwnProperty("audiences")&&(n.audiences=e.audiences),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Backend=function(){function e(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rules=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)s.google.api.BackendRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Backend;e.pos<n;){var o=e.uint32();o>>>3==1?(r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.BackendRule.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var n=s.google.api.BackendRule.verify(e.rules[t]);if(n)return"rules."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Backend)return e;var t=new s.google.api.Backend;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Backend.rules: array expected");t.rules=[];for(var n=0;n<e.rules.length;++n){if("object"!==(0,o.default)(e.rules[n]))throw TypeError(".google.api.Backend.rules: object expected");t.rules[n]=s.google.api.BackendRule.fromObject(e.rules[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[]),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=s.google.api.BackendRule.toObject(e.rules[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.BackendRule=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.address="",e.prototype.deadline=0,e.prototype.minDeadline=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.address&&Object.hasOwnProperty.call(e,"address")&&t.uint32(18).string(e.address),null!=e.deadline&&Object.hasOwnProperty.call(e,"deadline")&&t.uint32(25).double(e.deadline),null!=e.minDeadline&&Object.hasOwnProperty.call(e,"minDeadline")&&t.uint32(33).double(e.minDeadline),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.BackendRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.address=e.string();break;case 3:r.deadline=e.double();break;case 4:r.minDeadline=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector)?"selector: string expected":null!=e.address&&e.hasOwnProperty("address")&&!u.isString(e.address)?"address: string expected":null!=e.deadline&&e.hasOwnProperty("deadline")&&"number"!=typeof e.deadline?"deadline: number expected":null!=e.minDeadline&&e.hasOwnProperty("minDeadline")&&"number"!=typeof e.minDeadline?"minDeadline: number expected":null},e.fromObject=function(e){if(e instanceof s.google.api.BackendRule)return e;var t=new s.google.api.BackendRule;return null!=e.selector&&(t.selector=String(e.selector)),null!=e.address&&(t.address=String(e.address)),null!=e.deadline&&(t.deadline=Number(e.deadline)),null!=e.minDeadline&&(t.minDeadline=Number(e.minDeadline)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.selector="",n.address="",n.deadline=0,n.minDeadline=0),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),null!=e.address&&e.hasOwnProperty("address")&&(n.address=e.address),null!=e.deadline&&e.hasOwnProperty("deadline")&&(n.deadline=t.json&&!isFinite(e.deadline)?String(e.deadline):e.deadline),null!=e.minDeadline&&e.hasOwnProperty("minDeadline")&&(n.minDeadline=t.json&&!isFinite(e.minDeadline)?String(e.minDeadline):e.minDeadline),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Billing=function(){function e(e){if(this.consumerDestinations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.consumerDestinations=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.consumerDestinations&&e.consumerDestinations.length)for(var n=0;n<e.consumerDestinations.length;++n)s.google.api.Billing.BillingDestination.encode(e.consumerDestinations[n],t.uint32(66).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Billing;e.pos<n;){var o=e.uint32();o>>>3==8?(r.consumerDestinations&&r.consumerDestinations.length||(r.consumerDestinations=[]),r.consumerDestinations.push(s.google.api.Billing.BillingDestination.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.consumerDestinations&&e.hasOwnProperty("consumerDestinations")){if(!Array.isArray(e.consumerDestinations))return"consumerDestinations: array expected";for(var t=0;t<e.consumerDestinations.length;++t){var n=s.google.api.Billing.BillingDestination.verify(e.consumerDestinations[t]);if(n)return"consumerDestinations."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Billing)return e;var t=new s.google.api.Billing;if(e.consumerDestinations){if(!Array.isArray(e.consumerDestinations))throw TypeError(".google.api.Billing.consumerDestinations: array expected");t.consumerDestinations=[];for(var n=0;n<e.consumerDestinations.length;++n){if("object"!==(0,o.default)(e.consumerDestinations[n]))throw TypeError(".google.api.Billing.consumerDestinations: object expected");t.consumerDestinations[n]=s.google.api.Billing.BillingDestination.fromObject(e.consumerDestinations[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.consumerDestinations=[]),e.consumerDestinations&&e.consumerDestinations.length){n.consumerDestinations=[];for(var r=0;r<e.consumerDestinations.length;++r)n.consumerDestinations[r]=s.google.api.Billing.BillingDestination.toObject(e.consumerDestinations[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.BillingDestination=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.monitoredResource="",e.prototype.metrics=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.monitoredResource&&Object.hasOwnProperty.call(e,"monitoredResource")&&t.uint32(10).string(e.monitoredResource),null!=e.metrics&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)t.uint32(18).string(e.metrics[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Billing.BillingDestination;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.monitoredResource=e.string();break;case 2:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.monitoredResource&&e.hasOwnProperty("monitoredResource")&&!u.isString(e.monitoredResource))return"monitoredResource: string expected";if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t)if(!u.isString(e.metrics[t]))return"metrics: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.Billing.BillingDestination)return e;var t=new s.google.api.Billing.BillingDestination;if(null!=e.monitoredResource&&(t.monitoredResource=String(e.monitoredResource)),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".google.api.Billing.BillingDestination.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n)t.metrics[n]=String(e.metrics[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[]),t.defaults&&(n.monitoredResource=""),null!=e.monitoredResource&&e.hasOwnProperty("monitoredResource")&&(n.monitoredResource=e.monitoredResource),e.metrics&&e.metrics.length){n.metrics=[];for(var r=0;r<e.metrics.length;++r)n.metrics[r]=e.metrics[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),n.ConfigChange=function(){function e(e){if(this.advices=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.element="",e.prototype.oldValue="",e.prototype.newValue="",e.prototype.changeType=0,e.prototype.advices=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.element&&Object.hasOwnProperty.call(e,"element")&&t.uint32(10).string(e.element),null!=e.oldValue&&Object.hasOwnProperty.call(e,"oldValue")&&t.uint32(18).string(e.oldValue),null!=e.newValue&&Object.hasOwnProperty.call(e,"newValue")&&t.uint32(26).string(e.newValue),null!=e.changeType&&Object.hasOwnProperty.call(e,"changeType")&&t.uint32(32).int32(e.changeType),null!=e.advices&&e.advices.length)for(var n=0;n<e.advices.length;++n)s.google.api.Advice.encode(e.advices[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.ConfigChange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.element=e.string();break;case 2:r.oldValue=e.string();break;case 3:r.newValue=e.string();break;case 4:r.changeType=e.int32();break;case 5:r.advices&&r.advices.length||(r.advices=[]),r.advices.push(s.google.api.Advice.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.element&&e.hasOwnProperty("element")&&!u.isString(e.element))return"element: string expected";if(null!=e.oldValue&&e.hasOwnProperty("oldValue")&&!u.isString(e.oldValue))return"oldValue: string expected";if(null!=e.newValue&&e.hasOwnProperty("newValue")&&!u.isString(e.newValue))return"newValue: string expected";if(null!=e.changeType&&e.hasOwnProperty("changeType"))switch(e.changeType){default:return"changeType: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.advices&&e.hasOwnProperty("advices")){if(!Array.isArray(e.advices))return"advices: array expected";for(var t=0;t<e.advices.length;++t){var n=s.google.api.Advice.verify(e.advices[t]);if(n)return"advices."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.ConfigChange)return e;var t=new s.google.api.ConfigChange;switch(null!=e.element&&(t.element=String(e.element)),null!=e.oldValue&&(t.oldValue=String(e.oldValue)),null!=e.newValue&&(t.newValue=String(e.newValue)),e.changeType){case"CHANGE_TYPE_UNSPECIFIED":case 0:t.changeType=0;break;case"ADDED":case 1:t.changeType=1;break;case"REMOVED":case 2:t.changeType=2;break;case"MODIFIED":case 3:t.changeType=3}if(e.advices){if(!Array.isArray(e.advices))throw TypeError(".google.api.ConfigChange.advices: array expected");t.advices=[];for(var n=0;n<e.advices.length;++n){if("object"!==(0,o.default)(e.advices[n]))throw TypeError(".google.api.ConfigChange.advices: object expected");t.advices[n]=s.google.api.Advice.fromObject(e.advices[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.advices=[]),t.defaults&&(n.element="",n.oldValue="",n.newValue="",n.changeType=t.enums===String?"CHANGE_TYPE_UNSPECIFIED":0),null!=e.element&&e.hasOwnProperty("element")&&(n.element=e.element),null!=e.oldValue&&e.hasOwnProperty("oldValue")&&(n.oldValue=e.oldValue),null!=e.newValue&&e.hasOwnProperty("newValue")&&(n.newValue=e.newValue),null!=e.changeType&&e.hasOwnProperty("changeType")&&(n.changeType=t.enums===String?s.google.api.ChangeType[e.changeType]:e.changeType),e.advices&&e.advices.length){n.advices=[];for(var r=0;r<e.advices.length;++r)n.advices[r]=s.google.api.Advice.toObject(e.advices[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Advice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Advice;e.pos<n;){var o=e.uint32();o>>>3==2?r.description=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Advice)return e;var t=new s.google.api.Advice;return null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.description=""),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.ChangeType=(e={},(t=Object.create(e))[e[0]="CHANGE_TYPE_UNSPECIFIED"]=0,t[e[1]="ADDED"]=1,t[e[2]="REMOVED"]=2,t[e[3]="MODIFIED"]=3,t),n.ProjectProperties=function(){function e(e){if(this.properties=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.properties=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.properties&&e.properties.length)for(var n=0;n<e.properties.length;++n)s.google.api.Property.encode(e.properties[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.ProjectProperties;e.pos<n;){var o=e.uint32();o>>>3==1?(r.properties&&r.properties.length||(r.properties=[]),r.properties.push(s.google.api.Property.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.properties&&e.hasOwnProperty("properties")){if(!Array.isArray(e.properties))return"properties: array expected";for(var t=0;t<e.properties.length;++t){var n=s.google.api.Property.verify(e.properties[t]);if(n)return"properties."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.ProjectProperties)return e;var t=new s.google.api.ProjectProperties;if(e.properties){if(!Array.isArray(e.properties))throw TypeError(".google.api.ProjectProperties.properties: array expected");t.properties=[];for(var n=0;n<e.properties.length;++n){if("object"!==(0,o.default)(e.properties[n]))throw TypeError(".google.api.ProjectProperties.properties: object expected");t.properties[n]=s.google.api.Property.fromObject(e.properties[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.properties=[]),e.properties&&e.properties.length){n.properties=[];for(var r=0;r<e.properties.length;++r)n.properties[r]=s.google.api.Property.toObject(e.properties[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Property=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=0,e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Property;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.type=e.int32();break;case 3:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Property)return e;var t=new s.google.api.Property;switch(null!=e.name&&(t.name=String(e.name)),e.type){case"UNSPECIFIED":case 0:t.type=0;break;case"INT64":case 1:t.type=1;break;case"BOOL":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"DOUBLE":case 4:t.type=4}return null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=t.enums===String?"UNSPECIFIED":0,n.description=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.google.api.Property.PropertyType[e.type]:e.type),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.PropertyType=function(){var e={},t=Object.create(e);return t[e[0]="UNSPECIFIED"]=0,t[e[1]="INT64"]=1,t[e[2]="BOOL"]=2,t[e[3]="STRING"]=3,t[e[4]="DOUBLE"]=4,t}(),e}(),n.Context=function(){function e(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rules=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)s.google.api.ContextRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Context;e.pos<n;){var o=e.uint32();o>>>3==1?(r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.ContextRule.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var n=s.google.api.ContextRule.verify(e.rules[t]);if(n)return"rules."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Context)return e;var t=new s.google.api.Context;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Context.rules: array expected");t.rules=[];for(var n=0;n<e.rules.length;++n){if("object"!==(0,o.default)(e.rules[n]))throw TypeError(".google.api.Context.rules: object expected");t.rules[n]=s.google.api.ContextRule.fromObject(e.rules[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[]),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=s.google.api.ContextRule.toObject(e.rules[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.ContextRule=function(){function e(e){if(this.requested=[],this.provided=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.requested=u.emptyArray,e.prototype.provided=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.requested&&e.requested.length)for(var n=0;n<e.requested.length;++n)t.uint32(18).string(e.requested[n]);if(null!=e.provided&&e.provided.length)for(var r=0;r<e.provided.length;++r)t.uint32(26).string(e.provided[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.ContextRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.requested&&r.requested.length||(r.requested=[]),r.requested.push(e.string());break;case 3:r.provided&&r.provided.length||(r.provided=[]),r.provided.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector))return"selector: string expected";if(null!=e.requested&&e.hasOwnProperty("requested")){if(!Array.isArray(e.requested))return"requested: array expected";for(var t=0;t<e.requested.length;++t)if(!u.isString(e.requested[t]))return"requested: string[] expected"}if(null!=e.provided&&e.hasOwnProperty("provided")){if(!Array.isArray(e.provided))return"provided: array expected";for(var n=0;n<e.provided.length;++n)if(!u.isString(e.provided[n]))return"provided: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.ContextRule)return e;var t=new s.google.api.ContextRule;if(null!=e.selector&&(t.selector=String(e.selector)),e.requested){if(!Array.isArray(e.requested))throw TypeError(".google.api.ContextRule.requested: array expected");t.requested=[];for(var n=0;n<e.requested.length;++n)t.requested[n]=String(e.requested[n])}if(e.provided){if(!Array.isArray(e.provided))throw TypeError(".google.api.ContextRule.provided: array expected");t.provided=[];for(var r=0;r<e.provided.length;++r)t.provided[r]=String(e.provided[r])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.requested=[],n.provided=[]),t.defaults&&(n.selector=""),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),e.requested&&e.requested.length){n.requested=[];for(var r=0;r<e.requested.length;++r)n.requested[r]=e.requested[r]}if(e.provided&&e.provided.length){n.provided=[];for(var o=0;o<e.provided.length;++o)n.provided[o]=e.provided[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Control=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.environment="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.environment&&Object.hasOwnProperty.call(e,"environment")&&t.uint32(10).string(e.environment),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Control;e.pos<n;){var o=e.uint32();o>>>3==1?r.environment=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.environment&&e.hasOwnProperty("environment")&&!u.isString(e.environment)?"environment: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Control)return e;var t=new s.google.api.Control;return null!=e.environment&&(t.environment=String(e.environment)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.environment=""),null!=e.environment&&e.hasOwnProperty("environment")&&(n.environment=e.environment),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Distribution=function(){function e(e){if(this.bucketCounts=[],this.exemplars=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.count=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.mean=0,e.prototype.sumOfSquaredDeviation=0,e.prototype.range=null,e.prototype.bucketOptions=null,e.prototype.bucketCounts=u.emptyArray,e.prototype.exemplars=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(8).int64(e.count),null!=e.mean&&Object.hasOwnProperty.call(e,"mean")&&t.uint32(17).double(e.mean),null!=e.sumOfSquaredDeviation&&Object.hasOwnProperty.call(e,"sumOfSquaredDeviation")&&t.uint32(25).double(e.sumOfSquaredDeviation),null!=e.range&&Object.hasOwnProperty.call(e,"range")&&s.google.api.Distribution.Range.encode(e.range,t.uint32(34).fork()).ldelim(),null!=e.bucketOptions&&Object.hasOwnProperty.call(e,"bucketOptions")&&s.google.api.Distribution.BucketOptions.encode(e.bucketOptions,t.uint32(50).fork()).ldelim(),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(58).fork();for(var n=0;n<e.bucketCounts.length;++n)t.int64(e.bucketCounts[n]);t.ldelim()}if(null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)s.google.api.Distribution.Exemplar.encode(e.exemplars[r],t.uint32(82).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.count=e.int64();break;case 2:r.mean=e.double();break;case 3:r.sumOfSquaredDeviation=e.double();break;case 4:r.range=s.google.api.Distribution.Range.decode(e,e.uint32());break;case 6:r.bucketOptions=s.google.api.Distribution.BucketOptions.decode(e,e.uint32());break;case 7:if(r.bucketCounts&&r.bucketCounts.length||(r.bucketCounts=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.bucketCounts.push(e.int64());else r.bucketCounts.push(e.int64());break;case 10:r.exemplars&&r.exemplars.length||(r.exemplars=[]),r.exemplars.push(s.google.api.Distribution.Exemplar.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.count&&e.hasOwnProperty("count")&&!(u.isInteger(e.count)||e.count&&u.isInteger(e.count.low)&&u.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.mean&&e.hasOwnProperty("mean")&&"number"!=typeof e.mean)return"mean: number expected";if(null!=e.sumOfSquaredDeviation&&e.hasOwnProperty("sumOfSquaredDeviation")&&"number"!=typeof e.sumOfSquaredDeviation)return"sumOfSquaredDeviation: number expected";if(null!=e.range&&e.hasOwnProperty("range")){var t=s.google.api.Distribution.Range.verify(e.range);if(t)return"range."+t}if(null!=e.bucketOptions&&e.hasOwnProperty("bucketOptions")){var n=s.google.api.Distribution.BucketOptions.verify(e.bucketOptions);if(n)return"bucketOptions."+n}if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var r=0;r<e.bucketCounts.length;++r)if(!(u.isInteger(e.bucketCounts[r])||e.bucketCounts[r]&&u.isInteger(e.bucketCounts[r].low)&&u.isInteger(e.bucketCounts[r].high)))return"bucketCounts: integer|Long[] expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var i=0;i<e.exemplars.length;++i){var a=s.google.api.Distribution.Exemplar.verify(e.exemplars[i]);if(a)return"exemplars."+a}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution)return e;var t=new s.google.api.Distribution;if(null!=e.count&&(u.Long?(t.count=u.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"===(0,o.default)(e.count)&&(t.count=new u.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.mean&&(t.mean=Number(e.mean)),null!=e.sumOfSquaredDeviation&&(t.sumOfSquaredDeviation=Number(e.sumOfSquaredDeviation)),null!=e.range){if("object"!==(0,o.default)(e.range))throw TypeError(".google.api.Distribution.range: object expected");t.range=s.google.api.Distribution.Range.fromObject(e.range)}if(null!=e.bucketOptions){if("object"!==(0,o.default)(e.bucketOptions))throw TypeError(".google.api.Distribution.bucketOptions: object expected");t.bucketOptions=s.google.api.Distribution.BucketOptions.fromObject(e.bucketOptions)}if(e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".google.api.Distribution.bucketCounts: array expected");t.bucketCounts=[];for(var n=0;n<e.bucketCounts.length;++n)u.Long?(t.bucketCounts[n]=u.Long.fromValue(e.bucketCounts[n])).unsigned=!1:"string"==typeof e.bucketCounts[n]?t.bucketCounts[n]=parseInt(e.bucketCounts[n],10):"number"==typeof e.bucketCounts[n]?t.bucketCounts[n]=e.bucketCounts[n]:"object"===(0,o.default)(e.bucketCounts[n])&&(t.bucketCounts[n]=new u.LongBits(e.bucketCounts[n].low>>>0,e.bucketCounts[n].high>>>0).toNumber())}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".google.api.Distribution.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!==(0,o.default)(e.exemplars[r]))throw TypeError(".google.api.Distribution.exemplars: object expected");t.exemplars[r]=s.google.api.Distribution.Exemplar.fromObject(e.exemplars[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bucketCounts=[],n.exemplars=[]),t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.count=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.count=t.longs===String?"0":0;n.mean=0,n.sumOfSquaredDeviation=0,n.range=null,n.bucketOptions=null}if(null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?n.count=t.longs===String?String(e.count):e.count:n.count=t.longs===String?u.Long.prototype.toString.call(e.count):t.longs===Number?new u.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.mean&&e.hasOwnProperty("mean")&&(n.mean=t.json&&!isFinite(e.mean)?String(e.mean):e.mean),null!=e.sumOfSquaredDeviation&&e.hasOwnProperty("sumOfSquaredDeviation")&&(n.sumOfSquaredDeviation=t.json&&!isFinite(e.sumOfSquaredDeviation)?String(e.sumOfSquaredDeviation):e.sumOfSquaredDeviation),null!=e.range&&e.hasOwnProperty("range")&&(n.range=s.google.api.Distribution.Range.toObject(e.range,t)),null!=e.bucketOptions&&e.hasOwnProperty("bucketOptions")&&(n.bucketOptions=s.google.api.Distribution.BucketOptions.toObject(e.bucketOptions,t)),e.bucketCounts&&e.bucketCounts.length){n.bucketCounts=[];for(var o=0;o<e.bucketCounts.length;++o)"number"==typeof e.bucketCounts[o]?n.bucketCounts[o]=t.longs===String?String(e.bucketCounts[o]):e.bucketCounts[o]:n.bucketCounts[o]=t.longs===String?u.Long.prototype.toString.call(e.bucketCounts[o]):t.longs===Number?new u.LongBits(e.bucketCounts[o].low>>>0,e.bucketCounts[o].high>>>0).toNumber():e.bucketCounts[o]}if(e.exemplars&&e.exemplars.length){n.exemplars=[];for(var i=0;i<e.exemplars.length;++i)n.exemplars[i]=s.google.api.Distribution.Exemplar.toObject(e.exemplars[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Range=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.min=0,e.prototype.max=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(9).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(17).double(e.max),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution.Range;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.min=e.double();break;case 2:r.max=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.min&&e.hasOwnProperty("min")&&"number"!=typeof e.min?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&"number"!=typeof e.max?"max: number expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution.Range)return e;var t=new s.google.api.Distribution.Range;return null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.min=0,n.max=0),null!=e.min&&e.hasOwnProperty("min")&&(n.min=t.json&&!isFinite(e.min)?String(e.min):e.min),null!=e.max&&e.hasOwnProperty("max")&&(n.max=t.json&&!isFinite(e.max)?String(e.max):e.max),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.BucketOptions=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.linearBuckets=null,e.prototype.exponentialBuckets=null,e.prototype.explicitBuckets=null,Object.defineProperty(e.prototype,"options",{get:u.oneOfGetter(t=["linearBuckets","exponentialBuckets","explicitBuckets"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.linearBuckets&&Object.hasOwnProperty.call(e,"linearBuckets")&&s.google.api.Distribution.BucketOptions.Linear.encode(e.linearBuckets,t.uint32(10).fork()).ldelim(),null!=e.exponentialBuckets&&Object.hasOwnProperty.call(e,"exponentialBuckets")&&s.google.api.Distribution.BucketOptions.Exponential.encode(e.exponentialBuckets,t.uint32(18).fork()).ldelim(),null!=e.explicitBuckets&&Object.hasOwnProperty.call(e,"explicitBuckets")&&s.google.api.Distribution.BucketOptions.Explicit.encode(e.explicitBuckets,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution.BucketOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.linearBuckets=s.google.api.Distribution.BucketOptions.Linear.decode(e,e.uint32());break;case 2:r.exponentialBuckets=s.google.api.Distribution.BucketOptions.Exponential.decode(e,e.uint32());break;case 3:r.explicitBuckets=s.google.api.Distribution.BucketOptions.Explicit.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";var t={};if(null!=e.linearBuckets&&e.hasOwnProperty("linearBuckets")){t.options=1;var n=s.google.api.Distribution.BucketOptions.Linear.verify(e.linearBuckets);if(n)return"linearBuckets."+n}if(null!=e.exponentialBuckets&&e.hasOwnProperty("exponentialBuckets")){if(1===t.options)return"options: multiple values";t.options=1;var r=s.google.api.Distribution.BucketOptions.Exponential.verify(e.exponentialBuckets);if(r)return"exponentialBuckets."+r}if(null!=e.explicitBuckets&&e.hasOwnProperty("explicitBuckets")){if(1===t.options)return"options: multiple values";t.options=1;var i=s.google.api.Distribution.BucketOptions.Explicit.verify(e.explicitBuckets);if(i)return"explicitBuckets."+i}return null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution.BucketOptions)return e;var t=new s.google.api.Distribution.BucketOptions;if(null!=e.linearBuckets){if("object"!==(0,o.default)(e.linearBuckets))throw TypeError(".google.api.Distribution.BucketOptions.linearBuckets: object expected");t.linearBuckets=s.google.api.Distribution.BucketOptions.Linear.fromObject(e.linearBuckets)}if(null!=e.exponentialBuckets){if("object"!==(0,o.default)(e.exponentialBuckets))throw TypeError(".google.api.Distribution.BucketOptions.exponentialBuckets: object expected");t.exponentialBuckets=s.google.api.Distribution.BucketOptions.Exponential.fromObject(e.exponentialBuckets)}if(null!=e.explicitBuckets){if("object"!==(0,o.default)(e.explicitBuckets))throw TypeError(".google.api.Distribution.BucketOptions.explicitBuckets: object expected");t.explicitBuckets=s.google.api.Distribution.BucketOptions.Explicit.fromObject(e.explicitBuckets)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.linearBuckets&&e.hasOwnProperty("linearBuckets")&&(n.linearBuckets=s.google.api.Distribution.BucketOptions.Linear.toObject(e.linearBuckets,t),t.oneofs&&(n.options="linearBuckets")),null!=e.exponentialBuckets&&e.hasOwnProperty("exponentialBuckets")&&(n.exponentialBuckets=s.google.api.Distribution.BucketOptions.Exponential.toObject(e.exponentialBuckets,t),t.oneofs&&(n.options="exponentialBuckets")),null!=e.explicitBuckets&&e.hasOwnProperty("explicitBuckets")&&(n.explicitBuckets=s.google.api.Distribution.BucketOptions.Explicit.toObject(e.explicitBuckets,t),t.oneofs&&(n.options="explicitBuckets")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Linear=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.numFiniteBuckets=0,e.prototype.width=0,e.prototype.offset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.numFiniteBuckets&&Object.hasOwnProperty.call(e,"numFiniteBuckets")&&t.uint32(8).int32(e.numFiniteBuckets),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(17).double(e.width),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(25).double(e.offset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution.BucketOptions.Linear;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.numFiniteBuckets=e.int32();break;case 2:r.width=e.double();break;case 3:r.offset=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.numFiniteBuckets&&e.hasOwnProperty("numFiniteBuckets")&&!u.isInteger(e.numFiniteBuckets)?"numFiniteBuckets: integer expected":null!=e.width&&e.hasOwnProperty("width")&&"number"!=typeof e.width?"width: number expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!=typeof e.offset?"offset: number expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution.BucketOptions.Linear)return e;var t=new s.google.api.Distribution.BucketOptions.Linear;return null!=e.numFiniteBuckets&&(t.numFiniteBuckets=0|e.numFiniteBuckets),null!=e.width&&(t.width=Number(e.width)),null!=e.offset&&(t.offset=Number(e.offset)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.numFiniteBuckets=0,n.width=0,n.offset=0),null!=e.numFiniteBuckets&&e.hasOwnProperty("numFiniteBuckets")&&(n.numFiniteBuckets=e.numFiniteBuckets),null!=e.width&&e.hasOwnProperty("width")&&(n.width=t.json&&!isFinite(e.width)?String(e.width):e.width),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Exponential=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.numFiniteBuckets=0,e.prototype.growthFactor=0,e.prototype.scale=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.numFiniteBuckets&&Object.hasOwnProperty.call(e,"numFiniteBuckets")&&t.uint32(8).int32(e.numFiniteBuckets),null!=e.growthFactor&&Object.hasOwnProperty.call(e,"growthFactor")&&t.uint32(17).double(e.growthFactor),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(25).double(e.scale),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution.BucketOptions.Exponential;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.numFiniteBuckets=e.int32();break;case 2:r.growthFactor=e.double();break;case 3:r.scale=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.numFiniteBuckets&&e.hasOwnProperty("numFiniteBuckets")&&!u.isInteger(e.numFiniteBuckets)?"numFiniteBuckets: integer expected":null!=e.growthFactor&&e.hasOwnProperty("growthFactor")&&"number"!=typeof e.growthFactor?"growthFactor: number expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!=typeof e.scale?"scale: number expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution.BucketOptions.Exponential)return e;var t=new s.google.api.Distribution.BucketOptions.Exponential;return null!=e.numFiniteBuckets&&(t.numFiniteBuckets=0|e.numFiniteBuckets),null!=e.growthFactor&&(t.growthFactor=Number(e.growthFactor)),null!=e.scale&&(t.scale=Number(e.scale)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.numFiniteBuckets=0,n.growthFactor=0,n.scale=0),null!=e.numFiniteBuckets&&e.hasOwnProperty("numFiniteBuckets")&&(n.numFiniteBuckets=e.numFiniteBuckets),null!=e.growthFactor&&e.hasOwnProperty("growthFactor")&&(n.growthFactor=t.json&&!isFinite(e.growthFactor)?String(e.growthFactor):e.growthFactor),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Explicit=function(){function e(e){if(this.bounds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bounds=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.bounds&&e.bounds.length){t.uint32(10).fork();for(var n=0;n<e.bounds.length;++n)t.double(e.bounds[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution.BucketOptions.Explicit;e.pos<n;){var o=e.uint32();if(o>>>3==1)if(r.bounds&&r.bounds.length||(r.bounds=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.bounds.push(e.double());else r.bounds.push(e.double());else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.bounds&&e.hasOwnProperty("bounds")){if(!Array.isArray(e.bounds))return"bounds: array expected";for(var t=0;t<e.bounds.length;++t)if("number"!=typeof e.bounds[t])return"bounds: number[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution.BucketOptions.Explicit)return e;var t=new s.google.api.Distribution.BucketOptions.Explicit;if(e.bounds){if(!Array.isArray(e.bounds))throw TypeError(".google.api.Distribution.BucketOptions.Explicit.bounds: array expected");t.bounds=[];for(var n=0;n<e.bounds.length;++n)t.bounds[n]=Number(e.bounds[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bounds=[]),e.bounds&&e.bounds.length){n.bounds=[];for(var r=0;r<e.bounds.length;++r)n.bounds[r]=t.json&&!isFinite(e.bounds[r])?String(e.bounds[r]):e.bounds[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),e.Exemplar=function(){function e(e){if(this.attachments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.prototype.timestamp=null,e.prototype.attachments=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(9).double(e.value),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&s.google.protobuf.Timestamp.encode(e.timestamp,t.uint32(18).fork()).ldelim(),null!=e.attachments&&e.attachments.length)for(var n=0;n<e.attachments.length;++n)s.google.protobuf.Any.encode(e.attachments[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Distribution.Exemplar;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.value=e.double();break;case 2:r.timestamp=s.google.protobuf.Timestamp.decode(e,e.uint32());break;case 3:r.attachments&&r.attachments.length||(r.attachments=[]),r.attachments.push(s.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value)return"value: number expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var t=s.google.protobuf.Timestamp.verify(e.timestamp);if(t)return"timestamp."+t}if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(!Array.isArray(e.attachments))return"attachments: array expected";for(var n=0;n<e.attachments.length;++n){var r=s.google.protobuf.Any.verify(e.attachments[n]);if(r)return"attachments."+r}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Distribution.Exemplar)return e;var t=new s.google.api.Distribution.Exemplar;if(null!=e.value&&(t.value=Number(e.value)),null!=e.timestamp){if("object"!==(0,o.default)(e.timestamp))throw TypeError(".google.api.Distribution.Exemplar.timestamp: object expected");t.timestamp=s.google.protobuf.Timestamp.fromObject(e.timestamp)}if(e.attachments){if(!Array.isArray(e.attachments))throw TypeError(".google.api.Distribution.Exemplar.attachments: array expected");t.attachments=[];for(var n=0;n<e.attachments.length;++n){if("object"!==(0,o.default)(e.attachments[n]))throw TypeError(".google.api.Distribution.Exemplar.attachments: object expected");t.attachments[n]=s.google.protobuf.Any.fromObject(e.attachments[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attachments=[]),t.defaults&&(n.value=0,n.timestamp=null),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=s.google.protobuf.Timestamp.toObject(e.timestamp,t)),e.attachments&&e.attachments.length){n.attachments=[];for(var r=0;r<e.attachments.length;++r)n.attachments[r]=s.google.protobuf.Any.toObject(e.attachments[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),n.Documentation=function(){function e(e){if(this.pages=[],this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.summary="",e.prototype.pages=u.emptyArray,e.prototype.rules=u.emptyArray,e.prototype.documentationRootUrl="",e.prototype.overview="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.summary&&Object.hasOwnProperty.call(e,"summary")&&t.uint32(10).string(e.summary),null!=e.overview&&Object.hasOwnProperty.call(e,"overview")&&t.uint32(18).string(e.overview),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)s.google.api.DocumentationRule.encode(e.rules[n],t.uint32(26).fork()).ldelim();if(null!=e.documentationRootUrl&&Object.hasOwnProperty.call(e,"documentationRootUrl")&&t.uint32(34).string(e.documentationRootUrl),null!=e.pages&&e.pages.length)for(var r=0;r<e.pages.length;++r)s.google.api.Page.encode(e.pages[r],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Documentation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.summary=e.string();break;case 5:r.pages&&r.pages.length||(r.pages=[]),r.pages.push(s.google.api.Page.decode(e,e.uint32()));break;case 3:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.DocumentationRule.decode(e,e.uint32()));break;case 4:r.documentationRootUrl=e.string();break;case 2:r.overview=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.summary&&e.hasOwnProperty("summary")&&!u.isString(e.summary))return"summary: string expected";if(null!=e.pages&&e.hasOwnProperty("pages")){if(!Array.isArray(e.pages))return"pages: array expected";for(var t=0;t<e.pages.length;++t){var n=s.google.api.Page.verify(e.pages[t]);if(n)return"pages."+n}}if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var r=0;r<e.rules.length;++r){var i=s.google.api.DocumentationRule.verify(e.rules[r]);if(i)return"rules."+i}}return null!=e.documentationRootUrl&&e.hasOwnProperty("documentationRootUrl")&&!u.isString(e.documentationRootUrl)?"documentationRootUrl: string expected":null!=e.overview&&e.hasOwnProperty("overview")&&!u.isString(e.overview)?"overview: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Documentation)return e;var t=new s.google.api.Documentation;if(null!=e.summary&&(t.summary=String(e.summary)),e.pages){if(!Array.isArray(e.pages))throw TypeError(".google.api.Documentation.pages: array expected");t.pages=[];for(var n=0;n<e.pages.length;++n){if("object"!==(0,o.default)(e.pages[n]))throw TypeError(".google.api.Documentation.pages: object expected");t.pages[n]=s.google.api.Page.fromObject(e.pages[n])}}if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Documentation.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!==(0,o.default)(e.rules[r]))throw TypeError(".google.api.Documentation.rules: object expected");t.rules[r]=s.google.api.DocumentationRule.fromObject(e.rules[r])}}return null!=e.documentationRootUrl&&(t.documentationRootUrl=String(e.documentationRootUrl)),null!=e.overview&&(t.overview=String(e.overview)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[],n.pages=[]),t.defaults&&(n.summary="",n.overview="",n.documentationRootUrl=""),null!=e.summary&&e.hasOwnProperty("summary")&&(n.summary=e.summary),null!=e.overview&&e.hasOwnProperty("overview")&&(n.overview=e.overview),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=s.google.api.DocumentationRule.toObject(e.rules[r],t)}if(null!=e.documentationRootUrl&&e.hasOwnProperty("documentationRootUrl")&&(n.documentationRootUrl=e.documentationRootUrl),e.pages&&e.pages.length){n.pages=[];for(var o=0;o<e.pages.length;++o)n.pages[o]=s.google.api.Page.toObject(e.pages[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.DocumentationRule=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.description="",e.prototype.deprecationDescription="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.deprecationDescription&&Object.hasOwnProperty.call(e,"deprecationDescription")&&t.uint32(26).string(e.deprecationDescription),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.DocumentationRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.description=e.string();break;case 3:r.deprecationDescription=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector)?"selector: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null!=e.deprecationDescription&&e.hasOwnProperty("deprecationDescription")&&!u.isString(e.deprecationDescription)?"deprecationDescription: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.DocumentationRule)return e;var t=new s.google.api.DocumentationRule;return null!=e.selector&&(t.selector=String(e.selector)),null!=e.description&&(t.description=String(e.description)),null!=e.deprecationDescription&&(t.deprecationDescription=String(e.deprecationDescription)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.selector="",n.description="",n.deprecationDescription=""),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.deprecationDescription&&e.hasOwnProperty("deprecationDescription")&&(n.deprecationDescription=e.deprecationDescription),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Page=function(){function e(e){if(this.subpages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.content="",e.prototype.subpages=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(18).string(e.content),null!=e.subpages&&e.subpages.length)for(var n=0;n<e.subpages.length;++n)s.google.api.Page.encode(e.subpages[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Page;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.content=e.string();break;case 3:r.subpages&&r.subpages.length||(r.subpages=[]),r.subpages.push(s.google.api.Page.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.content&&e.hasOwnProperty("content")&&!u.isString(e.content))return"content: string expected";if(null!=e.subpages&&e.hasOwnProperty("subpages")){if(!Array.isArray(e.subpages))return"subpages: array expected";for(var t=0;t<e.subpages.length;++t){var n=s.google.api.Page.verify(e.subpages[t]);if(n)return"subpages."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Page)return e;var t=new s.google.api.Page;if(null!=e.name&&(t.name=String(e.name)),null!=e.content&&(t.content=String(e.content)),e.subpages){if(!Array.isArray(e.subpages))throw TypeError(".google.api.Page.subpages: array expected");t.subpages=[];for(var n=0;n<e.subpages.length;++n){if("object"!==(0,o.default)(e.subpages[n]))throw TypeError(".google.api.Page.subpages: object expected");t.subpages[n]=s.google.api.Page.fromObject(e.subpages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.subpages=[]),t.defaults&&(n.name="",n.content=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),e.subpages&&e.subpages.length){n.subpages=[];for(var r=0;r<e.subpages.length;++r)n.subpages[r]=s.google.api.Page.toObject(e.subpages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Endpoint=function(){function e(e){if(this.aliases=[],this.features=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.aliases=u.emptyArray,e.prototype.features=u.emptyArray,e.prototype.target="",e.prototype.allowCors=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.aliases&&e.aliases.length)for(var n=0;n<e.aliases.length;++n)t.uint32(18).string(e.aliases[n]);if(null!=e.features&&e.features.length)for(var r=0;r<e.features.length;++r)t.uint32(34).string(e.features[r]);return null!=e.allowCors&&Object.hasOwnProperty.call(e,"allowCors")&&t.uint32(40).bool(e.allowCors),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(810).string(e.target),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Endpoint;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.aliases&&r.aliases.length||(r.aliases=[]),r.aliases.push(e.string());break;case 4:r.features&&r.features.length||(r.features=[]),r.features.push(e.string());break;case 101:r.target=e.string();break;case 5:r.allowCors=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.aliases&&e.hasOwnProperty("aliases")){if(!Array.isArray(e.aliases))return"aliases: array expected";for(var t=0;t<e.aliases.length;++t)if(!u.isString(e.aliases[t]))return"aliases: string[] expected"}if(null!=e.features&&e.hasOwnProperty("features")){if(!Array.isArray(e.features))return"features: array expected";for(var n=0;n<e.features.length;++n)if(!u.isString(e.features[n]))return"features: string[] expected"}return null!=e.target&&e.hasOwnProperty("target")&&!u.isString(e.target)?"target: string expected":null!=e.allowCors&&e.hasOwnProperty("allowCors")&&"boolean"!=typeof e.allowCors?"allowCors: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Endpoint)return e;var t=new s.google.api.Endpoint;if(null!=e.name&&(t.name=String(e.name)),e.aliases){if(!Array.isArray(e.aliases))throw TypeError(".google.api.Endpoint.aliases: array expected");t.aliases=[];for(var n=0;n<e.aliases.length;++n)t.aliases[n]=String(e.aliases[n])}if(e.features){if(!Array.isArray(e.features))throw TypeError(".google.api.Endpoint.features: array expected");t.features=[];for(var r=0;r<e.features.length;++r)t.features[r]=String(e.features[r])}return null!=e.target&&(t.target=String(e.target)),null!=e.allowCors&&(t.allowCors=Boolean(e.allowCors)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.aliases=[],n.features=[]),t.defaults&&(n.name="",n.allowCors=!1,n.target=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.aliases&&e.aliases.length){n.aliases=[];for(var r=0;r<e.aliases.length;++r)n.aliases[r]=e.aliases[r]}if(e.features&&e.features.length){n.features=[];for(var o=0;o<e.features.length;++o)n.features[o]=e.features[o]}return null!=e.allowCors&&e.hasOwnProperty("allowCors")&&(n.allowCors=e.allowCors),null!=e.target&&e.hasOwnProperty("target")&&(n.target=e.target),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.FieldBehavior=function(){var e={},t=Object.create(e);return t[e[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,t[e[1]="OPTIONAL"]=1,t[e[2]="REQUIRED"]=2,t[e[3]="OUTPUT_ONLY"]=3,t[e[4]="INPUT_ONLY"]=4,t[e[5]="IMMUTABLE"]=5,t}(),n.HttpBody=function(){function e(e){if(this.extensions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.contentType="",e.prototype.data=u.newBuffer([]),e.prototype.extensions=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.contentType&&Object.hasOwnProperty.call(e,"contentType")&&t.uint32(10).string(e.contentType),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.extensions&&e.extensions.length)for(var n=0;n<e.extensions.length;++n)s.google.protobuf.Any.encode(e.extensions[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.HttpBody;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.contentType=e.string();break;case 2:r.data=e.bytes();break;case 3:r.extensions&&r.extensions.length||(r.extensions=[]),r.extensions.push(s.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.contentType&&e.hasOwnProperty("contentType")&&!u.isString(e.contentType))return"contentType: string expected";if(null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||u.isString(e.data)))return"data: buffer expected";if(null!=e.extensions&&e.hasOwnProperty("extensions")){if(!Array.isArray(e.extensions))return"extensions: array expected";for(var t=0;t<e.extensions.length;++t){var n=s.google.protobuf.Any.verify(e.extensions[t]);if(n)return"extensions."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.HttpBody)return e;var t=new s.google.api.HttpBody;if(null!=e.contentType&&(t.contentType=String(e.contentType)),null!=e.data&&("string"==typeof e.data?u.base64.decode(e.data,t.data=u.newBuffer(u.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.extensions){if(!Array.isArray(e.extensions))throw TypeError(".google.api.HttpBody.extensions: array expected");t.extensions=[];for(var n=0;n<e.extensions.length;++n){if("object"!==(0,o.default)(e.extensions[n]))throw TypeError(".google.api.HttpBody.extensions: object expected");t.extensions[n]=s.google.protobuf.Any.fromObject(e.extensions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.extensions=[]),t.defaults&&(n.contentType="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=u.newBuffer(n.data)))),null!=e.contentType&&e.hasOwnProperty("contentType")&&(n.contentType=e.contentType),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?u.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.extensions&&e.extensions.length){n.extensions=[];for(var r=0;r<e.extensions.length;++r)n.extensions[r]=s.google.protobuf.Any.toObject(e.extensions[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.LabelDescriptor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.valueType=0,e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.valueType&&Object.hasOwnProperty.call(e,"valueType")&&t.uint32(16).int32(e.valueType),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.LabelDescriptor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.valueType=e.int32();break;case 3:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!u.isString(e.key))return"key: string expected";if(null!=e.valueType&&e.hasOwnProperty("valueType"))switch(e.valueType){default:return"valueType: enum value expected";case 0:case 1:case 2:}return null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.LabelDescriptor)return e;var t=new s.google.api.LabelDescriptor;switch(null!=e.key&&(t.key=String(e.key)),e.valueType){case"STRING":case 0:t.valueType=0;break;case"BOOL":case 1:t.valueType=1;break;case"INT64":case 2:t.valueType=2}return null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.valueType=t.enums===String?"STRING":0,n.description=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.valueType&&e.hasOwnProperty("valueType")&&(n.valueType=t.enums===String?s.google.api.LabelDescriptor.ValueType[e.valueType]:e.valueType),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.ValueType=function(){var e={},t=Object.create(e);return t[e[0]="STRING"]=0,t[e[1]="BOOL"]=1,t[e[2]="INT64"]=2,t}(),e}(),n.LaunchStage=function(){var e={},t=Object.create(e);return t[e[0]="LAUNCH_STAGE_UNSPECIFIED"]=0,t[e[1]="EARLY_ACCESS"]=1,t[e[2]="ALPHA"]=2,t[e[3]="BETA"]=3,t[e[4]="GA"]=4,t[e[5]="DEPRECATED"]=5,t}(),n.LogDescriptor=function(){function e(e){if(this.labels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.labels=u.emptyArray,e.prototype.description="",e.prototype.displayName="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.labels&&e.labels.length)for(var n=0;n<e.labels.length;++n)s.google.api.LabelDescriptor.encode(e.labels[n],t.uint32(18).fork()).ldelim();return null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(34).string(e.displayName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.LogDescriptor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.labels&&r.labels.length||(r.labels=[]),r.labels.push(s.google.api.LabelDescriptor.decode(e,e.uint32()));break;case 3:r.description=e.string();break;case 4:r.displayName=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!Array.isArray(e.labels))return"labels: array expected";for(var t=0;t<e.labels.length;++t){var n=s.google.api.LabelDescriptor.verify(e.labels[t]);if(n)return"labels."+n}}return null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null!=e.displayName&&e.hasOwnProperty("displayName")&&!u.isString(e.displayName)?"displayName: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.LogDescriptor)return e;var t=new s.google.api.LogDescriptor;if(null!=e.name&&(t.name=String(e.name)),e.labels){if(!Array.isArray(e.labels))throw TypeError(".google.api.LogDescriptor.labels: array expected");t.labels=[];for(var n=0;n<e.labels.length;++n){if("object"!==(0,o.default)(e.labels[n]))throw TypeError(".google.api.LogDescriptor.labels: object expected");t.labels[n]=s.google.api.LabelDescriptor.fromObject(e.labels[n])}}return null!=e.description&&(t.description=String(e.description)),null!=e.displayName&&(t.displayName=String(e.displayName)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.labels=[]),t.defaults&&(n.name="",n.description="",n.displayName=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.labels&&e.labels.length){n.labels=[];for(var r=0;r<e.labels.length;++r)n.labels[r]=s.google.api.LabelDescriptor.toObject(e.labels[r],t)}return null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Logging=function(){function e(e){if(this.producerDestinations=[],this.consumerDestinations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.producerDestinations=u.emptyArray,e.prototype.consumerDestinations=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.producerDestinations&&e.producerDestinations.length)for(var n=0;n<e.producerDestinations.length;++n)s.google.api.Logging.LoggingDestination.encode(e.producerDestinations[n],t.uint32(10).fork()).ldelim();if(null!=e.consumerDestinations&&e.consumerDestinations.length)for(var r=0;r<e.consumerDestinations.length;++r)s.google.api.Logging.LoggingDestination.encode(e.consumerDestinations[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Logging;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.producerDestinations&&r.producerDestinations.length||(r.producerDestinations=[]),r.producerDestinations.push(s.google.api.Logging.LoggingDestination.decode(e,e.uint32()));break;case 2:r.consumerDestinations&&r.consumerDestinations.length||(r.consumerDestinations=[]),r.consumerDestinations.push(s.google.api.Logging.LoggingDestination.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.producerDestinations&&e.hasOwnProperty("producerDestinations")){if(!Array.isArray(e.producerDestinations))return"producerDestinations: array expected";for(var t=0;t<e.producerDestinations.length;++t){var n=s.google.api.Logging.LoggingDestination.verify(e.producerDestinations[t]);if(n)return"producerDestinations."+n}}if(null!=e.consumerDestinations&&e.hasOwnProperty("consumerDestinations")){if(!Array.isArray(e.consumerDestinations))return"consumerDestinations: array expected";for(var r=0;r<e.consumerDestinations.length;++r){var i=s.google.api.Logging.LoggingDestination.verify(e.consumerDestinations[r]);if(i)return"consumerDestinations."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Logging)return e;var t=new s.google.api.Logging;if(e.producerDestinations){if(!Array.isArray(e.producerDestinations))throw TypeError(".google.api.Logging.producerDestinations: array expected");t.producerDestinations=[];for(var n=0;n<e.producerDestinations.length;++n){if("object"!==(0,o.default)(e.producerDestinations[n]))throw TypeError(".google.api.Logging.producerDestinations: object expected");t.producerDestinations[n]=s.google.api.Logging.LoggingDestination.fromObject(e.producerDestinations[n])}}if(e.consumerDestinations){if(!Array.isArray(e.consumerDestinations))throw TypeError(".google.api.Logging.consumerDestinations: array expected");t.consumerDestinations=[];for(var r=0;r<e.consumerDestinations.length;++r){if("object"!==(0,o.default)(e.consumerDestinations[r]))throw TypeError(".google.api.Logging.consumerDestinations: object expected");t.consumerDestinations[r]=s.google.api.Logging.LoggingDestination.fromObject(e.consumerDestinations[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.producerDestinations=[],n.consumerDestinations=[]),e.producerDestinations&&e.producerDestinations.length){n.producerDestinations=[];for(var r=0;r<e.producerDestinations.length;++r)n.producerDestinations[r]=s.google.api.Logging.LoggingDestination.toObject(e.producerDestinations[r],t)}if(e.consumerDestinations&&e.consumerDestinations.length){n.consumerDestinations=[];for(var o=0;o<e.consumerDestinations.length;++o)n.consumerDestinations[o]=s.google.api.Logging.LoggingDestination.toObject(e.consumerDestinations[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.LoggingDestination=function(){function e(e){if(this.logs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.monitoredResource="",e.prototype.logs=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.logs&&e.logs.length)for(var n=0;n<e.logs.length;++n)t.uint32(10).string(e.logs[n]);return null!=e.monitoredResource&&Object.hasOwnProperty.call(e,"monitoredResource")&&t.uint32(26).string(e.monitoredResource),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Logging.LoggingDestination;e.pos<n;){var o=e.uint32();switch(o>>>3){case 3:r.monitoredResource=e.string();break;case 1:r.logs&&r.logs.length||(r.logs=[]),r.logs.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.monitoredResource&&e.hasOwnProperty("monitoredResource")&&!u.isString(e.monitoredResource))return"monitoredResource: string expected";if(null!=e.logs&&e.hasOwnProperty("logs")){if(!Array.isArray(e.logs))return"logs: array expected";for(var t=0;t<e.logs.length;++t)if(!u.isString(e.logs[t]))return"logs: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.Logging.LoggingDestination)return e;var t=new s.google.api.Logging.LoggingDestination;if(null!=e.monitoredResource&&(t.monitoredResource=String(e.monitoredResource)),e.logs){if(!Array.isArray(e.logs))throw TypeError(".google.api.Logging.LoggingDestination.logs: array expected");t.logs=[];for(var n=0;n<e.logs.length;++n)t.logs[n]=String(e.logs[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.logs=[]),t.defaults&&(n.monitoredResource=""),e.logs&&e.logs.length){n.logs=[];for(var r=0;r<e.logs.length;++r)n.logs[r]=e.logs[r]}return null!=e.monitoredResource&&e.hasOwnProperty("monitoredResource")&&(n.monitoredResource=e.monitoredResource),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),n.MetricDescriptor=function(){function e(e){if(this.labels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.prototype.labels=u.emptyArray,e.prototype.metricKind=0,e.prototype.valueType=0,e.prototype.unit="",e.prototype.description="",e.prototype.displayName="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.labels&&e.labels.length)for(var n=0;n<e.labels.length;++n)s.google.api.LabelDescriptor.encode(e.labels[n],t.uint32(18).fork()).ldelim();return null!=e.metricKind&&Object.hasOwnProperty.call(e,"metricKind")&&t.uint32(24).int32(e.metricKind),null!=e.valueType&&Object.hasOwnProperty.call(e,"valueType")&&t.uint32(32).int32(e.valueType),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(42).string(e.unit),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(50).string(e.description),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(58).string(e.displayName),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(66).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.MetricDescriptor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 8:r.type=e.string();break;case 2:r.labels&&r.labels.length||(r.labels=[]),r.labels.push(s.google.api.LabelDescriptor.decode(e,e.uint32()));break;case 3:r.metricKind=e.int32();break;case 4:r.valueType=e.int32();break;case 5:r.unit=e.string();break;case 6:r.description=e.string();break;case 7:r.displayName=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type))return"type: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!Array.isArray(e.labels))return"labels: array expected";for(var t=0;t<e.labels.length;++t){var n=s.google.api.LabelDescriptor.verify(e.labels[t]);if(n)return"labels."+n}}if(null!=e.metricKind&&e.hasOwnProperty("metricKind"))switch(e.metricKind){default:return"metricKind: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.valueType&&e.hasOwnProperty("valueType"))switch(e.valueType){default:return"valueType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}return null!=e.unit&&e.hasOwnProperty("unit")&&!u.isString(e.unit)?"unit: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null!=e.displayName&&e.hasOwnProperty("displayName")&&!u.isString(e.displayName)?"displayName: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.MetricDescriptor)return e;var t=new s.google.api.MetricDescriptor;if(null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),e.labels){if(!Array.isArray(e.labels))throw TypeError(".google.api.MetricDescriptor.labels: array expected");t.labels=[];for(var n=0;n<e.labels.length;++n){if("object"!==(0,o.default)(e.labels[n]))throw TypeError(".google.api.MetricDescriptor.labels: object expected");t.labels[n]=s.google.api.LabelDescriptor.fromObject(e.labels[n])}}switch(e.metricKind){case"METRIC_KIND_UNSPECIFIED":case 0:t.metricKind=0;break;case"GAUGE":case 1:t.metricKind=1;break;case"DELTA":case 2:t.metricKind=2;break;case"CUMULATIVE":case 3:t.metricKind=3}switch(e.valueType){case"VALUE_TYPE_UNSPECIFIED":case 0:t.valueType=0;break;case"BOOL":case 1:t.valueType=1;break;case"INT64":case 2:t.valueType=2;break;case"DOUBLE":case 3:t.valueType=3;break;case"STRING":case 4:t.valueType=4;break;case"DISTRIBUTION":case 5:t.valueType=5;break;case"MONEY":case 6:t.valueType=6}return null!=e.unit&&(t.unit=String(e.unit)),null!=e.description&&(t.description=String(e.description)),null!=e.displayName&&(t.displayName=String(e.displayName)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.labels=[]),t.defaults&&(n.name="",n.metricKind=t.enums===String?"METRIC_KIND_UNSPECIFIED":0,n.valueType=t.enums===String?"VALUE_TYPE_UNSPECIFIED":0,n.unit="",n.description="",n.displayName="",n.type=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.labels&&e.labels.length){n.labels=[];for(var r=0;r<e.labels.length;++r)n.labels[r]=s.google.api.LabelDescriptor.toObject(e.labels[r],t)}return null!=e.metricKind&&e.hasOwnProperty("metricKind")&&(n.metricKind=t.enums===String?s.google.api.MetricDescriptor.MetricKind[e.metricKind]:e.metricKind),null!=e.valueType&&e.hasOwnProperty("valueType")&&(n.valueType=t.enums===String?s.google.api.MetricDescriptor.ValueType[e.valueType]:e.valueType),null!=e.unit&&e.hasOwnProperty("unit")&&(n.unit=e.unit),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.MetricKind=function(){var e={},t=Object.create(e);return t[e[0]="METRIC_KIND_UNSPECIFIED"]=0,t[e[1]="GAUGE"]=1,t[e[2]="DELTA"]=2,t[e[3]="CUMULATIVE"]=3,t}(),e.ValueType=function(){var e={},t=Object.create(e);return t[e[0]="VALUE_TYPE_UNSPECIFIED"]=0,t[e[1]="BOOL"]=1,t[e[2]="INT64"]=2,t[e[3]="DOUBLE"]=3,t[e[4]="STRING"]=4,t[e[5]="DISTRIBUTION"]=5,t[e[6]="MONEY"]=6,t}(),e}(),n.Metric=function(){function e(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.prototype.labels=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]).uint32(18).string(e.labels[n[r]]).ldelim();return null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(26).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.api.Metric;e.pos<o;){var l=e.uint32();switch(l>>>3){case 3:i.type=e.string();break;case 2:i.labels===u.emptyObject&&(i.labels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.labels[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type))return"type: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!u.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return"labels: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.Metric)return e;var t=new s.google.api.Metric;if(null!=e.type&&(t.type=String(e.type)),e.labels){if("object"!==(0,o.default)(e.labels))throw TypeError(".google.api.Metric.labels: object expected");t.labels={};for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.labels={}),t.defaults&&(r.type=""),e.labels&&(n=Object.keys(e.labels)).length){r.labels={};for(var o=0;o<n.length;++o)r.labels[n[o]]=e.labels[n[o]]}return null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.MonitoredResourceDescriptor=function(){function e(e){if(this.labels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.prototype.displayName="",e.prototype.description="",e.prototype.labels=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(18).string(e.displayName),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.labels&&e.labels.length)for(var n=0;n<e.labels.length;++n)s.google.api.LabelDescriptor.encode(e.labels[n],t.uint32(34).fork()).ldelim();return null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(42).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.MonitoredResourceDescriptor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 5:r.name=e.string();break;case 1:r.type=e.string();break;case 2:r.displayName=e.string();break;case 3:r.description=e.string();break;case 4:r.labels&&r.labels.length||(r.labels=[]),r.labels.push(s.google.api.LabelDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type))return"type: string expected";if(null!=e.displayName&&e.hasOwnProperty("displayName")&&!u.isString(e.displayName))return"displayName: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description))return"description: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!Array.isArray(e.labels))return"labels: array expected";for(var t=0;t<e.labels.length;++t){var n=s.google.api.LabelDescriptor.verify(e.labels[t]);if(n)return"labels."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.MonitoredResourceDescriptor)return e;var t=new s.google.api.MonitoredResourceDescriptor;if(null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),null!=e.displayName&&(t.displayName=String(e.displayName)),null!=e.description&&(t.description=String(e.description)),e.labels){if(!Array.isArray(e.labels))throw TypeError(".google.api.MonitoredResourceDescriptor.labels: array expected");t.labels=[];for(var n=0;n<e.labels.length;++n){if("object"!==(0,o.default)(e.labels[n]))throw TypeError(".google.api.MonitoredResourceDescriptor.labels: object expected");t.labels[n]=s.google.api.LabelDescriptor.fromObject(e.labels[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.labels=[]),t.defaults&&(n.type="",n.displayName="",n.description="",n.name=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),e.labels&&e.labels.length){n.labels=[];for(var r=0;r<e.labels.length;++r)n.labels[r]=s.google.api.LabelDescriptor.toObject(e.labels[r],t)}return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.MonitoredResource=function(){function e(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.prototype.labels=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]).uint32(18).string(e.labels[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.api.MonitoredResource;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.type=e.string();break;case 2:i.labels===u.emptyObject&&(i.labels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.labels[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type))return"type: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!u.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return"labels: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.MonitoredResource)return e;var t=new s.google.api.MonitoredResource;if(null!=e.type&&(t.type=String(e.type)),e.labels){if("object"!==(0,o.default)(e.labels))throw TypeError(".google.api.MonitoredResource.labels: object expected");t.labels={};for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.labels={}),t.defaults&&(r.type=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.labels&&(n=Object.keys(e.labels)).length){r.labels={};for(var o=0;o<n.length;++o)r.labels[n[o]]=e.labels[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.MonitoredResourceMetadata=function(){function e(e){if(this.userLabels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.systemLabels=null,e.prototype.userLabels=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.systemLabels&&Object.hasOwnProperty.call(e,"systemLabels")&&s.google.protobuf.Struct.encode(e.systemLabels,t.uint32(10).fork()).ldelim(),null!=e.userLabels&&Object.hasOwnProperty.call(e,"userLabels"))for(var n=Object.keys(e.userLabels),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]).uint32(18).string(e.userLabels[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.api.MonitoredResourceMetadata;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.systemLabels=s.google.protobuf.Struct.decode(e,e.uint32());break;case 2:i.userLabels===u.emptyObject&&(i.userLabels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.userLabels[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.systemLabels&&e.hasOwnProperty("systemLabels")){var t=s.google.protobuf.Struct.verify(e.systemLabels);if(t)return"systemLabels."+t}if(null!=e.userLabels&&e.hasOwnProperty("userLabels")){if(!u.isObject(e.userLabels))return"userLabels: object expected";for(var n=Object.keys(e.userLabels),r=0;r<n.length;++r)if(!u.isString(e.userLabels[n[r]]))return"userLabels: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.MonitoredResourceMetadata)return e;var t=new s.google.api.MonitoredResourceMetadata;if(null!=e.systemLabels){if("object"!==(0,o.default)(e.systemLabels))throw TypeError(".google.api.MonitoredResourceMetadata.systemLabels: object expected");t.systemLabels=s.google.protobuf.Struct.fromObject(e.systemLabels)}if(e.userLabels){if("object"!==(0,o.default)(e.userLabels))throw TypeError(".google.api.MonitoredResourceMetadata.userLabels: object expected");t.userLabels={};for(var n=Object.keys(e.userLabels),r=0;r<n.length;++r)t.userLabels[n[r]]=String(e.userLabels[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.userLabels={}),t.defaults&&(r.systemLabels=null),null!=e.systemLabels&&e.hasOwnProperty("systemLabels")&&(r.systemLabels=s.google.protobuf.Struct.toObject(e.systemLabels,t)),e.userLabels&&(n=Object.keys(e.userLabels)).length){r.userLabels={};for(var o=0;o<n.length;++o)r.userLabels[n[o]]=e.userLabels[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Monitoring=function(){function e(e){if(this.producerDestinations=[],this.consumerDestinations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.producerDestinations=u.emptyArray,e.prototype.consumerDestinations=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.producerDestinations&&e.producerDestinations.length)for(var n=0;n<e.producerDestinations.length;++n)s.google.api.Monitoring.MonitoringDestination.encode(e.producerDestinations[n],t.uint32(10).fork()).ldelim();if(null!=e.consumerDestinations&&e.consumerDestinations.length)for(var r=0;r<e.consumerDestinations.length;++r)s.google.api.Monitoring.MonitoringDestination.encode(e.consumerDestinations[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Monitoring;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.producerDestinations&&r.producerDestinations.length||(r.producerDestinations=[]),r.producerDestinations.push(s.google.api.Monitoring.MonitoringDestination.decode(e,e.uint32()));break;case 2:r.consumerDestinations&&r.consumerDestinations.length||(r.consumerDestinations=[]),r.consumerDestinations.push(s.google.api.Monitoring.MonitoringDestination.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.producerDestinations&&e.hasOwnProperty("producerDestinations")){if(!Array.isArray(e.producerDestinations))return"producerDestinations: array expected";for(var t=0;t<e.producerDestinations.length;++t){var n=s.google.api.Monitoring.MonitoringDestination.verify(e.producerDestinations[t]);if(n)return"producerDestinations."+n}}if(null!=e.consumerDestinations&&e.hasOwnProperty("consumerDestinations")){if(!Array.isArray(e.consumerDestinations))return"consumerDestinations: array expected";for(var r=0;r<e.consumerDestinations.length;++r){var i=s.google.api.Monitoring.MonitoringDestination.verify(e.consumerDestinations[r]);if(i)return"consumerDestinations."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Monitoring)return e;var t=new s.google.api.Monitoring;if(e.producerDestinations){if(!Array.isArray(e.producerDestinations))throw TypeError(".google.api.Monitoring.producerDestinations: array expected");t.producerDestinations=[];for(var n=0;n<e.producerDestinations.length;++n){if("object"!==(0,o.default)(e.producerDestinations[n]))throw TypeError(".google.api.Monitoring.producerDestinations: object expected");t.producerDestinations[n]=s.google.api.Monitoring.MonitoringDestination.fromObject(e.producerDestinations[n])}}if(e.consumerDestinations){if(!Array.isArray(e.consumerDestinations))throw TypeError(".google.api.Monitoring.consumerDestinations: array expected");t.consumerDestinations=[];for(var r=0;r<e.consumerDestinations.length;++r){if("object"!==(0,o.default)(e.consumerDestinations[r]))throw TypeError(".google.api.Monitoring.consumerDestinations: object expected");t.consumerDestinations[r]=s.google.api.Monitoring.MonitoringDestination.fromObject(e.consumerDestinations[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.producerDestinations=[],n.consumerDestinations=[]),e.producerDestinations&&e.producerDestinations.length){n.producerDestinations=[];for(var r=0;r<e.producerDestinations.length;++r)n.producerDestinations[r]=s.google.api.Monitoring.MonitoringDestination.toObject(e.producerDestinations[r],t)}if(e.consumerDestinations&&e.consumerDestinations.length){n.consumerDestinations=[];for(var o=0;o<e.consumerDestinations.length;++o)n.consumerDestinations[o]=s.google.api.Monitoring.MonitoringDestination.toObject(e.consumerDestinations[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.MonitoringDestination=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.monitoredResource="",e.prototype.metrics=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.monitoredResource&&Object.hasOwnProperty.call(e,"monitoredResource")&&t.uint32(10).string(e.monitoredResource),null!=e.metrics&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)t.uint32(18).string(e.metrics[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Monitoring.MonitoringDestination;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.monitoredResource=e.string();break;case 2:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.monitoredResource&&e.hasOwnProperty("monitoredResource")&&!u.isString(e.monitoredResource))return"monitoredResource: string expected";if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t)if(!u.isString(e.metrics[t]))return"metrics: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.Monitoring.MonitoringDestination)return e;var t=new s.google.api.Monitoring.MonitoringDestination;if(null!=e.monitoredResource&&(t.monitoredResource=String(e.monitoredResource)),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".google.api.Monitoring.MonitoringDestination.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n)t.metrics[n]=String(e.metrics[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[]),t.defaults&&(n.monitoredResource=""),null!=e.monitoredResource&&e.hasOwnProperty("monitoredResource")&&(n.monitoredResource=e.monitoredResource),e.metrics&&e.metrics.length){n.metrics=[];for(var r=0;r<e.metrics.length;++r)n.metrics[r]=e.metrics[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),n.Quota=function(){function e(e){if(this.limits=[],this.metricRules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.limits=u.emptyArray,e.prototype.metricRules=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.limits&&e.limits.length)for(var n=0;n<e.limits.length;++n)s.google.api.QuotaLimit.encode(e.limits[n],t.uint32(26).fork()).ldelim();if(null!=e.metricRules&&e.metricRules.length)for(var r=0;r<e.metricRules.length;++r)s.google.api.MetricRule.encode(e.metricRules[r],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Quota;e.pos<n;){var o=e.uint32();switch(o>>>3){case 3:r.limits&&r.limits.length||(r.limits=[]),r.limits.push(s.google.api.QuotaLimit.decode(e,e.uint32()));break;case 4:r.metricRules&&r.metricRules.length||(r.metricRules=[]),r.metricRules.push(s.google.api.MetricRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.limits&&e.hasOwnProperty("limits")){if(!Array.isArray(e.limits))return"limits: array expected";for(var t=0;t<e.limits.length;++t){var n=s.google.api.QuotaLimit.verify(e.limits[t]);if(n)return"limits."+n}}if(null!=e.metricRules&&e.hasOwnProperty("metricRules")){if(!Array.isArray(e.metricRules))return"metricRules: array expected";for(var r=0;r<e.metricRules.length;++r){var i=s.google.api.MetricRule.verify(e.metricRules[r]);if(i)return"metricRules."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.api.Quota)return e;var t=new s.google.api.Quota;if(e.limits){if(!Array.isArray(e.limits))throw TypeError(".google.api.Quota.limits: array expected");t.limits=[];for(var n=0;n<e.limits.length;++n){if("object"!==(0,o.default)(e.limits[n]))throw TypeError(".google.api.Quota.limits: object expected");t.limits[n]=s.google.api.QuotaLimit.fromObject(e.limits[n])}}if(e.metricRules){if(!Array.isArray(e.metricRules))throw TypeError(".google.api.Quota.metricRules: array expected");t.metricRules=[];for(var r=0;r<e.metricRules.length;++r){if("object"!==(0,o.default)(e.metricRules[r]))throw TypeError(".google.api.Quota.metricRules: object expected");t.metricRules[r]=s.google.api.MetricRule.fromObject(e.metricRules[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.limits=[],n.metricRules=[]),e.limits&&e.limits.length){n.limits=[];for(var r=0;r<e.limits.length;++r)n.limits[r]=s.google.api.QuotaLimit.toObject(e.limits[r],t)}if(e.metricRules&&e.metricRules.length){n.metricRules=[];for(var o=0;o<e.metricRules.length;++o)n.metricRules[o]=s.google.api.MetricRule.toObject(e.metricRules[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.MetricRule=function(){function e(e){if(this.metricCosts={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.metricCosts=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.metricCosts&&Object.hasOwnProperty.call(e,"metricCosts"))for(var n=Object.keys(e.metricCosts),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]).uint32(16).int64(e.metricCosts[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.api.MetricRule;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.selector=e.string();break;case 2:i.metricCosts===u.emptyObject&&(i.metricCosts={});var c=e.uint32()+e.pos;for(n="",r=0;e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.int64();break;default:e.skipType(7&d)}}i.metricCosts[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector))return"selector: string expected";if(null!=e.metricCosts&&e.hasOwnProperty("metricCosts")){if(!u.isObject(e.metricCosts))return"metricCosts: object expected";for(var t=Object.keys(e.metricCosts),n=0;n<t.length;++n)if(!(u.isInteger(e.metricCosts[t[n]])||e.metricCosts[t[n]]&&u.isInteger(e.metricCosts[t[n]].low)&&u.isInteger(e.metricCosts[t[n]].high)))return"metricCosts: integer|Long{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.google.api.MetricRule)return e;var t=new s.google.api.MetricRule;if(null!=e.selector&&(t.selector=String(e.selector)),e.metricCosts){if("object"!==(0,o.default)(e.metricCosts))throw TypeError(".google.api.MetricRule.metricCosts: object expected");t.metricCosts={};for(var n=Object.keys(e.metricCosts),r=0;r<n.length;++r)u.Long?(t.metricCosts[n[r]]=u.Long.fromValue(e.metricCosts[n[r]])).unsigned=!1:"string"==typeof e.metricCosts[n[r]]?t.metricCosts[n[r]]=parseInt(e.metricCosts[n[r]],10):"number"==typeof e.metricCosts[n[r]]?t.metricCosts[n[r]]=e.metricCosts[n[r]]:"object"===(0,o.default)(e.metricCosts[n[r]])&&(t.metricCosts[n[r]]=new u.LongBits(e.metricCosts[n[r]].low>>>0,e.metricCosts[n[r]].high>>>0).toNumber())}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.metricCosts={}),t.defaults&&(r.selector=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),e.metricCosts&&(n=Object.keys(e.metricCosts)).length){r.metricCosts={};for(var o=0;o<n.length;++o)"number"==typeof e.metricCosts[n[o]]?r.metricCosts[n[o]]=t.longs===String?String(e.metricCosts[n[o]]):e.metricCosts[n[o]]:r.metricCosts[n[o]]=t.longs===String?u.Long.prototype.toString.call(e.metricCosts[n[o]]):t.longs===Number?new u.LongBits(e.metricCosts[n[o]].low>>>0,e.metricCosts[n[o]].high>>>0).toNumber():e.metricCosts[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.QuotaLimit=function(){function e(e){if(this.values={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.description="",e.prototype.defaultLimit=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.maxLimit=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.freeTier=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.duration="",e.prototype.metric="",e.prototype.unit="",e.prototype.values=u.emptyObject,e.prototype.displayName="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.defaultLimit&&Object.hasOwnProperty.call(e,"defaultLimit")&&t.uint32(24).int64(e.defaultLimit),null!=e.maxLimit&&Object.hasOwnProperty.call(e,"maxLimit")&&t.uint32(32).int64(e.maxLimit),null!=e.duration&&Object.hasOwnProperty.call(e,"duration")&&t.uint32(42).string(e.duration),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(50).string(e.name),null!=e.freeTier&&Object.hasOwnProperty.call(e,"freeTier")&&t.uint32(56).int64(e.freeTier),null!=e.metric&&Object.hasOwnProperty.call(e,"metric")&&t.uint32(66).string(e.metric),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(74).string(e.unit),null!=e.values&&Object.hasOwnProperty.call(e,"values"))for(var n=Object.keys(e.values),r=0;r<n.length;++r)t.uint32(82).fork().uint32(10).string(n[r]).uint32(16).int64(e.values[n[r]]).ldelim();return null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(98).string(e.displayName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.api.QuotaLimit;e.pos<o;){var l=e.uint32();switch(l>>>3){case 6:i.name=e.string();break;case 2:i.description=e.string();break;case 3:i.defaultLimit=e.int64();break;case 4:i.maxLimit=e.int64();break;case 7:i.freeTier=e.int64();break;case 5:i.duration=e.string();break;case 8:i.metric=e.string();break;case 9:i.unit=e.string();break;case 10:i.values===u.emptyObject&&(i.values={});var c=e.uint32()+e.pos;for(n="",r=0;e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.int64();break;default:e.skipType(7&d)}}i.values[n]=r;break;case 12:i.displayName=e.string();break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description))return"description: string expected";if(null!=e.defaultLimit&&e.hasOwnProperty("defaultLimit")&&!(u.isInteger(e.defaultLimit)||e.defaultLimit&&u.isInteger(e.defaultLimit.low)&&u.isInteger(e.defaultLimit.high)))return"defaultLimit: integer|Long expected";if(null!=e.maxLimit&&e.hasOwnProperty("maxLimit")&&!(u.isInteger(e.maxLimit)||e.maxLimit&&u.isInteger(e.maxLimit.low)&&u.isInteger(e.maxLimit.high)))return"maxLimit: integer|Long expected";if(null!=e.freeTier&&e.hasOwnProperty("freeTier")&&!(u.isInteger(e.freeTier)||e.freeTier&&u.isInteger(e.freeTier.low)&&u.isInteger(e.freeTier.high)))return"freeTier: integer|Long expected";if(null!=e.duration&&e.hasOwnProperty("duration")&&!u.isString(e.duration))return"duration: string expected";if(null!=e.metric&&e.hasOwnProperty("metric")&&!u.isString(e.metric))return"metric: string expected";if(null!=e.unit&&e.hasOwnProperty("unit")&&!u.isString(e.unit))return"unit: string expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!u.isObject(e.values))return"values: object expected";for(var t=Object.keys(e.values),n=0;n<t.length;++n)if(!(u.isInteger(e.values[t[n]])||e.values[t[n]]&&u.isInteger(e.values[t[n]].low)&&u.isInteger(e.values[t[n]].high)))return"values: integer|Long{k:string} expected"}return null!=e.displayName&&e.hasOwnProperty("displayName")&&!u.isString(e.displayName)?"displayName: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.QuotaLimit)return e;var t=new s.google.api.QuotaLimit;if(null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.defaultLimit&&(u.Long?(t.defaultLimit=u.Long.fromValue(e.defaultLimit)).unsigned=!1:"string"==typeof e.defaultLimit?t.defaultLimit=parseInt(e.defaultLimit,10):"number"==typeof e.defaultLimit?t.defaultLimit=e.defaultLimit:"object"===(0,o.default)(e.defaultLimit)&&(t.defaultLimit=new u.LongBits(e.defaultLimit.low>>>0,e.defaultLimit.high>>>0).toNumber())),null!=e.maxLimit&&(u.Long?(t.maxLimit=u.Long.fromValue(e.maxLimit)).unsigned=!1:"string"==typeof e.maxLimit?t.maxLimit=parseInt(e.maxLimit,10):"number"==typeof e.maxLimit?t.maxLimit=e.maxLimit:"object"===(0,o.default)(e.maxLimit)&&(t.maxLimit=new u.LongBits(e.maxLimit.low>>>0,e.maxLimit.high>>>0).toNumber())),null!=e.freeTier&&(u.Long?(t.freeTier=u.Long.fromValue(e.freeTier)).unsigned=!1:"string"==typeof e.freeTier?t.freeTier=parseInt(e.freeTier,10):"number"==typeof e.freeTier?t.freeTier=e.freeTier:"object"===(0,o.default)(e.freeTier)&&(t.freeTier=new u.LongBits(e.freeTier.low>>>0,e.freeTier.high>>>0).toNumber())),null!=e.duration&&(t.duration=String(e.duration)),null!=e.metric&&(t.metric=String(e.metric)),null!=e.unit&&(t.unit=String(e.unit)),e.values){if("object"!==(0,o.default)(e.values))throw TypeError(".google.api.QuotaLimit.values: object expected");t.values={};for(var n=Object.keys(e.values),r=0;r<n.length;++r)u.Long?(t.values[n[r]]=u.Long.fromValue(e.values[n[r]])).unsigned=!1:"string"==typeof e.values[n[r]]?t.values[n[r]]=parseInt(e.values[n[r]],10):"number"==typeof e.values[n[r]]?t.values[n[r]]=e.values[n[r]]:"object"===(0,o.default)(e.values[n[r]])&&(t.values[n[r]]=new u.LongBits(e.values[n[r]].low>>>0,e.values[n[r]].high>>>0).toNumber())}return null!=e.displayName&&(t.displayName=String(e.displayName)),t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.values={}),t.defaults){if(r.description="",u.Long){var o=new u.Long(0,0,!1);r.defaultLimit=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.defaultLimit=t.longs===String?"0":0;if(u.Long){var i=new u.Long(0,0,!1);r.maxLimit=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.maxLimit=t.longs===String?"0":0;if(r.duration="",r.name="",u.Long){var a=new u.Long(0,0,!1);r.freeTier=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else r.freeTier=t.longs===String?"0":0;r.metric="",r.unit="",r.displayName=""}if(null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.defaultLimit&&e.hasOwnProperty("defaultLimit")&&("number"==typeof e.defaultLimit?r.defaultLimit=t.longs===String?String(e.defaultLimit):e.defaultLimit:r.defaultLimit=t.longs===String?u.Long.prototype.toString.call(e.defaultLimit):t.longs===Number?new u.LongBits(e.defaultLimit.low>>>0,e.defaultLimit.high>>>0).toNumber():e.defaultLimit),null!=e.maxLimit&&e.hasOwnProperty("maxLimit")&&("number"==typeof e.maxLimit?r.maxLimit=t.longs===String?String(e.maxLimit):e.maxLimit:r.maxLimit=t.longs===String?u.Long.prototype.toString.call(e.maxLimit):t.longs===Number?new u.LongBits(e.maxLimit.low>>>0,e.maxLimit.high>>>0).toNumber():e.maxLimit),null!=e.duration&&e.hasOwnProperty("duration")&&(r.duration=e.duration),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.freeTier&&e.hasOwnProperty("freeTier")&&("number"==typeof e.freeTier?r.freeTier=t.longs===String?String(e.freeTier):e.freeTier:r.freeTier=t.longs===String?u.Long.prototype.toString.call(e.freeTier):t.longs===Number?new u.LongBits(e.freeTier.low>>>0,e.freeTier.high>>>0).toNumber():e.freeTier),null!=e.metric&&e.hasOwnProperty("metric")&&(r.metric=e.metric),null!=e.unit&&e.hasOwnProperty("unit")&&(r.unit=e.unit),e.values&&(n=Object.keys(e.values)).length){r.values={};for(var l=0;l<n.length;++l)"number"==typeof e.values[n[l]]?r.values[n[l]]=t.longs===String?String(e.values[n[l]]):e.values[n[l]]:r.values[n[l]]=t.longs===String?u.Long.prototype.toString.call(e.values[n[l]]):t.longs===Number?new u.LongBits(e.values[n[l]].low>>>0,e.values[n[l]].high>>>0).toNumber():e.values[n[l]]}return null!=e.displayName&&e.hasOwnProperty("displayName")&&(r.displayName=e.displayName),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.ResourceDescriptor=function(){function e(e){if(this.pattern=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.prototype.pattern=u.emptyArray,e.prototype.nameField="",e.prototype.history=0,e.prototype.plural="",e.prototype.singular="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.pattern&&e.pattern.length)for(var n=0;n<e.pattern.length;++n)t.uint32(18).string(e.pattern[n]);return null!=e.nameField&&Object.hasOwnProperty.call(e,"nameField")&&t.uint32(26).string(e.nameField),null!=e.history&&Object.hasOwnProperty.call(e,"history")&&t.uint32(32).int32(e.history),null!=e.plural&&Object.hasOwnProperty.call(e,"plural")&&t.uint32(42).string(e.plural),null!=e.singular&&Object.hasOwnProperty.call(e,"singular")&&t.uint32(50).string(e.singular),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.ResourceDescriptor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.string();break;case 2:r.pattern&&r.pattern.length||(r.pattern=[]),r.pattern.push(e.string());break;case 3:r.nameField=e.string();break;case 4:r.history=e.int32();break;case 5:r.plural=e.string();break;case 6:r.singular=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type))return"type: string expected";if(null!=e.pattern&&e.hasOwnProperty("pattern")){if(!Array.isArray(e.pattern))return"pattern: array expected";for(var t=0;t<e.pattern.length;++t)if(!u.isString(e.pattern[t]))return"pattern: string[] expected"}if(null!=e.nameField&&e.hasOwnProperty("nameField")&&!u.isString(e.nameField))return"nameField: string expected";if(null!=e.history&&e.hasOwnProperty("history"))switch(e.history){default:return"history: enum value expected";case 0:case 1:case 2:}return null!=e.plural&&e.hasOwnProperty("plural")&&!u.isString(e.plural)?"plural: string expected":null!=e.singular&&e.hasOwnProperty("singular")&&!u.isString(e.singular)?"singular: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.ResourceDescriptor)return e;var t=new s.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");t.pattern=[];for(var n=0;n<e.pattern.length;++n)t.pattern[n]=String(e.pattern[n])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){case"HISTORY_UNSPECIFIED":case 0:t.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:t.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:t.history=2}return null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.pattern=[]),t.defaults&&(n.type="",n.nameField="",n.history=t.enums===String?"HISTORY_UNSPECIFIED":0,n.plural="",n.singular=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),e.pattern&&e.pattern.length){n.pattern=[];for(var r=0;r<e.pattern.length;++r)n.pattern[r]=e.pattern[r]}return null!=e.nameField&&e.hasOwnProperty("nameField")&&(n.nameField=e.nameField),null!=e.history&&e.hasOwnProperty("history")&&(n.history=t.enums===String?s.google.api.ResourceDescriptor.History[e.history]:e.history),null!=e.plural&&e.hasOwnProperty("plural")&&(n.plural=e.plural),null!=e.singular&&e.hasOwnProperty("singular")&&(n.singular=e.singular),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.History=function(){var e={},t=Object.create(e);return t[e[0]="HISTORY_UNSPECIFIED"]=0,t[e[1]="ORIGINALLY_SINGLE_PATTERN"]=1,t[e[2]="FUTURE_MULTI_PATTERN"]=2,t}(),e}(),n.ResourceReference=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.prototype.childType="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.childType&&Object.hasOwnProperty.call(e,"childType")&&t.uint32(18).string(e.childType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.ResourceReference;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.string();break;case 2:r.childType=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type)?"type: string expected":null!=e.childType&&e.hasOwnProperty("childType")&&!u.isString(e.childType)?"childType: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.ResourceReference)return e;var t=new s.google.api.ResourceReference;return null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type="",n.childType=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.childType&&e.hasOwnProperty("childType")&&(n.childType=e.childType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Service=function(){function e(e){if(this.apis=[],this.types=[],this.enums=[],this.endpoints=[],this.logs=[],this.metrics=[],this.monitoredResources=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.configVersion=null,e.prototype.name="",e.prototype.id="",e.prototype.title="",e.prototype.producerProjectId="",e.prototype.apis=u.emptyArray,e.prototype.types=u.emptyArray,e.prototype.enums=u.emptyArray,e.prototype.documentation=null,e.prototype.backend=null,e.prototype.http=null,e.prototype.quota=null,e.prototype.authentication=null,e.prototype.context=null,e.prototype.usage=null,e.prototype.endpoints=u.emptyArray,e.prototype.control=null,e.prototype.logs=u.emptyArray,e.prototype.metrics=u.emptyArray,e.prototype.monitoredResources=u.emptyArray,e.prototype.billing=null,e.prototype.logging=null,e.prototype.monitoring=null,e.prototype.systemParameters=null,e.prototype.sourceInfo=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(18).string(e.title),null!=e.apis&&e.apis.length)for(var n=0;n<e.apis.length;++n)s.google.protobuf.Api.encode(e.apis[n],t.uint32(26).fork()).ldelim();if(null!=e.types&&e.types.length)for(var r=0;r<e.types.length;++r)s.google.protobuf.Type.encode(e.types[r],t.uint32(34).fork()).ldelim();if(null!=e.enums&&e.enums.length)for(var o=0;o<e.enums.length;++o)s.google.protobuf.Enum.encode(e.enums[o],t.uint32(42).fork()).ldelim();if(null!=e.documentation&&Object.hasOwnProperty.call(e,"documentation")&&s.google.api.Documentation.encode(e.documentation,t.uint32(50).fork()).ldelim(),null!=e.backend&&Object.hasOwnProperty.call(e,"backend")&&s.google.api.Backend.encode(e.backend,t.uint32(66).fork()).ldelim(),null!=e.http&&Object.hasOwnProperty.call(e,"http")&&s.google.api.Http.encode(e.http,t.uint32(74).fork()).ldelim(),null!=e.quota&&Object.hasOwnProperty.call(e,"quota")&&s.google.api.Quota.encode(e.quota,t.uint32(82).fork()).ldelim(),null!=e.authentication&&Object.hasOwnProperty.call(e,"authentication")&&s.google.api.Authentication.encode(e.authentication,t.uint32(90).fork()).ldelim(),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&s.google.api.Context.encode(e.context,t.uint32(98).fork()).ldelim(),null!=e.usage&&Object.hasOwnProperty.call(e,"usage")&&s.google.api.Usage.encode(e.usage,t.uint32(122).fork()).ldelim(),null!=e.endpoints&&e.endpoints.length)for(var i=0;i<e.endpoints.length;++i)s.google.api.Endpoint.encode(e.endpoints[i],t.uint32(146).fork()).ldelim();if(null!=e.configVersion&&Object.hasOwnProperty.call(e,"configVersion")&&s.google.protobuf.UInt32Value.encode(e.configVersion,t.uint32(162).fork()).ldelim(),null!=e.control&&Object.hasOwnProperty.call(e,"control")&&s.google.api.Control.encode(e.control,t.uint32(170).fork()).ldelim(),null!=e.producerProjectId&&Object.hasOwnProperty.call(e,"producerProjectId")&&t.uint32(178).string(e.producerProjectId),null!=e.logs&&e.logs.length)for(var a=0;a<e.logs.length;++a)s.google.api.LogDescriptor.encode(e.logs[a],t.uint32(186).fork()).ldelim();if(null!=e.metrics&&e.metrics.length)for(var u=0;u<e.metrics.length;++u)s.google.api.MetricDescriptor.encode(e.metrics[u],t.uint32(194).fork()).ldelim();if(null!=e.monitoredResources&&e.monitoredResources.length)for(var c=0;c<e.monitoredResources.length;++c)s.google.api.MonitoredResourceDescriptor.encode(e.monitoredResources[c],t.uint32(202).fork()).ldelim();return null!=e.billing&&Object.hasOwnProperty.call(e,"billing")&&s.google.api.Billing.encode(e.billing,t.uint32(210).fork()).ldelim(),null!=e.logging&&Object.hasOwnProperty.call(e,"logging")&&s.google.api.Logging.encode(e.logging,t.uint32(218).fork()).ldelim(),null!=e.monitoring&&Object.hasOwnProperty.call(e,"monitoring")&&s.google.api.Monitoring.encode(e.monitoring,t.uint32(226).fork()).ldelim(),null!=e.systemParameters&&Object.hasOwnProperty.call(e,"systemParameters")&&s.google.api.SystemParameters.encode(e.systemParameters,t.uint32(234).fork()).ldelim(),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(266).string(e.id),null!=e.sourceInfo&&Object.hasOwnProperty.call(e,"sourceInfo")&&s.google.api.SourceInfo.encode(e.sourceInfo,t.uint32(298).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Service;e.pos<n;){var o=e.uint32();switch(o>>>3){case 20:r.configVersion=s.google.protobuf.UInt32Value.decode(e,e.uint32());break;case 1:r.name=e.string();break;case 33:r.id=e.string();break;case 2:r.title=e.string();break;case 22:r.producerProjectId=e.string();break;case 3:r.apis&&r.apis.length||(r.apis=[]),r.apis.push(s.google.protobuf.Api.decode(e,e.uint32()));break;case 4:r.types&&r.types.length||(r.types=[]),r.types.push(s.google.protobuf.Type.decode(e,e.uint32()));break;case 5:r.enums&&r.enums.length||(r.enums=[]),r.enums.push(s.google.protobuf.Enum.decode(e,e.uint32()));break;case 6:r.documentation=s.google.api.Documentation.decode(e,e.uint32());break;case 8:r.backend=s.google.api.Backend.decode(e,e.uint32());break;case 9:r.http=s.google.api.Http.decode(e,e.uint32());break;case 10:r.quota=s.google.api.Quota.decode(e,e.uint32());break;case 11:r.authentication=s.google.api.Authentication.decode(e,e.uint32());break;case 12:r.context=s.google.api.Context.decode(e,e.uint32());break;case 15:r.usage=s.google.api.Usage.decode(e,e.uint32());break;case 18:r.endpoints&&r.endpoints.length||(r.endpoints=[]),r.endpoints.push(s.google.api.Endpoint.decode(e,e.uint32()));break;case 21:r.control=s.google.api.Control.decode(e,e.uint32());break;case 23:r.logs&&r.logs.length||(r.logs=[]),r.logs.push(s.google.api.LogDescriptor.decode(e,e.uint32()));break;case 24:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(s.google.api.MetricDescriptor.decode(e,e.uint32()));break;case 25:r.monitoredResources&&r.monitoredResources.length||(r.monitoredResources=[]),r.monitoredResources.push(s.google.api.MonitoredResourceDescriptor.decode(e,e.uint32()));break;case 26:r.billing=s.google.api.Billing.decode(e,e.uint32());break;case 27:r.logging=s.google.api.Logging.decode(e,e.uint32());break;case 28:r.monitoring=s.google.api.Monitoring.decode(e,e.uint32());break;case 29:r.systemParameters=s.google.api.SystemParameters.decode(e,e.uint32());break;case 37:r.sourceInfo=s.google.api.SourceInfo.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.configVersion&&e.hasOwnProperty("configVersion")){var t=s.google.protobuf.UInt32Value.verify(e.configVersion);if(t)return"configVersion."+t}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.id&&e.hasOwnProperty("id")&&!u.isString(e.id))return"id: string expected";if(null!=e.title&&e.hasOwnProperty("title")&&!u.isString(e.title))return"title: string expected";if(null!=e.producerProjectId&&e.hasOwnProperty("producerProjectId")&&!u.isString(e.producerProjectId))return"producerProjectId: string expected";if(null!=e.apis&&e.hasOwnProperty("apis")){if(!Array.isArray(e.apis))return"apis: array expected";for(var n=0;n<e.apis.length;++n){var r=s.google.protobuf.Api.verify(e.apis[n]);if(r)return"apis."+r}}if(null!=e.types&&e.hasOwnProperty("types")){if(!Array.isArray(e.types))return"types: array expected";for(var i=0;i<e.types.length;++i){var a=s.google.protobuf.Type.verify(e.types[i]);if(a)return"types."+a}}if(null!=e.enums&&e.hasOwnProperty("enums")){if(!Array.isArray(e.enums))return"enums: array expected";for(var l=0;l<e.enums.length;++l){var c=s.google.protobuf.Enum.verify(e.enums[l]);if(c)return"enums."+c}}if(null!=e.documentation&&e.hasOwnProperty("documentation")){var d=s.google.api.Documentation.verify(e.documentation);if(d)return"documentation."+d}if(null!=e.backend&&e.hasOwnProperty("backend")){var p=s.google.api.Backend.verify(e.backend);if(p)return"backend."+p}if(null!=e.http&&e.hasOwnProperty("http")){var f=s.google.api.Http.verify(e.http);if(f)return"http."+f}if(null!=e.quota&&e.hasOwnProperty("quota")){var g=s.google.api.Quota.verify(e.quota);if(g)return"quota."+g}if(null!=e.authentication&&e.hasOwnProperty("authentication")){var h=s.google.api.Authentication.verify(e.authentication);if(h)return"authentication."+h}if(null!=e.context&&e.hasOwnProperty("context")){var m=s.google.api.Context.verify(e.context);if(m)return"context."+m}if(null!=e.usage&&e.hasOwnProperty("usage")){var y=s.google.api.Usage.verify(e.usage);if(y)return"usage."+y}if(null!=e.endpoints&&e.hasOwnProperty("endpoints")){if(!Array.isArray(e.endpoints))return"endpoints: array expected";for(var v=0;v<e.endpoints.length;++v){var b=s.google.api.Endpoint.verify(e.endpoints[v]);if(b)return"endpoints."+b}}if(null!=e.control&&e.hasOwnProperty("control")){var O=s.google.api.Control.verify(e.control);if(O)return"control."+O}if(null!=e.logs&&e.hasOwnProperty("logs")){if(!Array.isArray(e.logs))return"logs: array expected";for(var w=0;w<e.logs.length;++w){var S=s.google.api.LogDescriptor.verify(e.logs[w]);if(S)return"logs."+S}}if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var T=0;T<e.metrics.length;++T){var A=s.google.api.MetricDescriptor.verify(e.metrics[T]);if(A)return"metrics."+A}}if(null!=e.monitoredResources&&e.hasOwnProperty("monitoredResources")){if(!Array.isArray(e.monitoredResources))return"monitoredResources: array expected";for(var k=0;k<e.monitoredResources.length;++k){var E=s.google.api.MonitoredResourceDescriptor.verify(e.monitoredResources[k]);if(E)return"monitoredResources."+E}}if(null!=e.billing&&e.hasOwnProperty("billing")){var P=s.google.api.Billing.verify(e.billing);if(P)return"billing."+P}if(null!=e.logging&&e.hasOwnProperty("logging")){var C=s.google.api.Logging.verify(e.logging);if(C)return"logging."+C}if(null!=e.monitoring&&e.hasOwnProperty("monitoring")){var x=s.google.api.Monitoring.verify(e.monitoring);if(x)return"monitoring."+x}if(null!=e.systemParameters&&e.hasOwnProperty("systemParameters")){var D=s.google.api.SystemParameters.verify(e.systemParameters);if(D)return"systemParameters."+D}if(null!=e.sourceInfo&&e.hasOwnProperty("sourceInfo")){var R=s.google.api.SourceInfo.verify(e.sourceInfo);if(R)return"sourceInfo."+R}return null},e.fromObject=function(e){if(e instanceof s.google.api.Service)return e;var t=new s.google.api.Service;if(null!=e.configVersion){if("object"!==(0,o.default)(e.configVersion))throw TypeError(".google.api.Service.configVersion: object expected");t.configVersion=s.google.protobuf.UInt32Value.fromObject(e.configVersion)}if(null!=e.name&&(t.name=String(e.name)),null!=e.id&&(t.id=String(e.id)),null!=e.title&&(t.title=String(e.title)),null!=e.producerProjectId&&(t.producerProjectId=String(e.producerProjectId)),e.apis){if(!Array.isArray(e.apis))throw TypeError(".google.api.Service.apis: array expected");t.apis=[];for(var n=0;n<e.apis.length;++n){if("object"!==(0,o.default)(e.apis[n]))throw TypeError(".google.api.Service.apis: object expected");t.apis[n]=s.google.protobuf.Api.fromObject(e.apis[n])}}if(e.types){if(!Array.isArray(e.types))throw TypeError(".google.api.Service.types: array expected");t.types=[];for(var r=0;r<e.types.length;++r){if("object"!==(0,o.default)(e.types[r]))throw TypeError(".google.api.Service.types: object expected");t.types[r]=s.google.protobuf.Type.fromObject(e.types[r])}}if(e.enums){if(!Array.isArray(e.enums))throw TypeError(".google.api.Service.enums: array expected");t.enums=[];for(var i=0;i<e.enums.length;++i){if("object"!==(0,o.default)(e.enums[i]))throw TypeError(".google.api.Service.enums: object expected");t.enums[i]=s.google.protobuf.Enum.fromObject(e.enums[i])}}if(null!=e.documentation){if("object"!==(0,o.default)(e.documentation))throw TypeError(".google.api.Service.documentation: object expected");t.documentation=s.google.api.Documentation.fromObject(e.documentation)}if(null!=e.backend){if("object"!==(0,o.default)(e.backend))throw TypeError(".google.api.Service.backend: object expected");t.backend=s.google.api.Backend.fromObject(e.backend)}if(null!=e.http){if("object"!==(0,o.default)(e.http))throw TypeError(".google.api.Service.http: object expected");t.http=s.google.api.Http.fromObject(e.http)}if(null!=e.quota){if("object"!==(0,o.default)(e.quota))throw TypeError(".google.api.Service.quota: object expected");t.quota=s.google.api.Quota.fromObject(e.quota)}if(null!=e.authentication){if("object"!==(0,o.default)(e.authentication))throw TypeError(".google.api.Service.authentication: object expected");t.authentication=s.google.api.Authentication.fromObject(e.authentication)}if(null!=e.context){if("object"!==(0,o.default)(e.context))throw TypeError(".google.api.Service.context: object expected");t.context=s.google.api.Context.fromObject(e.context)}if(null!=e.usage){if("object"!==(0,o.default)(e.usage))throw TypeError(".google.api.Service.usage: object expected");t.usage=s.google.api.Usage.fromObject(e.usage)}if(e.endpoints){if(!Array.isArray(e.endpoints))throw TypeError(".google.api.Service.endpoints: array expected");t.endpoints=[];for(var a=0;a<e.endpoints.length;++a){if("object"!==(0,o.default)(e.endpoints[a]))throw TypeError(".google.api.Service.endpoints: object expected");t.endpoints[a]=s.google.api.Endpoint.fromObject(e.endpoints[a])}}if(null!=e.control){if("object"!==(0,o.default)(e.control))throw TypeError(".google.api.Service.control: object expected");t.control=s.google.api.Control.fromObject(e.control)}if(e.logs){if(!Array.isArray(e.logs))throw TypeError(".google.api.Service.logs: array expected");t.logs=[];for(var l=0;l<e.logs.length;++l){if("object"!==(0,o.default)(e.logs[l]))throw TypeError(".google.api.Service.logs: object expected");t.logs[l]=s.google.api.LogDescriptor.fromObject(e.logs[l])}}if(e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".google.api.Service.metrics: array expected");t.metrics=[];for(var u=0;u<e.metrics.length;++u){if("object"!==(0,o.default)(e.metrics[u]))throw TypeError(".google.api.Service.metrics: object expected");t.metrics[u]=s.google.api.MetricDescriptor.fromObject(e.metrics[u])}}if(e.monitoredResources){if(!Array.isArray(e.monitoredResources))throw TypeError(".google.api.Service.monitoredResources: array expected");t.monitoredResources=[];for(var c=0;c<e.monitoredResources.length;++c){if("object"!==(0,o.default)(e.monitoredResources[c]))throw TypeError(".google.api.Service.monitoredResources: object expected");t.monitoredResources[c]=s.google.api.MonitoredResourceDescriptor.fromObject(e.monitoredResources[c])}}if(null!=e.billing){if("object"!==(0,o.default)(e.billing))throw TypeError(".google.api.Service.billing: object expected");t.billing=s.google.api.Billing.fromObject(e.billing)}if(null!=e.logging){if("object"!==(0,o.default)(e.logging))throw TypeError(".google.api.Service.logging: object expected");t.logging=s.google.api.Logging.fromObject(e.logging)}if(null!=e.monitoring){if("object"!==(0,o.default)(e.monitoring))throw TypeError(".google.api.Service.monitoring: object expected");t.monitoring=s.google.api.Monitoring.fromObject(e.monitoring)}if(null!=e.systemParameters){if("object"!==(0,o.default)(e.systemParameters))throw TypeError(".google.api.Service.systemParameters: object expected");t.systemParameters=s.google.api.SystemParameters.fromObject(e.systemParameters)}if(null!=e.sourceInfo){if("object"!==(0,o.default)(e.sourceInfo))throw TypeError(".google.api.Service.sourceInfo: object expected");t.sourceInfo=s.google.api.SourceInfo.fromObject(e.sourceInfo)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.apis=[],n.types=[],n.enums=[],n.endpoints=[],n.logs=[],n.metrics=[],n.monitoredResources=[]),t.defaults&&(n.name="",n.title="",n.documentation=null,n.backend=null,n.http=null,n.quota=null,n.authentication=null,n.context=null,n.usage=null,n.configVersion=null,n.control=null,n.producerProjectId="",n.billing=null,n.logging=null,n.monitoring=null,n.systemParameters=null,n.id="",n.sourceInfo=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.title&&e.hasOwnProperty("title")&&(n.title=e.title),e.apis&&e.apis.length){n.apis=[];for(var r=0;r<e.apis.length;++r)n.apis[r]=s.google.protobuf.Api.toObject(e.apis[r],t)}if(e.types&&e.types.length){n.types=[];for(var o=0;o<e.types.length;++o)n.types[o]=s.google.protobuf.Type.toObject(e.types[o],t)}if(e.enums&&e.enums.length){n.enums=[];for(var i=0;i<e.enums.length;++i)n.enums[i]=s.google.protobuf.Enum.toObject(e.enums[i],t)}if(null!=e.documentation&&e.hasOwnProperty("documentation")&&(n.documentation=s.google.api.Documentation.toObject(e.documentation,t)),null!=e.backend&&e.hasOwnProperty("backend")&&(n.backend=s.google.api.Backend.toObject(e.backend,t)),null!=e.http&&e.hasOwnProperty("http")&&(n.http=s.google.api.Http.toObject(e.http,t)),null!=e.quota&&e.hasOwnProperty("quota")&&(n.quota=s.google.api.Quota.toObject(e.quota,t)),null!=e.authentication&&e.hasOwnProperty("authentication")&&(n.authentication=s.google.api.Authentication.toObject(e.authentication,t)),null!=e.context&&e.hasOwnProperty("context")&&(n.context=s.google.api.Context.toObject(e.context,t)),null!=e.usage&&e.hasOwnProperty("usage")&&(n.usage=s.google.api.Usage.toObject(e.usage,t)),e.endpoints&&e.endpoints.length){n.endpoints=[];for(var a=0;a<e.endpoints.length;++a)n.endpoints[a]=s.google.api.Endpoint.toObject(e.endpoints[a],t)}if(null!=e.configVersion&&e.hasOwnProperty("configVersion")&&(n.configVersion=s.google.protobuf.UInt32Value.toObject(e.configVersion,t)),null!=e.control&&e.hasOwnProperty("control")&&(n.control=s.google.api.Control.toObject(e.control,t)),null!=e.producerProjectId&&e.hasOwnProperty("producerProjectId")&&(n.producerProjectId=e.producerProjectId),e.logs&&e.logs.length){n.logs=[];for(var l=0;l<e.logs.length;++l)n.logs[l]=s.google.api.LogDescriptor.toObject(e.logs[l],t)}if(e.metrics&&e.metrics.length){n.metrics=[];for(var u=0;u<e.metrics.length;++u)n.metrics[u]=s.google.api.MetricDescriptor.toObject(e.metrics[u],t)}if(e.monitoredResources&&e.monitoredResources.length){n.monitoredResources=[];for(var c=0;c<e.monitoredResources.length;++c)n.monitoredResources[c]=s.google.api.MonitoredResourceDescriptor.toObject(e.monitoredResources[c],t)}return null!=e.billing&&e.hasOwnProperty("billing")&&(n.billing=s.google.api.Billing.toObject(e.billing,t)),null!=e.logging&&e.hasOwnProperty("logging")&&(n.logging=s.google.api.Logging.toObject(e.logging,t)),null!=e.monitoring&&e.hasOwnProperty("monitoring")&&(n.monitoring=s.google.api.Monitoring.toObject(e.monitoring,t)),null!=e.systemParameters&&e.hasOwnProperty("systemParameters")&&(n.systemParameters=s.google.api.SystemParameters.toObject(e.systemParameters,t)),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.sourceInfo&&e.hasOwnProperty("sourceInfo")&&(n.sourceInfo=s.google.api.SourceInfo.toObject(e.sourceInfo,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.SourceInfo=function(){function e(e){if(this.sourceFiles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sourceFiles=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.sourceFiles&&e.sourceFiles.length)for(var n=0;n<e.sourceFiles.length;++n)s.google.protobuf.Any.encode(e.sourceFiles[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.SourceInfo;e.pos<n;){var o=e.uint32();o>>>3==1?(r.sourceFiles&&r.sourceFiles.length||(r.sourceFiles=[]),r.sourceFiles.push(s.google.protobuf.Any.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.sourceFiles&&e.hasOwnProperty("sourceFiles")){if(!Array.isArray(e.sourceFiles))return"sourceFiles: array expected";for(var t=0;t<e.sourceFiles.length;++t){var n=s.google.protobuf.Any.verify(e.sourceFiles[t]);if(n)return"sourceFiles."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.SourceInfo)return e;var t=new s.google.api.SourceInfo;if(e.sourceFiles){if(!Array.isArray(e.sourceFiles))throw TypeError(".google.api.SourceInfo.sourceFiles: array expected");t.sourceFiles=[];for(var n=0;n<e.sourceFiles.length;++n){if("object"!==(0,o.default)(e.sourceFiles[n]))throw TypeError(".google.api.SourceInfo.sourceFiles: object expected");t.sourceFiles[n]=s.google.protobuf.Any.fromObject(e.sourceFiles[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sourceFiles=[]),e.sourceFiles&&e.sourceFiles.length){n.sourceFiles=[];for(var r=0;r<e.sourceFiles.length;++r)n.sourceFiles[r]=s.google.protobuf.Any.toObject(e.sourceFiles[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.SystemParameters=function(){function e(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rules=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)s.google.api.SystemParameterRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.SystemParameters;e.pos<n;){var o=e.uint32();o>>>3==1?(r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.SystemParameterRule.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var n=s.google.api.SystemParameterRule.verify(e.rules[t]);if(n)return"rules."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.SystemParameters)return e;var t=new s.google.api.SystemParameters;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.SystemParameters.rules: array expected");t.rules=[];for(var n=0;n<e.rules.length;++n){if("object"!==(0,o.default)(e.rules[n]))throw TypeError(".google.api.SystemParameters.rules: object expected");t.rules[n]=s.google.api.SystemParameterRule.fromObject(e.rules[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[]),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=s.google.api.SystemParameterRule.toObject(e.rules[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.SystemParameterRule=function(){function e(e){if(this.parameters=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.parameters=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.parameters&&e.parameters.length)for(var n=0;n<e.parameters.length;++n)s.google.api.SystemParameter.encode(e.parameters[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.SystemParameterRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.parameters&&r.parameters.length||(r.parameters=[]),r.parameters.push(s.google.api.SystemParameter.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector))return"selector: string expected";if(null!=e.parameters&&e.hasOwnProperty("parameters")){if(!Array.isArray(e.parameters))return"parameters: array expected";for(var t=0;t<e.parameters.length;++t){var n=s.google.api.SystemParameter.verify(e.parameters[t]);if(n)return"parameters."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.api.SystemParameterRule)return e;var t=new s.google.api.SystemParameterRule;if(null!=e.selector&&(t.selector=String(e.selector)),e.parameters){if(!Array.isArray(e.parameters))throw TypeError(".google.api.SystemParameterRule.parameters: array expected");t.parameters=[];for(var n=0;n<e.parameters.length;++n){if("object"!==(0,o.default)(e.parameters[n]))throw TypeError(".google.api.SystemParameterRule.parameters: object expected");t.parameters[n]=s.google.api.SystemParameter.fromObject(e.parameters[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.parameters=[]),t.defaults&&(n.selector=""),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),e.parameters&&e.parameters.length){n.parameters=[];for(var r=0;r<e.parameters.length;++r)n.parameters[r]=s.google.api.SystemParameter.toObject(e.parameters[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.SystemParameter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.httpHeader="",e.prototype.urlQueryParameter="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.httpHeader&&Object.hasOwnProperty.call(e,"httpHeader")&&t.uint32(18).string(e.httpHeader),null!=e.urlQueryParameter&&Object.hasOwnProperty.call(e,"urlQueryParameter")&&t.uint32(26).string(e.urlQueryParameter),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.SystemParameter;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.httpHeader=e.string();break;case 3:r.urlQueryParameter=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.httpHeader&&e.hasOwnProperty("httpHeader")&&!u.isString(e.httpHeader)?"httpHeader: string expected":null!=e.urlQueryParameter&&e.hasOwnProperty("urlQueryParameter")&&!u.isString(e.urlQueryParameter)?"urlQueryParameter: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.SystemParameter)return e;var t=new s.google.api.SystemParameter;return null!=e.name&&(t.name=String(e.name)),null!=e.httpHeader&&(t.httpHeader=String(e.httpHeader)),null!=e.urlQueryParameter&&(t.urlQueryParameter=String(e.urlQueryParameter)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.httpHeader="",n.urlQueryParameter=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.httpHeader&&e.hasOwnProperty("httpHeader")&&(n.httpHeader=e.httpHeader),null!=e.urlQueryParameter&&e.hasOwnProperty("urlQueryParameter")&&(n.urlQueryParameter=e.urlQueryParameter),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.Usage=function(){function e(e){if(this.requirements=[],this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.requirements=u.emptyArray,e.prototype.rules=u.emptyArray,e.prototype.producerNotificationChannel="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.requirements&&e.requirements.length)for(var n=0;n<e.requirements.length;++n)t.uint32(10).string(e.requirements[n]);if(null!=e.rules&&e.rules.length)for(var r=0;r<e.rules.length;++r)s.google.api.UsageRule.encode(e.rules[r],t.uint32(50).fork()).ldelim();return null!=e.producerNotificationChannel&&Object.hasOwnProperty.call(e,"producerNotificationChannel")&&t.uint32(58).string(e.producerNotificationChannel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.Usage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.requirements&&r.requirements.length||(r.requirements=[]),r.requirements.push(e.string());break;case 6:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(s.google.api.UsageRule.decode(e,e.uint32()));break;case 7:r.producerNotificationChannel=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.requirements&&e.hasOwnProperty("requirements")){if(!Array.isArray(e.requirements))return"requirements: array expected";for(var t=0;t<e.requirements.length;++t)if(!u.isString(e.requirements[t]))return"requirements: string[] expected"}if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var n=0;n<e.rules.length;++n){var r=s.google.api.UsageRule.verify(e.rules[n]);if(r)return"rules."+r}}return null!=e.producerNotificationChannel&&e.hasOwnProperty("producerNotificationChannel")&&!u.isString(e.producerNotificationChannel)?"producerNotificationChannel: string expected":null},e.fromObject=function(e){if(e instanceof s.google.api.Usage)return e;var t=new s.google.api.Usage;if(e.requirements){if(!Array.isArray(e.requirements))throw TypeError(".google.api.Usage.requirements: array expected");t.requirements=[];for(var n=0;n<e.requirements.length;++n)t.requirements[n]=String(e.requirements[n])}if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Usage.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!==(0,o.default)(e.rules[r]))throw TypeError(".google.api.Usage.rules: object expected");t.rules[r]=s.google.api.UsageRule.fromObject(e.rules[r])}}return null!=e.producerNotificationChannel&&(t.producerNotificationChannel=String(e.producerNotificationChannel)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.requirements=[],n.rules=[]),t.defaults&&(n.producerNotificationChannel=""),e.requirements&&e.requirements.length){n.requirements=[];for(var r=0;r<e.requirements.length;++r)n.requirements[r]=e.requirements[r]}if(e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=s.google.api.UsageRule.toObject(e.rules[o],t)}return null!=e.producerNotificationChannel&&e.hasOwnProperty("producerNotificationChannel")&&(n.producerNotificationChannel=e.producerNotificationChannel),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.UsageRule=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selector="",e.prototype.allowUnregisteredCalls=!1,e.prototype.skipServiceControl=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.allowUnregisteredCalls&&Object.hasOwnProperty.call(e,"allowUnregisteredCalls")&&t.uint32(16).bool(e.allowUnregisteredCalls),null!=e.skipServiceControl&&Object.hasOwnProperty.call(e,"skipServiceControl")&&t.uint32(24).bool(e.skipServiceControl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.api.UsageRule;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.selector=e.string();break;case 2:r.allowUnregisteredCalls=e.bool();break;case 3:r.skipServiceControl=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.selector&&e.hasOwnProperty("selector")&&!u.isString(e.selector)?"selector: string expected":null!=e.allowUnregisteredCalls&&e.hasOwnProperty("allowUnregisteredCalls")&&"boolean"!=typeof e.allowUnregisteredCalls?"allowUnregisteredCalls: boolean expected":null!=e.skipServiceControl&&e.hasOwnProperty("skipServiceControl")&&"boolean"!=typeof e.skipServiceControl?"skipServiceControl: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.api.UsageRule)return e;var t=new s.google.api.UsageRule;return null!=e.selector&&(t.selector=String(e.selector)),null!=e.allowUnregisteredCalls&&(t.allowUnregisteredCalls=Boolean(e.allowUnregisteredCalls)),null!=e.skipServiceControl&&(t.skipServiceControl=Boolean(e.skipServiceControl)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.selector="",n.allowUnregisteredCalls=!1,n.skipServiceControl=!1),null!=e.selector&&e.hasOwnProperty("selector")&&(n.selector=e.selector),null!=e.allowUnregisteredCalls&&e.hasOwnProperty("allowUnregisteredCalls")&&(n.allowUnregisteredCalls=e.allowUnregisteredCalls),null!=e.skipServiceControl&&e.hasOwnProperty("skipServiceControl")&&(n.skipServiceControl=e.skipServiceControl),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n),v.protobuf=((r={}).FileDescriptorSet=function(){function e(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.file=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)s.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FileDescriptorSet;e.pos<n;){var o=e.uint32();o>>>3==1?(r.file&&r.file.length||(r.file=[]),r.file.push(s.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.file&&e.hasOwnProperty("file")){if(!Array.isArray(e.file))return"file: array expected";for(var t=0;t<e.file.length;++t){var n=s.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return"file."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FileDescriptorSet)return e;var t=new s.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var n=0;n<e.file.length;++n){if("object"!==(0,o.default)(e.file[n]))throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[n]=s.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var r=0;r<e.file.length;++r)n.file[r]=s.google.protobuf.FileDescriptorProto.toObject(e.file[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.FileDescriptorProto=function(){function e(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.package="",e.prototype.dependency=u.emptyArray,e.prototype.publicDependency=u.emptyArray,e.prototype.weakDependency=u.emptyArray,e.prototype.messageType=u.emptyArray,e.prototype.enumType=u.emptyArray,e.prototype.service=u.emptyArray,e.prototype.extension=u.emptyArray,e.prototype.options=null,e.prototype.sourceCodeInfo=null,e.prototype.syntax="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(var r=0;r<e.messageType.length;++r)s.google.protobuf.DescriptorProto.encode(e.messageType[r],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(var o=0;o<e.enumType.length;++o)s.google.protobuf.EnumDescriptorProto.encode(e.enumType[o],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(var i=0;i<e.service.length;++i)s.google.protobuf.ServiceDescriptorProto.encode(e.service[i],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(var a=0;a<e.extension.length;++a)s.google.protobuf.FieldDescriptorProto.encode(e.extension[a],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&s.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(var u=0;u<e.publicDependency.length;++u)t.uint32(80).int32(e.publicDependency[u]);if(null!=e.weakDependency&&e.weakDependency.length)for(var c=0;c<e.weakDependency.length;++c)t.uint32(88).int32(e.weakDependency[c]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FileDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.package=e.string();break;case 3:r.dependency&&r.dependency.length||(r.dependency=[]),r.dependency.push(e.string());break;case 10:if(r.publicDependency&&r.publicDependency.length||(r.publicDependency=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.publicDependency.push(e.int32());else r.publicDependency.push(e.int32());break;case 11:if(r.weakDependency&&r.weakDependency.length||(r.weakDependency=[]),2==(7&o))for(var l=e.uint32()+e.pos;e.pos<l;)r.weakDependency.push(e.int32());else r.weakDependency.push(e.int32());break;case 4:r.messageType&&r.messageType.length||(r.messageType=[]),r.messageType.push(s.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:r.enumType&&r.enumType.length||(r.enumType=[]),r.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:r.service&&r.service.length||(r.service=[]),r.service.push(s.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:r.extension&&r.extension.length||(r.extension=[]),r.extension.push(s.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:r.options=s.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:r.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:r.syntax=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.package&&e.hasOwnProperty("package")&&!u.isString(e.package))return"package: string expected";if(null!=e.dependency&&e.hasOwnProperty("dependency")){if(!Array.isArray(e.dependency))return"dependency: array expected";for(var t=0;t<e.dependency.length;++t)if(!u.isString(e.dependency[t]))return"dependency: string[] expected"}if(null!=e.publicDependency&&e.hasOwnProperty("publicDependency")){if(!Array.isArray(e.publicDependency))return"publicDependency: array expected";for(var n=0;n<e.publicDependency.length;++n)if(!u.isInteger(e.publicDependency[n]))return"publicDependency: integer[] expected"}if(null!=e.weakDependency&&e.hasOwnProperty("weakDependency")){if(!Array.isArray(e.weakDependency))return"weakDependency: array expected";for(var r=0;r<e.weakDependency.length;++r)if(!u.isInteger(e.weakDependency[r]))return"weakDependency: integer[] expected"}if(null!=e.messageType&&e.hasOwnProperty("messageType")){if(!Array.isArray(e.messageType))return"messageType: array expected";for(var i=0;i<e.messageType.length;++i){var a=s.google.protobuf.DescriptorProto.verify(e.messageType[i]);if(a)return"messageType."+a}}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(var l=0;l<e.enumType.length;++l){var c=s.google.protobuf.EnumDescriptorProto.verify(e.enumType[l]);if(c)return"enumType."+c}}if(null!=e.service&&e.hasOwnProperty("service")){if(!Array.isArray(e.service))return"service: array expected";for(var d=0;d<e.service.length;++d){var p=s.google.protobuf.ServiceDescriptorProto.verify(e.service[d]);if(p)return"service."+p}}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(var f=0;f<e.extension.length;++f){var g=s.google.protobuf.FieldDescriptorProto.verify(e.extension[f]);if(g)return"extension."+g}}if(null!=e.options&&e.hasOwnProperty("options")){var h=s.google.protobuf.FileOptions.verify(e.options);if(h)return"options."+h}if(null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")){var m=s.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo);if(m)return"sourceCodeInfo."+m}return null!=e.syntax&&e.hasOwnProperty("syntax")&&!u.isString(e.syntax)?"syntax: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FileDescriptorProto)return e;var t=new s.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");t.publicDependency=[];for(var r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");t.weakDependency=[];for(var i=0;i<e.weakDependency.length;++i)t.weakDependency[i]=0|e.weakDependency[i]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");t.messageType=[];for(var a=0;a<e.messageType.length;++a){if("object"!==(0,o.default)(e.messageType[a]))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[a]=s.google.protobuf.DescriptorProto.fromObject(e.messageType[a])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");t.enumType=[];for(var l=0;l<e.enumType.length;++l){if("object"!==(0,o.default)(e.enumType[l]))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[l]=s.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[l])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");t.service=[];for(var u=0;u<e.service.length;++u){if("object"!==(0,o.default)(e.service[u]))throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[u]=s.google.protobuf.ServiceDescriptorProto.fromObject(e.service[u])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");t.extension=[];for(var c=0;c<e.extension.length;++c){if("object"!==(0,o.default)(e.extension[c]))throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[c]=s.google.protobuf.FieldDescriptorProto.fromObject(e.extension[c])}}if(null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=s.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!==(0,o.default)(e.sourceCodeInfo))throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name="",n.package="",n.options=null,n.sourceCodeInfo=null,n.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var r=0;r<e.dependency.length;++r)n.dependency[r]=e.dependency[r]}if(e.messageType&&e.messageType.length){n.messageType=[];for(var o=0;o<e.messageType.length;++o)n.messageType[o]=s.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(var i=0;i<e.enumType.length;++i)n.enumType[i]=s.google.protobuf.EnumDescriptorProto.toObject(e.enumType[i],t)}if(e.service&&e.service.length){n.service=[];for(var a=0;a<e.service.length;++a)n.service[a]=s.google.protobuf.ServiceDescriptorProto.toObject(e.service[a],t)}if(e.extension&&e.extension.length){n.extension=[];for(var l=0;l<e.extension.length;++l)n.extension[l]=s.google.protobuf.FieldDescriptorProto.toObject(e.extension[l],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(n.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(var u=0;u<e.publicDependency.length;++u)n.publicDependency[u]=e.publicDependency[u]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(var c=0;c<e.weakDependency.length;++c)n.weakDependency[c]=e.weakDependency[c]}return null!=e.syntax&&e.hasOwnProperty("syntax")&&(n.syntax=e.syntax),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.DescriptorProto=function(){function e(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.field=u.emptyArray,e.prototype.extension=u.emptyArray,e.prototype.nestedType=u.emptyArray,e.prototype.enumType=u.emptyArray,e.prototype.extensionRange=u.emptyArray,e.prototype.oneofDecl=u.emptyArray,e.prototype.options=null,e.prototype.reservedRange=u.emptyArray,e.prototype.reservedName=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)s.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(var r=0;r<e.nestedType.length;++r)s.google.protobuf.DescriptorProto.encode(e.nestedType[r],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(var o=0;o<e.enumType.length;++o)s.google.protobuf.EnumDescriptorProto.encode(e.enumType[o],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(var i=0;i<e.extensionRange.length;++i)s.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[i],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(var a=0;a<e.extension.length;++a)s.google.protobuf.FieldDescriptorProto.encode(e.extension[a],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(var u=0;u<e.oneofDecl.length;++u)s.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[u],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(var c=0;c<e.reservedRange.length;++c)s.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[c],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(var d=0;d<e.reservedName.length;++d)t.uint32(82).string(e.reservedName[d]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.DescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.field&&r.field.length||(r.field=[]),r.field.push(s.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:r.extension&&r.extension.length||(r.extension=[]),r.extension.push(s.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:r.nestedType&&r.nestedType.length||(r.nestedType=[]),r.nestedType.push(s.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:r.enumType&&r.enumType.length||(r.enumType=[]),r.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:r.extensionRange&&r.extensionRange.length||(r.extensionRange=[]),r.extensionRange.push(s.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:r.oneofDecl&&r.oneofDecl.length||(r.oneofDecl=[]),r.oneofDecl.push(s.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:r.options=s.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:r.reservedRange&&r.reservedRange.length||(r.reservedRange=[]),r.reservedRange.push(s.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:r.reservedName&&r.reservedName.length||(r.reservedName=[]),r.reservedName.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.field&&e.hasOwnProperty("field")){if(!Array.isArray(e.field))return"field: array expected";for(var t=0;t<e.field.length;++t){var n=s.google.protobuf.FieldDescriptorProto.verify(e.field[t]);if(n)return"field."+n}}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(var r=0;r<e.extension.length;++r){var i=s.google.protobuf.FieldDescriptorProto.verify(e.extension[r]);if(i)return"extension."+i}}if(null!=e.nestedType&&e.hasOwnProperty("nestedType")){if(!Array.isArray(e.nestedType))return"nestedType: array expected";for(var a=0;a<e.nestedType.length;++a){var l=s.google.protobuf.DescriptorProto.verify(e.nestedType[a]);if(l)return"nestedType."+l}}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(var c=0;c<e.enumType.length;++c){var d=s.google.protobuf.EnumDescriptorProto.verify(e.enumType[c]);if(d)return"enumType."+d}}if(null!=e.extensionRange&&e.hasOwnProperty("extensionRange")){if(!Array.isArray(e.extensionRange))return"extensionRange: array expected";for(var p=0;p<e.extensionRange.length;++p){var f=s.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[p]);if(f)return"extensionRange."+f}}if(null!=e.oneofDecl&&e.hasOwnProperty("oneofDecl")){if(!Array.isArray(e.oneofDecl))return"oneofDecl: array expected";for(var g=0;g<e.oneofDecl.length;++g){var h=s.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[g]);if(h)return"oneofDecl."+h}}if(null!=e.options&&e.hasOwnProperty("options")){var m=s.google.protobuf.MessageOptions.verify(e.options);if(m)return"options."+m}if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";for(var y=0;y<e.reservedRange.length;++y){var v=s.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[y]);if(v)return"reservedRange."+v}}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(var b=0;b<e.reservedName.length;++b)if(!u.isString(e.reservedName[b]))return"reservedName: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.DescriptorProto)return e;var t=new s.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var n=0;n<e.field.length;++n){if("object"!==(0,o.default)(e.field[n]))throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[n]=s.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");t.extension=[];for(var r=0;r<e.extension.length;++r){if("object"!==(0,o.default)(e.extension[r]))throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=s.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");t.nestedType=[];for(var i=0;i<e.nestedType.length;++i){if("object"!==(0,o.default)(e.nestedType[i]))throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[i]=s.google.protobuf.DescriptorProto.fromObject(e.nestedType[i])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");t.enumType=[];for(var a=0;a<e.enumType.length;++a){if("object"!==(0,o.default)(e.enumType[a]))throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[a]=s.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[a])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");t.extensionRange=[];for(var l=0;l<e.extensionRange.length;++l){if("object"!==(0,o.default)(e.extensionRange[l]))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[l]=s.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[l])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");t.oneofDecl=[];for(var u=0;u<e.oneofDecl.length;++u){if("object"!==(0,o.default)(e.oneofDecl[u]))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[u]=s.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[u])}}if(null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=s.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");t.reservedRange=[];for(var c=0;c<e.reservedRange.length;++c){if("object"!==(0,o.default)(e.reservedRange[c]))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[c]=s.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[c])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");t.reservedName=[];for(var d=0;d<e.reservedName.length;++d)t.reservedName[d]=String(e.reservedName[d])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name="",n.options=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var r=0;r<e.field.length;++r)n.field[r]=s.google.protobuf.FieldDescriptorProto.toObject(e.field[r],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(var o=0;o<e.nestedType.length;++o)n.nestedType[o]=s.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(var i=0;i<e.enumType.length;++i)n.enumType[i]=s.google.protobuf.EnumDescriptorProto.toObject(e.enumType[i],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(var a=0;a<e.extensionRange.length;++a)n.extensionRange[a]=s.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[a],t)}if(e.extension&&e.extension.length){n.extension=[];for(var l=0;l<e.extension.length;++l)n.extension[l]=s.google.protobuf.FieldDescriptorProto.toObject(e.extension[l],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(var u=0;u<e.oneofDecl.length;++u)n.oneofDecl[u]=s.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[u],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(var c=0;c<e.reservedRange.length;++c)n.reservedRange[c]=s.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[c],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(var d=0;d<e.reservedName.length;++d)n.reservedName[d]=e.reservedName[d]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.ExtensionRange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.start=0,e.prototype.end=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.start=e.int32();break;case 2:r.end=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!u.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!u.isInteger(e.end)?"end: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new s.google.protobuf.DescriptorProto.ExtensionRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty("start")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(n.end=e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.ReservedRange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.start=0,e.prototype.end=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.start=e.int32();break;case 2:r.end=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!u.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!u.isInteger(e.end)?"end: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.DescriptorProto.ReservedRange)return e;var t=new s.google.protobuf.DescriptorProto.ReservedRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty("start")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(n.end=e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),r.FieldDescriptorProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.number=0,e.prototype.label=1,e.prototype.type=1,e.prototype.typeName="",e.prototype.extendee="",e.prototype.defaultValue="",e.prototype.oneofIndex=0,e.prototype.jsonName="",e.prototype.options=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FieldDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 3:r.number=e.int32();break;case 4:r.label=e.int32();break;case 5:r.type=e.int32();break;case 6:r.typeName=e.string();break;case 2:r.extendee=e.string();break;case 7:r.defaultValue=e.string();break;case 9:r.oneofIndex=e.int32();break;case 10:r.jsonName=e.string();break;case 8:r.options=s.google.protobuf.FieldOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!u.isInteger(e.number))return"number: integer expected";if(null!=e.label&&e.hasOwnProperty("label"))switch(e.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty("typeName")&&!u.isString(e.typeName))return"typeName: string expected";if(null!=e.extendee&&e.hasOwnProperty("extendee")&&!u.isString(e.extendee))return"extendee: string expected";if(null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!u.isString(e.defaultValue))return"defaultValue: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!u.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!u.isString(e.jsonName))return"jsonName: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=s.google.protobuf.FieldOptions.verify(e.options);if(t)return"options."+t}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FieldDescriptorProto)return e;var t=new s.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=s.google.protobuf.FieldOptions.fromObject(e.options)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.extendee="",n.number=0,n.label=t.enums===String?"LABEL_OPTIONAL":1,n.type=t.enums===String?"TYPE_DOUBLE":1,n.typeName="",n.defaultValue="",n.options=null,n.oneofIndex=0,n.jsonName=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(n.label=t.enums===String?s.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(n.jsonName=e.jsonName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="TYPE_DOUBLE"]=1,t[e[2]="TYPE_FLOAT"]=2,t[e[3]="TYPE_INT64"]=3,t[e[4]="TYPE_UINT64"]=4,t[e[5]="TYPE_INT32"]=5,t[e[6]="TYPE_FIXED64"]=6,t[e[7]="TYPE_FIXED32"]=7,t[e[8]="TYPE_BOOL"]=8,t[e[9]="TYPE_STRING"]=9,t[e[10]="TYPE_GROUP"]=10,t[e[11]="TYPE_MESSAGE"]=11,t[e[12]="TYPE_BYTES"]=12,t[e[13]="TYPE_UINT32"]=13,t[e[14]="TYPE_ENUM"]=14,t[e[15]="TYPE_SFIXED32"]=15,t[e[16]="TYPE_SFIXED64"]=16,t[e[17]="TYPE_SINT32"]=17,t[e[18]="TYPE_SINT64"]=18,t}(),e.Label=function(){var e={},t=Object.create(e);return t[e[1]="LABEL_OPTIONAL"]=1,t[e[2]="LABEL_REQUIRED"]=2,t[e[3]="LABEL_REPEATED"]=3,t}(),e}(),r.OneofDescriptorProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.options=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.OneofDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.options=s.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=s.google.protobuf.OneofOptions.verify(e.options);if(t)return"options."+t}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.OneofDescriptorProto)return e;var t=new s.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=s.google.protobuf.OneofOptions.fromObject(e.options)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.options=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.OneofOptions.toObject(e.options,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.EnumDescriptorProto=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.value=u.emptyArray,e.prototype.options=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)s.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.EnumDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.value&&r.value.length||(r.value=[]),r.value.push(s.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:r.options=s.google.protobuf.EnumOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t){var n=s.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]);if(n)return"value."+n}}if(null!=e.options&&e.hasOwnProperty("options")){var r=s.google.protobuf.EnumOptions.verify(e.options);if(r)return"options."+r}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.EnumDescriptorProto)return e;var t=new s.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var n=0;n<e.value.length;++n){if("object"!==(0,o.default)(e.value[n]))throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[n]=s.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=s.google.protobuf.EnumOptions.fromObject(e.options)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.value=[]),t.defaults&&(n.name="",n.options=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var r=0;r<e.value.length;++r)n.value[r]=s.google.protobuf.EnumValueDescriptorProto.toObject(e.value[r],t)}return null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.EnumOptions.toObject(e.options,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.EnumValueDescriptorProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.number=0,e.prototype.options=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.number=e.int32();break;case 3:r.options=s.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!u.isInteger(e.number))return"number: integer expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=s.google.protobuf.EnumValueOptions.verify(e.options);if(t)return"options."+t}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.EnumValueDescriptorProto)return e;var t=new s.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=s.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.ServiceDescriptorProto=function(){function e(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.method=u.emptyArray,e.prototype.options=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)s.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.ServiceDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.method&&r.method.length||(r.method=[]),r.method.push(s.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:r.options=s.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.method&&e.hasOwnProperty("method")){if(!Array.isArray(e.method))return"method: array expected";for(var t=0;t<e.method.length;++t){var n=s.google.protobuf.MethodDescriptorProto.verify(e.method[t]);if(n)return"method."+n}}if(null!=e.options&&e.hasOwnProperty("options")){var r=s.google.protobuf.ServiceOptions.verify(e.options);if(r)return"options."+r}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.ServiceDescriptorProto)return e;var t=new s.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var n=0;n<e.method.length;++n){if("object"!==(0,o.default)(e.method[n]))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[n]=s.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=s.google.protobuf.ServiceOptions.fromObject(e.options)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name="",n.options=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var r=0;r<e.method.length;++r)n.method[r]=s.google.protobuf.MethodDescriptorProto.toObject(e.method[r],t)}return null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.ServiceOptions.toObject(e.options,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.MethodDescriptorProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.inputType="",e.prototype.outputType="",e.prototype.options=null,e.prototype.clientStreaming=!1,e.prototype.serverStreaming=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.MethodDescriptorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.inputType=e.string();break;case 3:r.outputType=e.string();break;case 4:r.options=s.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:r.clientStreaming=e.bool();break;case 6:r.serverStreaming=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.inputType&&e.hasOwnProperty("inputType")&&!u.isString(e.inputType))return"inputType: string expected";if(null!=e.outputType&&e.hasOwnProperty("outputType")&&!u.isString(e.outputType))return"outputType: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=s.google.protobuf.MethodOptions.verify(e.options);if(t)return"options."+t}return null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&"boolean"!=typeof e.clientStreaming?"clientStreaming: boolean expected":null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&"boolean"!=typeof e.serverStreaming?"serverStreaming: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.MethodDescriptorProto)return e;var t=new s.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=s.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.inputType="",n.outputType="",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(n.serverStreaming=e.serverStreaming),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.FileOptions=function(){function e(e){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.javaPackage="",e.prototype.javaOuterClassname="",e.prototype.javaMultipleFiles=!1,e.prototype.javaGenerateEqualsAndHash=!1,e.prototype.javaStringCheckUtf8=!1,e.prototype.optimizeFor=1,e.prototype.goPackage="",e.prototype.ccGenericServices=!1,e.prototype.javaGenericServices=!1,e.prototype.pyGenericServices=!1,e.prototype.deprecated=!1,e.prototype.ccEnableArenas=!1,e.prototype.objcClassPrefix="",e.prototype.csharpNamespace="",e.prototype.uninterpretedOption=u.emptyArray,e.prototype[".google.api.resourceDefinition"]=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(var r=0;r<e[".google.api.resourceDefinition"].length;++r)s.google.api.ResourceDescriptor.encode(e[".google.api.resourceDefinition"][r],t.uint32(8426).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FileOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.javaPackage=e.string();break;case 8:r.javaOuterClassname=e.string();break;case 10:r.javaMultipleFiles=e.bool();break;case 20:r.javaGenerateEqualsAndHash=e.bool();break;case 27:r.javaStringCheckUtf8=e.bool();break;case 9:r.optimizeFor=e.int32();break;case 11:r.goPackage=e.string();break;case 16:r.ccGenericServices=e.bool();break;case 17:r.javaGenericServices=e.bool();break;case 18:r.pyGenericServices=e.bool();break;case 23:r.deprecated=e.bool();break;case 31:r.ccEnableArenas=e.bool();break;case 36:r.objcClassPrefix=e.string();break;case 37:r.csharpNamespace=e.string();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:r[".google.api.resourceDefinition"]&&r[".google.api.resourceDefinition"].length||(r[".google.api.resourceDefinition"]=[]),r[".google.api.resourceDefinition"].push(s.google.api.ResourceDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&!u.isString(e.javaPackage))return"javaPackage: string expected";if(null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&!u.isString(e.javaOuterClassname))return"javaOuterClassname: string expected";if(null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&"boolean"!=typeof e.javaMultipleFiles)return"javaMultipleFiles: boolean expected";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&"boolean"!=typeof e.javaGenerateEqualsAndHash)return"javaGenerateEqualsAndHash: boolean expected";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&"boolean"!=typeof e.javaStringCheckUtf8)return"javaStringCheckUtf8: boolean expected";if(null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor"))switch(e.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty("goPackage")&&!u.isString(e.goPackage))return"goPackage: string expected";if(null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&"boolean"!=typeof e.ccGenericServices)return"ccGenericServices: boolean expected";if(null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&"boolean"!=typeof e.javaGenericServices)return"javaGenericServices: boolean expected";if(null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&"boolean"!=typeof e.pyGenericServices)return"pyGenericServices: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&"boolean"!=typeof e.ccEnableArenas)return"ccEnableArenas: boolean expected";if(null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&!u.isString(e.objcClassPrefix))return"objcClassPrefix: string expected";if(null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&!u.isString(e.csharpNamespace))return"csharpNamespace: string expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}if(null!=e[".google.api.resourceDefinition"]&&e.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(e[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(var r=0;r<e[".google.api.resourceDefinition"].length;++r){var i=s.google.api.ResourceDescriptor.verify(e[".google.api.resourceDefinition"][r]);if(i)return".google.api.resourceDefinition."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FileOptions)return e;var t=new s.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(e[".google.api.resourceDefinition"]){if(!Array.isArray(e[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");t[".google.api.resourceDefinition"]=[];for(var r=0;r<e[".google.api.resourceDefinition"].length;++r){if("object"!==(0,o.default)(e[".google.api.resourceDefinition"][r]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");t[".google.api.resourceDefinition"][r]=s.google.api.ResourceDescriptor.fromObject(e[".google.api.resourceDefinition"][r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[],n[".google.api.resourceDefinition"]=[]),t.defaults&&(n.javaPackage="",n.javaOuterClassname="",n.optimizeFor=t.enums===String?"SPEED":1,n.javaMultipleFiles=!1,n.goPackage="",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!1,n.objcClassPrefix="",n.csharpNamespace=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(n.optimizeFor=t.enums===String?s.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(n.csharpNamespace=e.csharpNamespace),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}if(e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length){n[".google.api.resourceDefinition"]=[];for(var o=0;o<e[".google.api.resourceDefinition"].length;++o)n[".google.api.resourceDefinition"][o]=s.google.api.ResourceDescriptor.toObject(e[".google.api.resourceDefinition"][o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.OptimizeMode=function(){var e={},t=Object.create(e);return t[e[1]="SPEED"]=1,t[e[2]="CODE_SIZE"]=2,t[e[3]="LITE_RUNTIME"]=3,t}(),e}(),r.MessageOptions=function(){function e(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messageSetWireFormat=!1,e.prototype.noStandardDescriptorAccessor=!1,e.prototype.deprecated=!1,e.prototype.mapEntry=!1,e.prototype.uninterpretedOption=u.emptyArray,e.prototype[".google.api.resource"]=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.resource"]&&Object.hasOwnProperty.call(e,".google.api.resource")&&s.google.api.ResourceDescriptor.encode(e[".google.api.resource"],t.uint32(8426).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.MessageOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.messageSetWireFormat=e.bool();break;case 2:r.noStandardDescriptorAccessor=e.bool();break;case 3:r.deprecated=e.bool();break;case 7:r.mapEntry=e.bool();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:r[".google.api.resource"]=s.google.api.ResourceDescriptor.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&"boolean"!=typeof e.messageSetWireFormat)return"messageSetWireFormat: boolean expected";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&"boolean"!=typeof e.noStandardDescriptorAccessor)return"noStandardDescriptorAccessor: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&"boolean"!=typeof e.mapEntry)return"mapEntry: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}if(null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")){var r=s.google.api.ResourceDescriptor.verify(e[".google.api.resource"]);if(r)return".google.api.resource."+r}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.MessageOptions)return e;var t=new s.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[".google.api.resource"]){if("object"!==(0,o.default)(e[".google.api.resource"]))throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");t[".google.api.resource"]=s.google.api.ResourceDescriptor.fromObject(e[".google.api.resource"])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1,n[".google.api.resource"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(n[".google.api.resource"]=s.google.api.ResourceDescriptor.toObject(e[".google.api.resource"],t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.FieldOptions=function(){function e(e){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ctype=0,e.prototype.packed=!1,e.prototype.jstype=0,e.prototype.lazy=!1,e.prototype.deprecated=!1,e.prototype.weak=!1,e.prototype.uninterpretedOption=u.emptyArray,e.prototype[".google.api.fieldBehavior"]=u.emptyArray,e.prototype[".google.api.resourceReference"]=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length){t.uint32(8418).fork();for(var r=0;r<e[".google.api.fieldBehavior"].length;++r)t.int32(e[".google.api.fieldBehavior"][r]);t.ldelim()}return null!=e[".google.api.resourceReference"]&&Object.hasOwnProperty.call(e,".google.api.resourceReference")&&s.google.api.ResourceReference.encode(e[".google.api.resourceReference"],t.uint32(8442).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FieldOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.ctype=e.int32();break;case 2:r.packed=e.bool();break;case 6:r.jstype=e.int32();break;case 5:r.lazy=e.bool();break;case 3:r.deprecated=e.bool();break;case 10:r.weak=e.bool();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1052:if(r[".google.api.fieldBehavior"]&&r[".google.api.fieldBehavior"].length||(r[".google.api.fieldBehavior"]=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r[".google.api.fieldBehavior"].push(e.int32());else r[".google.api.fieldBehavior"].push(e.int32());break;case 1055:r[".google.api.resourceReference"]=s.google.api.ResourceReference.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.jstype&&e.hasOwnProperty("jstype"))switch(e.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty("lazy")&&"boolean"!=typeof e.lazy)return"lazy: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.weak&&e.hasOwnProperty("weak")&&"boolean"!=typeof e.weak)return"weak: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}if(null!=e[".google.api.fieldBehavior"]&&e.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(e[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(var r=0;r<e[".google.api.fieldBehavior"].length;++r)switch(e[".google.api.fieldBehavior"][r]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}if(null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")){var i=s.google.api.ResourceReference.verify(e[".google.api.resourceReference"]);if(i)return".google.api.resourceReference."+i}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FieldOptions)return e;var t=new s.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(e[".google.api.fieldBehavior"]){if(!Array.isArray(e[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");t[".google.api.fieldBehavior"]=[];for(var r=0;r<e[".google.api.fieldBehavior"].length;++r)switch(e[".google.api.fieldBehavior"][r]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:t[".google.api.fieldBehavior"][r]=0;break;case"OPTIONAL":case 1:t[".google.api.fieldBehavior"][r]=1;break;case"REQUIRED":case 2:t[".google.api.fieldBehavior"][r]=2;break;case"OUTPUT_ONLY":case 3:t[".google.api.fieldBehavior"][r]=3;break;case"INPUT_ONLY":case 4:t[".google.api.fieldBehavior"][r]=4;break;case"IMMUTABLE":case 5:t[".google.api.fieldBehavior"][r]=5}}if(null!=e[".google.api.resourceReference"]){if("object"!==(0,o.default)(e[".google.api.resourceReference"]))throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");t[".google.api.resourceReference"]=s.google.api.ResourceReference.fromObject(e[".google.api.resourceReference"])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[],n[".google.api.fieldBehavior"]=[]),t.defaults&&(n.ctype=t.enums===String?"STRING":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?"JS_NORMAL":0,n.weak=!1,n[".google.api.resourceReference"]=null),null!=e.ctype&&e.hasOwnProperty("ctype")&&(n.ctype=t.enums===String?s.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(n.jstype=t.enums===String?s.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}if(e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length){n[".google.api.fieldBehavior"]=[];for(var o=0;o<e[".google.api.fieldBehavior"].length;++o)n[".google.api.fieldBehavior"][o]=t.enums===String?s.google.api.FieldBehavior[e[".google.api.fieldBehavior"][o]]:e[".google.api.fieldBehavior"][o]}return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(n[".google.api.resourceReference"]=s.google.api.ResourceReference.toObject(e[".google.api.resourceReference"],t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.CType=function(){var e={},t=Object.create(e);return t[e[0]="STRING"]=0,t[e[1]="CORD"]=1,t[e[2]="STRING_PIECE"]=2,t}(),e.JSType=function(){var e={},t=Object.create(e);return t[e[0]="JS_NORMAL"]=0,t[e[1]="JS_STRING"]=1,t[e[2]="JS_NUMBER"]=2,t}(),e}(),r.OneofOptions=function(){function e(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uninterpretedOption=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.OneofOptions;e.pos<n;){var o=e.uint32();o>>>3==999?(r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.OneofOptions)return e;var t=new s.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.EnumOptions=function(){function e(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.allowAlias=!1,e.prototype.deprecated=!1,e.prototype.uninterpretedOption=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.EnumOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 2:r.allowAlias=e.bool();break;case 3:r.deprecated=e.bool();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&"boolean"!=typeof e.allowAlias)return"allowAlias: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.EnumOptions)return e;var t=new s.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.EnumValueOptions=function(){function e(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.deprecated=!1,e.prototype.uninterpretedOption=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.EnumValueOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.deprecated=e.bool();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.EnumValueOptions)return e;var t=new s.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.ServiceOptions=function(){function e(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.deprecated=!1,e.prototype.uninterpretedOption=u.emptyArray,e.prototype[".google.api.defaultHost"]="",e.prototype[".google.api.oauthScopes"]="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.defaultHost"]&&Object.hasOwnProperty.call(e,".google.api.defaultHost")&&t.uint32(8394).string(e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&Object.hasOwnProperty.call(e,".google.api.oauthScopes")&&t.uint32(8402).string(e[".google.api.oauthScopes"]),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.ServiceOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 33:r.deprecated=e.bool();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:r[".google.api.defaultHost"]=e.string();break;case 1050:r[".google.api.oauthScopes"]=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&!u.isString(e[".google.api.defaultHost"])?".google.api.defaultHost: string expected":null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&!u.isString(e[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.ServiceOptions)return e;var t=new s.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[".google.api.defaultHost"]="",n[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(n[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(n[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.MethodOptions=function(){function e(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.deprecated=!1,e.prototype.uninterpretedOption=u.emptyArray,e.prototype[".google.api.http"]=null,e.prototype[".google.api.methodSignature"]=u.emptyArray,e.prototype[".google.longrunning.operationInfo"]=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)s.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[".google.longrunning.operationInfo"]&&Object.hasOwnProperty.call(e,".google.longrunning.operationInfo")&&s.google.longrunning.OperationInfo.encode(e[".google.longrunning.operationInfo"],t.uint32(8394).fork()).ldelim(),null!=e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(var r=0;r<e[".google.api.methodSignature"].length;++r)t.uint32(8410).string(e[".google.api.methodSignature"][r]);return null!=e[".google.api.http"]&&Object.hasOwnProperty.call(e,".google.api.http")&&s.google.api.HttpRule.encode(e[".google.api.http"],t.uint32(578365826).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.MethodOptions;e.pos<n;){var o=e.uint32();switch(o>>>3){case 33:r.deprecated=e.bool();break;case 999:r.uninterpretedOption&&r.uninterpretedOption.length||(r.uninterpretedOption=[]),r.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:r[".google.api.http"]=s.google.api.HttpRule.decode(e,e.uint32());break;case 1051:r[".google.api.methodSignature"]&&r[".google.api.methodSignature"].length||(r[".google.api.methodSignature"]=[]),r[".google.api.methodSignature"].push(e.string());break;case 1049:r[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var n=s.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return"uninterpretedOption."+n}}if(null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")){var r=s.google.api.HttpRule.verify(e[".google.api.http"]);if(r)return".google.api.http."+r}if(null!=e[".google.api.methodSignature"]&&e.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(e[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(var i=0;i<e[".google.api.methodSignature"].length;++i)if(!u.isString(e[".google.api.methodSignature"][i]))return".google.api.methodSignature: string[] expected"}if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")){var a=s.google.longrunning.OperationInfo.verify(e[".google.longrunning.operationInfo"]);if(a)return".google.longrunning.operationInfo."+a}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.MethodOptions)return e;var t=new s.google.protobuf.MethodOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if("object"!==(0,o.default)(e.uninterpretedOption[n]))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[".google.api.http"]){if("object"!==(0,o.default)(e[".google.api.http"]))throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=s.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");t[".google.api.methodSignature"]=[];for(var r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}if(null!=e[".google.longrunning.operationInfo"]){if("object"!==(0,o.default)(e[".google.longrunning.operationInfo"]))throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");t[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.fromObject(e[".google.longrunning.operationInfo"])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uninterpretedOption=[],n[".google.api.methodSignature"]=[]),t.defaults&&(n.deprecated=!1,n[".google.longrunning.operationInfo"]=null,n[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r)n.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[r],t)}if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(n[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.toObject(e[".google.longrunning.operationInfo"],t)),e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length){n[".google.api.methodSignature"]=[];for(var o=0;o<e[".google.api.methodSignature"].length;++o)n[".google.api.methodSignature"][o]=e[".google.api.methodSignature"][o]}return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(n[".google.api.http"]=s.google.api.HttpRule.toObject(e[".google.api.http"],t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.UninterpretedOption=function(){function e(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name=u.emptyArray,e.prototype.identifierValue="",e.prototype.positiveIntValue=u.Long?u.Long.fromBits(0,0,!0):0,e.prototype.negativeIntValue=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.doubleValue=0,e.prototype.stringValue=u.newBuffer([]),e.prototype.aggregateValue="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)s.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.UninterpretedOption;e.pos<n;){var o=e.uint32();switch(o>>>3){case 2:r.name&&r.name.length||(r.name=[]),r.name.push(s.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:r.identifierValue=e.string();break;case 4:r.positiveIntValue=e.uint64();break;case 5:r.negativeIntValue=e.int64();break;case 6:r.doubleValue=e.double();break;case 7:r.stringValue=e.bytes();break;case 8:r.aggregateValue=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")){if(!Array.isArray(e.name))return"name: array expected";for(var t=0;t<e.name.length;++t){var n=s.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return"name."+n}}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&!u.isString(e.identifierValue)?"identifierValue: string expected":null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&!(u.isInteger(e.positiveIntValue)||e.positiveIntValue&&u.isInteger(e.positiveIntValue.low)&&u.isInteger(e.positiveIntValue.high))?"positiveIntValue: integer|Long expected":null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&!(u.isInteger(e.negativeIntValue)||e.negativeIntValue&&u.isInteger(e.negativeIntValue.low)&&u.isInteger(e.negativeIntValue.high))?"negativeIntValue: integer|Long expected":null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&"number"!=typeof e.doubleValue?"doubleValue: number expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!(e.stringValue&&"number"==typeof e.stringValue.length||u.isString(e.stringValue))?"stringValue: buffer expected":null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&!u.isString(e.aggregateValue)?"aggregateValue: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.UninterpretedOption)return e;var t=new s.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var n=0;n<e.name.length;++n){if("object"!==(0,o.default)(e.name[n]))throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[n]=s.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(u.Long?(t.positiveIntValue=u.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"===(0,o.default)(e.positiveIntValue)&&(t.positiveIntValue=new u.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(u.Long?(t.negativeIntValue=u.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"===(0,o.default)(e.negativeIntValue)&&(t.negativeIntValue=new u.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?u.base64.decode(e.stringValue,t.stringValue=u.newBuffer(u.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.name=[]),t.defaults){if(n.identifierValue="",u.Long){var r=new u.Long(0,0,!0);n.positiveIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.positiveIntValue=t.longs===String?"0":0;if(u.Long){var o=new u.Long(0,0,!1);n.negativeIntValue=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.negativeIntValue=t.longs===String?"0":0;n.doubleValue=0,t.bytes===String?n.stringValue="":(n.stringValue=[],t.bytes!==Array&&(n.stringValue=u.newBuffer(n.stringValue))),n.aggregateValue=""}if(e.name&&e.name.length){n.name=[];for(var i=0;i<e.name.length;++i)n.name[i]=s.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[i],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(n.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?n.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:n.positiveIntValue=t.longs===String?u.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new u.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?n.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:n.negativeIntValue=t.longs===String?u.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new u.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(n.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=t.bytes===String?u.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(n.aggregateValue=e.aggregateValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.NamePart=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.namePart="",e.prototype.isExtension=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),t.uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.namePart=e.string();break;case 2:r.isExtension=e.bool();break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("namePart"))throw u.ProtocolError("missing required 'namePart'",{instance:r});if(!r.hasOwnProperty("isExtension"))throw u.ProtocolError("missing required 'isExtension'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":u.isString(e.namePart)?"boolean"!=typeof e.isExtension?"isExtension: boolean expected":null:"namePart: string expected"},e.fromObject=function(e){if(e instanceof s.google.protobuf.UninterpretedOption.NamePart)return e;var t=new s.google.protobuf.UninterpretedOption.NamePart;return null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.namePart="",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(n.isExtension=e.isExtension),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),r.SourceCodeInfo=function(){function e(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.location=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)s.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.SourceCodeInfo;e.pos<n;){var o=e.uint32();o>>>3==1?(r.location&&r.location.length||(r.location=[]),r.location.push(s.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.location&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(var t=0;t<e.location.length;++t){var n=s.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return"location."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.SourceCodeInfo)return e;var t=new s.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var n=0;n<e.location.length;++n){if("object"!==(0,o.default)(e.location[n]))throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[n]=s.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var r=0;r<e.location.length;++r)n.location[r]=s.google.protobuf.SourceCodeInfo.Location.toObject(e.location[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Location=function(){function e(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.path=u.emptyArray,e.prototype.span=u.emptyArray,e.prototype.leadingComments="",e.prototype.trailingComments="",e.prototype.leadingDetachedComments=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(var r=0;r<e.span.length;++r)t.int32(e.span[r]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(var o=0;o<e.leadingDetachedComments.length;++o)t.uint32(50).string(e.leadingDetachedComments[o]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.path&&r.path.length||(r.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.path.push(e.int32());else r.path.push(e.int32());break;case 2:if(r.span&&r.span.length||(r.span=[]),2==(7&o))for(var l=e.uint32()+e.pos;e.pos<l;)r.span.push(e.int32());else r.span.push(e.int32());break;case 3:r.leadingComments=e.string();break;case 4:r.trailingComments=e.string();break;case 6:r.leadingDetachedComments&&r.leadingDetachedComments.length||(r.leadingDetachedComments=[]),r.leadingDetachedComments.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!u.isInteger(e.path[t]))return"path: integer[] expected"}if(null!=e.span&&e.hasOwnProperty("span")){if(!Array.isArray(e.span))return"span: array expected";for(var n=0;n<e.span.length;++n)if(!u.isInteger(e.span[n]))return"span: integer[] expected"}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&!u.isString(e.leadingComments))return"leadingComments: string expected";if(null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&!u.isString(e.trailingComments))return"trailingComments: string expected";if(null!=e.leadingDetachedComments&&e.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(e.leadingDetachedComments))return"leadingDetachedComments: array expected";for(var r=0;r<e.leadingDetachedComments.length;++r)if(!u.isString(e.leadingDetachedComments[r]))return"leadingDetachedComments: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.SourceCodeInfo.Location)return e;var t=new s.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");t.span=[];for(var r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");t.leadingDetachedComments=[];for(var o=0;o<e.leadingDetachedComments.length;++o)t.leadingDetachedComments[o]=String(e.leadingDetachedComments[o])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments="",n.trailingComments=""),e.path&&e.path.length){n.path=[];for(var r=0;r<e.path.length;++r)n.path[r]=e.path[r]}if(e.span&&e.span.length){n.span=[];for(var o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(var i=0;i<e.leadingDetachedComments.length;++i)n.leadingDetachedComments[i]=e.leadingDetachedComments[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),r.GeneratedCodeInfo=function(){function e(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.annotation=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)s.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.GeneratedCodeInfo;e.pos<n;){var o=e.uint32();o>>>3==1?(r.annotation&&r.annotation.length||(r.annotation=[]),r.annotation.push(s.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.annotation&&e.hasOwnProperty("annotation")){if(!Array.isArray(e.annotation))return"annotation: array expected";for(var t=0;t<e.annotation.length;++t){var n=s.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return"annotation."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.GeneratedCodeInfo)return e;var t=new s.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if("object"!==(0,o.default)(e.annotation[n]))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[n]=s.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var r=0;r<e.annotation.length;++r)n.annotation[r]=s.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Annotation=function(){function e(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.path=u.emptyArray,e.prototype.sourceFile="",e.prototype.begin=0,e.prototype.end=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.path&&r.path.length||(r.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.path.push(e.int32());else r.path.push(e.int32());break;case 2:r.sourceFile=e.string();break;case 3:r.begin=e.int32();break;case 4:r.end=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!u.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&!u.isString(e.sourceFile)?"sourceFile: string expected":null!=e.begin&&e.hasOwnProperty("begin")&&!u.isInteger(e.begin)?"begin: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!u.isInteger(e.end)?"end: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new s.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile="",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var r=0;r<e.path.length;++r)n.path[r]=e.path[r]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(n.end=e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),r.Any=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type_url="",e.prototype.value=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.type_url&&Object.hasOwnProperty.call(e,"type_url")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Any;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type_url=e.string();break;case 2:r.value=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.type_url&&e.hasOwnProperty("type_url")&&!u.isString(e.type_url)?"type_url: string expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||u.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Any)return e;var t=new s.google.protobuf.Any;return null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&("string"==typeof e.value?u.base64.decode(e.value,t.value=u.newBuffer(u.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type_url="",t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=u.newBuffer(n.value)))),null!=e.type_url&&e.hasOwnProperty("type_url")&&(n.type_url=e.type_url),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?u.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Timestamp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seconds=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(16).int32(e.nanos),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Timestamp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seconds=e.int64();break;case 2:r.nanos=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!(u.isInteger(e.seconds)||e.seconds&&u.isInteger(e.seconds.low)&&u.isInteger(e.seconds.high))?"seconds: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!u.isInteger(e.nanos)?"nanos: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Timestamp)return e;var t=new s.google.protobuf.Timestamp;return null!=e.seconds&&(u.Long?(t.seconds=u.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"===(0,o.default)(e.seconds)&&(t.seconds=new u.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.seconds=t.longs===String?"0":0;n.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?u.Long.prototype.toString.call(e.seconds):t.longs===Number?new u.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Struct=function(){function e(e){if(this.fields={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fields=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.fields&&Object.hasOwnProperty.call(e,"fields"))for(var n=Object.keys(e.fields),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),s.google.protobuf.Value.encode(e.fields[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.protobuf.Struct;e.pos<o;){var l=e.uint32();if(l>>>3==1){i.fields===u.emptyObject&&(i.fields={});var c=e.uint32()+e.pos;for(n="",r=null;e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=s.google.protobuf.Value.decode(e,e.uint32());break;default:e.skipType(7&d)}}i.fields[n]=r}else e.skipType(7&l)}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.fields&&e.hasOwnProperty("fields")){if(!u.isObject(e.fields))return"fields: object expected";for(var t=Object.keys(e.fields),n=0;n<t.length;++n){var r=s.google.protobuf.Value.verify(e.fields[t[n]]);if(r)return"fields."+r}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Struct)return e;var t=new s.google.protobuf.Struct;if(e.fields){if("object"!==(0,o.default)(e.fields))throw TypeError(".google.protobuf.Struct.fields: object expected");t.fields={};for(var n=Object.keys(e.fields),r=0;r<n.length;++r){if("object"!==(0,o.default)(e.fields[n[r]]))throw TypeError(".google.protobuf.Struct.fields: object expected");t.fields[n[r]]=s.google.protobuf.Value.fromObject(e.fields[n[r]])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.fields={}),e.fields&&(n=Object.keys(e.fields)).length){r.fields={};for(var o=0;o<n.length;++o)r.fields[n[o]]=s.google.protobuf.Value.toObject(e.fields[n[o]],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.nullValue=null,e.prototype.numberValue=null,e.prototype.stringValue=null,e.prototype.boolValue=null,e.prototype.structValue=null,e.prototype.listValue=null,Object.defineProperty(e.prototype,"kind",{get:u.oneOfGetter(t=["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.nullValue&&Object.hasOwnProperty.call(e,"nullValue")&&t.uint32(8).int32(e.nullValue),null!=e.numberValue&&Object.hasOwnProperty.call(e,"numberValue")&&t.uint32(17).double(e.numberValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(26).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(32).bool(e.boolValue),null!=e.structValue&&Object.hasOwnProperty.call(e,"structValue")&&s.google.protobuf.Struct.encode(e.structValue,t.uint32(42).fork()).ldelim(),null!=e.listValue&&Object.hasOwnProperty.call(e,"listValue")&&s.google.protobuf.ListValue.encode(e.listValue,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Value;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.nullValue=e.int32();break;case 2:r.numberValue=e.double();break;case 3:r.stringValue=e.string();break;case 4:r.boolValue=e.bool();break;case 5:r.structValue=s.google.protobuf.Struct.decode(e,e.uint32());break;case 6:r.listValue=s.google.protobuf.ListValue.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";var t={};if(null!=e.nullValue&&e.hasOwnProperty("nullValue")&&(t.kind=1,0!==e.nullValue))return"nullValue: enum value expected";if(null!=e.numberValue&&e.hasOwnProperty("numberValue")){if(1===t.kind)return"kind: multiple values";if(t.kind=1,"number"!=typeof e.numberValue)return"numberValue: number expected"}if(null!=e.stringValue&&e.hasOwnProperty("stringValue")){if(1===t.kind)return"kind: multiple values";if(t.kind=1,!u.isString(e.stringValue))return"stringValue: string expected"}if(null!=e.boolValue&&e.hasOwnProperty("boolValue")){if(1===t.kind)return"kind: multiple values";if(t.kind=1,"boolean"!=typeof e.boolValue)return"boolValue: boolean expected"}if(null!=e.structValue&&e.hasOwnProperty("structValue")){if(1===t.kind)return"kind: multiple values";t.kind=1;var n=s.google.protobuf.Struct.verify(e.structValue);if(n)return"structValue."+n}if(null!=e.listValue&&e.hasOwnProperty("listValue")){if(1===t.kind)return"kind: multiple values";t.kind=1;var r=s.google.protobuf.ListValue.verify(e.listValue);if(r)return"listValue."+r}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Value)return e;var t=new s.google.protobuf.Value;switch(e.nullValue){case"NULL_VALUE":case 0:t.nullValue=0}if(null!=e.numberValue&&(t.numberValue=Number(e.numberValue)),null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=Boolean(e.boolValue)),null!=e.structValue){if("object"!==(0,o.default)(e.structValue))throw TypeError(".google.protobuf.Value.structValue: object expected");t.structValue=s.google.protobuf.Struct.fromObject(e.structValue)}if(null!=e.listValue){if("object"!==(0,o.default)(e.listValue))throw TypeError(".google.protobuf.Value.listValue: object expected");t.listValue=s.google.protobuf.ListValue.fromObject(e.listValue)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.nullValue&&e.hasOwnProperty("nullValue")&&(n.nullValue=t.enums===String?s.google.protobuf.NullValue[e.nullValue]:e.nullValue,t.oneofs&&(n.kind="nullValue")),null!=e.numberValue&&e.hasOwnProperty("numberValue")&&(n.numberValue=t.json&&!isFinite(e.numberValue)?String(e.numberValue):e.numberValue,t.oneofs&&(n.kind="numberValue")),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue,t.oneofs&&(n.kind="stringValue")),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(n.boolValue=e.boolValue,t.oneofs&&(n.kind="boolValue")),null!=e.structValue&&e.hasOwnProperty("structValue")&&(n.structValue=s.google.protobuf.Struct.toObject(e.structValue,t),t.oneofs&&(n.kind="structValue")),null!=e.listValue&&e.hasOwnProperty("listValue")&&(n.listValue=s.google.protobuf.ListValue.toObject(e.listValue,t),t.oneofs&&(n.kind="listValue")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.NullValue=function(){var e={},t=Object.create(e);return t[e[0]="NULL_VALUE"]=0,t}(),r.ListValue=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.values=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.values&&e.values.length)for(var n=0;n<e.values.length;++n)s.google.protobuf.Value.encode(e.values[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.ListValue;e.pos<n;){var o=e.uint32();o>>>3==1?(r.values&&r.values.length||(r.values=[]),r.values.push(s.google.protobuf.Value.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var n=s.google.protobuf.Value.verify(e.values[t]);if(n)return"values."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.ListValue)return e;var t=new s.google.protobuf.ListValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.protobuf.ListValue.values: array expected");t.values=[];for(var n=0;n<e.values.length;++n){if("object"!==(0,o.default)(e.values[n]))throw TypeError(".google.protobuf.ListValue.values: object expected");t.values[n]=s.google.protobuf.Value.fromObject(e.values[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.values=[]),e.values&&e.values.length){n.values=[];for(var r=0;r<e.values.length;++r)n.values[r]=s.google.protobuf.Value.toObject(e.values[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Api=function(){function e(e){if(this.methods=[],this.options=[],this.mixins=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.methods=u.emptyArray,e.prototype.options=u.emptyArray,e.prototype.version="",e.prototype.sourceContext=null,e.prototype.mixins=u.emptyArray,e.prototype.syntax=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.methods&&e.methods.length)for(var n=0;n<e.methods.length;++n)s.google.protobuf.Method.encode(e.methods[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&e.options.length)for(var r=0;r<e.options.length;++r)s.google.protobuf.Option.encode(e.options[r],t.uint32(26).fork()).ldelim();if(null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(34).string(e.version),null!=e.sourceContext&&Object.hasOwnProperty.call(e,"sourceContext")&&s.google.protobuf.SourceContext.encode(e.sourceContext,t.uint32(42).fork()).ldelim(),null!=e.mixins&&e.mixins.length)for(var o=0;o<e.mixins.length;++o)s.google.protobuf.Mixin.encode(e.mixins[o],t.uint32(50).fork()).ldelim();return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(56).int32(e.syntax),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Api;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.methods&&r.methods.length||(r.methods=[]),r.methods.push(s.google.protobuf.Method.decode(e,e.uint32()));break;case 3:r.options&&r.options.length||(r.options=[]),r.options.push(s.google.protobuf.Option.decode(e,e.uint32()));break;case 4:r.version=e.string();break;case 5:r.sourceContext=s.google.protobuf.SourceContext.decode(e,e.uint32());break;case 6:r.mixins&&r.mixins.length||(r.mixins=[]),r.mixins.push(s.google.protobuf.Mixin.decode(e,e.uint32()));break;case 7:r.syntax=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.methods&&e.hasOwnProperty("methods")){if(!Array.isArray(e.methods))return"methods: array expected";for(var t=0;t<e.methods.length;++t){var n=s.google.protobuf.Method.verify(e.methods[t]);if(n)return"methods."+n}}if(null!=e.options&&e.hasOwnProperty("options")){if(!Array.isArray(e.options))return"options: array expected";for(var r=0;r<e.options.length;++r){var i=s.google.protobuf.Option.verify(e.options[r]);if(i)return"options."+i}}if(null!=e.version&&e.hasOwnProperty("version")&&!u.isString(e.version))return"version: string expected";if(null!=e.sourceContext&&e.hasOwnProperty("sourceContext")){var a=s.google.protobuf.SourceContext.verify(e.sourceContext);if(a)return"sourceContext."+a}if(null!=e.mixins&&e.hasOwnProperty("mixins")){if(!Array.isArray(e.mixins))return"mixins: array expected";for(var l=0;l<e.mixins.length;++l){var c=s.google.protobuf.Mixin.verify(e.mixins[l]);if(c)return"mixins."+c}}if(null!=e.syntax&&e.hasOwnProperty("syntax"))switch(e.syntax){default:return"syntax: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Api)return e;var t=new s.google.protobuf.Api;if(null!=e.name&&(t.name=String(e.name)),e.methods){if(!Array.isArray(e.methods))throw TypeError(".google.protobuf.Api.methods: array expected");t.methods=[];for(var n=0;n<e.methods.length;++n){if("object"!==(0,o.default)(e.methods[n]))throw TypeError(".google.protobuf.Api.methods: object expected");t.methods[n]=s.google.protobuf.Method.fromObject(e.methods[n])}}if(e.options){if(!Array.isArray(e.options))throw TypeError(".google.protobuf.Api.options: array expected");t.options=[];for(var r=0;r<e.options.length;++r){if("object"!==(0,o.default)(e.options[r]))throw TypeError(".google.protobuf.Api.options: object expected");t.options[r]=s.google.protobuf.Option.fromObject(e.options[r])}}if(null!=e.version&&(t.version=String(e.version)),null!=e.sourceContext){if("object"!==(0,o.default)(e.sourceContext))throw TypeError(".google.protobuf.Api.sourceContext: object expected");t.sourceContext=s.google.protobuf.SourceContext.fromObject(e.sourceContext)}if(e.mixins){if(!Array.isArray(e.mixins))throw TypeError(".google.protobuf.Api.mixins: array expected");t.mixins=[];for(var i=0;i<e.mixins.length;++i){if("object"!==(0,o.default)(e.mixins[i]))throw TypeError(".google.protobuf.Api.mixins: object expected");t.mixins[i]=s.google.protobuf.Mixin.fromObject(e.mixins[i])}}switch(e.syntax){case"SYNTAX_PROTO2":case 0:t.syntax=0;break;case"SYNTAX_PROTO3":case 1:t.syntax=1}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.methods=[],n.options=[],n.mixins=[]),t.defaults&&(n.name="",n.version="",n.sourceContext=null,n.syntax=t.enums===String?"SYNTAX_PROTO2":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.methods&&e.methods.length){n.methods=[];for(var r=0;r<e.methods.length;++r)n.methods[r]=s.google.protobuf.Method.toObject(e.methods[r],t)}if(e.options&&e.options.length){n.options=[];for(var o=0;o<e.options.length;++o)n.options[o]=s.google.protobuf.Option.toObject(e.options[o],t)}if(null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.sourceContext&&e.hasOwnProperty("sourceContext")&&(n.sourceContext=s.google.protobuf.SourceContext.toObject(e.sourceContext,t)),e.mixins&&e.mixins.length){n.mixins=[];for(var i=0;i<e.mixins.length;++i)n.mixins[i]=s.google.protobuf.Mixin.toObject(e.mixins[i],t)}return null!=e.syntax&&e.hasOwnProperty("syntax")&&(n.syntax=t.enums===String?s.google.protobuf.Syntax[e.syntax]:e.syntax),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Method=function(){function e(e){if(this.options=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.requestTypeUrl="",e.prototype.requestStreaming=!1,e.prototype.responseTypeUrl="",e.prototype.responseStreaming=!1,e.prototype.options=u.emptyArray,e.prototype.syntax=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.requestTypeUrl&&Object.hasOwnProperty.call(e,"requestTypeUrl")&&t.uint32(18).string(e.requestTypeUrl),null!=e.requestStreaming&&Object.hasOwnProperty.call(e,"requestStreaming")&&t.uint32(24).bool(e.requestStreaming),null!=e.responseTypeUrl&&Object.hasOwnProperty.call(e,"responseTypeUrl")&&t.uint32(34).string(e.responseTypeUrl),null!=e.responseStreaming&&Object.hasOwnProperty.call(e,"responseStreaming")&&t.uint32(40).bool(e.responseStreaming),null!=e.options&&e.options.length)for(var n=0;n<e.options.length;++n)s.google.protobuf.Option.encode(e.options[n],t.uint32(50).fork()).ldelim();return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(56).int32(e.syntax),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Method;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.requestTypeUrl=e.string();break;case 3:r.requestStreaming=e.bool();break;case 4:r.responseTypeUrl=e.string();break;case 5:r.responseStreaming=e.bool();break;case 6:r.options&&r.options.length||(r.options=[]),r.options.push(s.google.protobuf.Option.decode(e,e.uint32()));break;case 7:r.syntax=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.requestTypeUrl&&e.hasOwnProperty("requestTypeUrl")&&!u.isString(e.requestTypeUrl))return"requestTypeUrl: string expected";if(null!=e.requestStreaming&&e.hasOwnProperty("requestStreaming")&&"boolean"!=typeof e.requestStreaming)return"requestStreaming: boolean expected";if(null!=e.responseTypeUrl&&e.hasOwnProperty("responseTypeUrl")&&!u.isString(e.responseTypeUrl))return"responseTypeUrl: string expected";if(null!=e.responseStreaming&&e.hasOwnProperty("responseStreaming")&&"boolean"!=typeof e.responseStreaming)return"responseStreaming: boolean expected";if(null!=e.options&&e.hasOwnProperty("options")){if(!Array.isArray(e.options))return"options: array expected";for(var t=0;t<e.options.length;++t){var n=s.google.protobuf.Option.verify(e.options[t]);if(n)return"options."+n}}if(null!=e.syntax&&e.hasOwnProperty("syntax"))switch(e.syntax){default:return"syntax: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Method)return e;var t=new s.google.protobuf.Method;if(null!=e.name&&(t.name=String(e.name)),null!=e.requestTypeUrl&&(t.requestTypeUrl=String(e.requestTypeUrl)),null!=e.requestStreaming&&(t.requestStreaming=Boolean(e.requestStreaming)),null!=e.responseTypeUrl&&(t.responseTypeUrl=String(e.responseTypeUrl)),null!=e.responseStreaming&&(t.responseStreaming=Boolean(e.responseStreaming)),e.options){if(!Array.isArray(e.options))throw TypeError(".google.protobuf.Method.options: array expected");t.options=[];for(var n=0;n<e.options.length;++n){if("object"!==(0,o.default)(e.options[n]))throw TypeError(".google.protobuf.Method.options: object expected");t.options[n]=s.google.protobuf.Option.fromObject(e.options[n])}}switch(e.syntax){case"SYNTAX_PROTO2":case 0:t.syntax=0;break;case"SYNTAX_PROTO3":case 1:t.syntax=1}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.options=[]),t.defaults&&(n.name="",n.requestTypeUrl="",n.requestStreaming=!1,n.responseTypeUrl="",n.responseStreaming=!1,n.syntax=t.enums===String?"SYNTAX_PROTO2":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.requestTypeUrl&&e.hasOwnProperty("requestTypeUrl")&&(n.requestTypeUrl=e.requestTypeUrl),null!=e.requestStreaming&&e.hasOwnProperty("requestStreaming")&&(n.requestStreaming=e.requestStreaming),null!=e.responseTypeUrl&&e.hasOwnProperty("responseTypeUrl")&&(n.responseTypeUrl=e.responseTypeUrl),null!=e.responseStreaming&&e.hasOwnProperty("responseStreaming")&&(n.responseStreaming=e.responseStreaming),e.options&&e.options.length){n.options=[];for(var r=0;r<e.options.length;++r)n.options[r]=s.google.protobuf.Option.toObject(e.options[r],t)}return null!=e.syntax&&e.hasOwnProperty("syntax")&&(n.syntax=t.enums===String?s.google.protobuf.Syntax[e.syntax]:e.syntax),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Mixin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.root="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.root&&Object.hasOwnProperty.call(e,"root")&&t.uint32(18).string(e.root),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Mixin;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.root=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.root&&e.hasOwnProperty("root")&&!u.isString(e.root)?"root: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Mixin)return e;var t=new s.google.protobuf.Mixin;return null!=e.name&&(t.name=String(e.name)),null!=e.root&&(t.root=String(e.root)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.root=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.root&&e.hasOwnProperty("root")&&(n.root=e.root),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.SourceContext=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fileName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(10).string(e.fileName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.SourceContext;e.pos<n;){var o=e.uint32();o>>>3==1?r.fileName=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.fileName&&e.hasOwnProperty("fileName")&&!u.isString(e.fileName)?"fileName: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.SourceContext)return e;var t=new s.google.protobuf.SourceContext;return null!=e.fileName&&(t.fileName=String(e.fileName)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.fileName=""),null!=e.fileName&&e.hasOwnProperty("fileName")&&(n.fileName=e.fileName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Type=function(){function e(e){if(this.fields=[],this.oneofs=[],this.options=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.fields=u.emptyArray,e.prototype.oneofs=u.emptyArray,e.prototype.options=u.emptyArray,e.prototype.sourceContext=null,e.prototype.syntax=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.fields&&e.fields.length)for(var n=0;n<e.fields.length;++n)s.google.protobuf.Field.encode(e.fields[n],t.uint32(18).fork()).ldelim();if(null!=e.oneofs&&e.oneofs.length)for(var r=0;r<e.oneofs.length;++r)t.uint32(26).string(e.oneofs[r]);if(null!=e.options&&e.options.length)for(var o=0;o<e.options.length;++o)s.google.protobuf.Option.encode(e.options[o],t.uint32(34).fork()).ldelim();return null!=e.sourceContext&&Object.hasOwnProperty.call(e,"sourceContext")&&s.google.protobuf.SourceContext.encode(e.sourceContext,t.uint32(42).fork()).ldelim(),null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(48).int32(e.syntax),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Type;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.fields&&r.fields.length||(r.fields=[]),r.fields.push(s.google.protobuf.Field.decode(e,e.uint32()));break;case 3:r.oneofs&&r.oneofs.length||(r.oneofs=[]),r.oneofs.push(e.string());break;case 4:r.options&&r.options.length||(r.options=[]),r.options.push(s.google.protobuf.Option.decode(e,e.uint32()));break;case 5:r.sourceContext=s.google.protobuf.SourceContext.decode(e,e.uint32());break;case 6:r.syntax=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.fields&&e.hasOwnProperty("fields")){if(!Array.isArray(e.fields))return"fields: array expected";for(var t=0;t<e.fields.length;++t){var n=s.google.protobuf.Field.verify(e.fields[t]);if(n)return"fields."+n}}if(null!=e.oneofs&&e.hasOwnProperty("oneofs")){if(!Array.isArray(e.oneofs))return"oneofs: array expected";for(var r=0;r<e.oneofs.length;++r)if(!u.isString(e.oneofs[r]))return"oneofs: string[] expected"}if(null!=e.options&&e.hasOwnProperty("options")){if(!Array.isArray(e.options))return"options: array expected";for(var i=0;i<e.options.length;++i){var a=s.google.protobuf.Option.verify(e.options[i]);if(a)return"options."+a}}if(null!=e.sourceContext&&e.hasOwnProperty("sourceContext")){var l=s.google.protobuf.SourceContext.verify(e.sourceContext);if(l)return"sourceContext."+l}if(null!=e.syntax&&e.hasOwnProperty("syntax"))switch(e.syntax){default:return"syntax: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Type)return e;var t=new s.google.protobuf.Type;if(null!=e.name&&(t.name=String(e.name)),e.fields){if(!Array.isArray(e.fields))throw TypeError(".google.protobuf.Type.fields: array expected");t.fields=[];for(var n=0;n<e.fields.length;++n){if("object"!==(0,o.default)(e.fields[n]))throw TypeError(".google.protobuf.Type.fields: object expected");t.fields[n]=s.google.protobuf.Field.fromObject(e.fields[n])}}if(e.oneofs){if(!Array.isArray(e.oneofs))throw TypeError(".google.protobuf.Type.oneofs: array expected");t.oneofs=[];for(var r=0;r<e.oneofs.length;++r)t.oneofs[r]=String(e.oneofs[r])}if(e.options){if(!Array.isArray(e.options))throw TypeError(".google.protobuf.Type.options: array expected");t.options=[];for(var i=0;i<e.options.length;++i){if("object"!==(0,o.default)(e.options[i]))throw TypeError(".google.protobuf.Type.options: object expected");t.options[i]=s.google.protobuf.Option.fromObject(e.options[i])}}if(null!=e.sourceContext){if("object"!==(0,o.default)(e.sourceContext))throw TypeError(".google.protobuf.Type.sourceContext: object expected");t.sourceContext=s.google.protobuf.SourceContext.fromObject(e.sourceContext)}switch(e.syntax){case"SYNTAX_PROTO2":case 0:t.syntax=0;break;case"SYNTAX_PROTO3":case 1:t.syntax=1}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fields=[],n.oneofs=[],n.options=[]),t.defaults&&(n.name="",n.sourceContext=null,n.syntax=t.enums===String?"SYNTAX_PROTO2":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.fields&&e.fields.length){n.fields=[];for(var r=0;r<e.fields.length;++r)n.fields[r]=s.google.protobuf.Field.toObject(e.fields[r],t)}if(e.oneofs&&e.oneofs.length){n.oneofs=[];for(var o=0;o<e.oneofs.length;++o)n.oneofs[o]=e.oneofs[o]}if(e.options&&e.options.length){n.options=[];for(var i=0;i<e.options.length;++i)n.options[i]=s.google.protobuf.Option.toObject(e.options[i],t)}return null!=e.sourceContext&&e.hasOwnProperty("sourceContext")&&(n.sourceContext=s.google.protobuf.SourceContext.toObject(e.sourceContext,t)),null!=e.syntax&&e.hasOwnProperty("syntax")&&(n.syntax=t.enums===String?s.google.protobuf.Syntax[e.syntax]:e.syntax),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Field=function(){function e(e){if(this.options=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.kind=0,e.prototype.cardinality=0,e.prototype.number=0,e.prototype.name="",e.prototype.typeUrl="",e.prototype.oneofIndex=0,e.prototype.packed=!1,e.prototype.options=u.emptyArray,e.prototype.jsonName="",e.prototype.defaultValue="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(8).int32(e.kind),null!=e.cardinality&&Object.hasOwnProperty.call(e,"cardinality")&&t.uint32(16).int32(e.cardinality),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),null!=e.typeUrl&&Object.hasOwnProperty.call(e,"typeUrl")&&t.uint32(50).string(e.typeUrl),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(56).int32(e.oneofIndex),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(64).bool(e.packed),null!=e.options&&e.options.length)for(var n=0;n<e.options.length;++n)s.google.protobuf.Option.encode(e.options[n],t.uint32(74).fork()).ldelim();return null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(90).string(e.defaultValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Field;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.kind=e.int32();break;case 2:r.cardinality=e.int32();break;case 3:r.number=e.int32();break;case 4:r.name=e.string();break;case 6:r.typeUrl=e.string();break;case 7:r.oneofIndex=e.int32();break;case 8:r.packed=e.bool();break;case 9:r.options&&r.options.length||(r.options=[]),r.options.push(s.google.protobuf.Option.decode(e,e.uint32()));break;case 10:r.jsonName=e.string();break;case 11:r.defaultValue=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.kind&&e.hasOwnProperty("kind"))switch(e.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.cardinality&&e.hasOwnProperty("cardinality"))switch(e.cardinality){default:return"cardinality: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.number&&e.hasOwnProperty("number")&&!u.isInteger(e.number))return"number: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.typeUrl&&e.hasOwnProperty("typeUrl")&&!u.isString(e.typeUrl))return"typeUrl: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!u.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.options&&e.hasOwnProperty("options")){if(!Array.isArray(e.options))return"options: array expected";for(var t=0;t<e.options.length;++t){var n=s.google.protobuf.Option.verify(e.options[t]);if(n)return"options."+n}}return null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!u.isString(e.jsonName)?"jsonName: string expected":null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!u.isString(e.defaultValue)?"defaultValue: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Field)return e;var t=new s.google.protobuf.Field;switch(e.kind){case"TYPE_UNKNOWN":case 0:t.kind=0;break;case"TYPE_DOUBLE":case 1:t.kind=1;break;case"TYPE_FLOAT":case 2:t.kind=2;break;case"TYPE_INT64":case 3:t.kind=3;break;case"TYPE_UINT64":case 4:t.kind=4;break;case"TYPE_INT32":case 5:t.kind=5;break;case"TYPE_FIXED64":case 6:t.kind=6;break;case"TYPE_FIXED32":case 7:t.kind=7;break;case"TYPE_BOOL":case 8:t.kind=8;break;case"TYPE_STRING":case 9:t.kind=9;break;case"TYPE_GROUP":case 10:t.kind=10;break;case"TYPE_MESSAGE":case 11:t.kind=11;break;case"TYPE_BYTES":case 12:t.kind=12;break;case"TYPE_UINT32":case 13:t.kind=13;break;case"TYPE_ENUM":case 14:t.kind=14;break;case"TYPE_SFIXED32":case 15:t.kind=15;break;case"TYPE_SFIXED64":case 16:t.kind=16;break;case"TYPE_SINT32":case 17:t.kind=17;break;case"TYPE_SINT64":case 18:t.kind=18}switch(e.cardinality){case"CARDINALITY_UNKNOWN":case 0:t.cardinality=0;break;case"CARDINALITY_OPTIONAL":case 1:t.cardinality=1;break;case"CARDINALITY_REQUIRED":case 2:t.cardinality=2;break;case"CARDINALITY_REPEATED":case 3:t.cardinality=3}if(null!=e.number&&(t.number=0|e.number),null!=e.name&&(t.name=String(e.name)),null!=e.typeUrl&&(t.typeUrl=String(e.typeUrl)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.packed&&(t.packed=Boolean(e.packed)),e.options){if(!Array.isArray(e.options))throw TypeError(".google.protobuf.Field.options: array expected");t.options=[];for(var n=0;n<e.options.length;++n){if("object"!==(0,o.default)(e.options[n]))throw TypeError(".google.protobuf.Field.options: object expected");t.options[n]=s.google.protobuf.Option.fromObject(e.options[n])}}return null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.options=[]),t.defaults&&(n.kind=t.enums===String?"TYPE_UNKNOWN":0,n.cardinality=t.enums===String?"CARDINALITY_UNKNOWN":0,n.number=0,n.name="",n.typeUrl="",n.oneofIndex=0,n.packed=!1,n.jsonName="",n.defaultValue=""),null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=t.enums===String?s.google.protobuf.Field.Kind[e.kind]:e.kind),null!=e.cardinality&&e.hasOwnProperty("cardinality")&&(n.cardinality=t.enums===String?s.google.protobuf.Field.Cardinality[e.cardinality]:e.cardinality),null!=e.number&&e.hasOwnProperty("number")&&(n.number=e.number),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.typeUrl&&e.hasOwnProperty("typeUrl")&&(n.typeUrl=e.typeUrl),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(n.oneofIndex=e.oneofIndex),null!=e.packed&&e.hasOwnProperty("packed")&&(n.packed=e.packed),e.options&&e.options.length){n.options=[];for(var r=0;r<e.options.length;++r)n.options[r]=s.google.protobuf.Option.toObject(e.options[r],t)}return null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(n.jsonName=e.jsonName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(n.defaultValue=e.defaultValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Kind=function(){var e={},t=Object.create(e);return t[e[0]="TYPE_UNKNOWN"]=0,t[e[1]="TYPE_DOUBLE"]=1,t[e[2]="TYPE_FLOAT"]=2,t[e[3]="TYPE_INT64"]=3,t[e[4]="TYPE_UINT64"]=4,t[e[5]="TYPE_INT32"]=5,t[e[6]="TYPE_FIXED64"]=6,t[e[7]="TYPE_FIXED32"]=7,t[e[8]="TYPE_BOOL"]=8,t[e[9]="TYPE_STRING"]=9,t[e[10]="TYPE_GROUP"]=10,t[e[11]="TYPE_MESSAGE"]=11,t[e[12]="TYPE_BYTES"]=12,t[e[13]="TYPE_UINT32"]=13,t[e[14]="TYPE_ENUM"]=14,t[e[15]="TYPE_SFIXED32"]=15,t[e[16]="TYPE_SFIXED64"]=16,t[e[17]="TYPE_SINT32"]=17,t[e[18]="TYPE_SINT64"]=18,t}(),e.Cardinality=function(){var e={},t=Object.create(e);return t[e[0]="CARDINALITY_UNKNOWN"]=0,t[e[1]="CARDINALITY_OPTIONAL"]=1,t[e[2]="CARDINALITY_REQUIRED"]=2,t[e[3]="CARDINALITY_REPEATED"]=3,t}(),e}(),r.Enum=function(){function e(e){if(this.enumvalue=[],this.options=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.enumvalue=u.emptyArray,e.prototype.options=u.emptyArray,e.prototype.sourceContext=null,e.prototype.syntax=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.enumvalue&&e.enumvalue.length)for(var n=0;n<e.enumvalue.length;++n)s.google.protobuf.EnumValue.encode(e.enumvalue[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&e.options.length)for(var r=0;r<e.options.length;++r)s.google.protobuf.Option.encode(e.options[r],t.uint32(26).fork()).ldelim();return null!=e.sourceContext&&Object.hasOwnProperty.call(e,"sourceContext")&&s.google.protobuf.SourceContext.encode(e.sourceContext,t.uint32(34).fork()).ldelim(),null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(40).int32(e.syntax),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Enum;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.enumvalue&&r.enumvalue.length||(r.enumvalue=[]),r.enumvalue.push(s.google.protobuf.EnumValue.decode(e,e.uint32()));break;case 3:r.options&&r.options.length||(r.options=[]),r.options.push(s.google.protobuf.Option.decode(e,e.uint32()));break;case 4:r.sourceContext=s.google.protobuf.SourceContext.decode(e,e.uint32());break;case 5:r.syntax=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.enumvalue&&e.hasOwnProperty("enumvalue")){if(!Array.isArray(e.enumvalue))return"enumvalue: array expected";for(var t=0;t<e.enumvalue.length;++t){var n=s.google.protobuf.EnumValue.verify(e.enumvalue[t]);if(n)return"enumvalue."+n}}if(null!=e.options&&e.hasOwnProperty("options")){if(!Array.isArray(e.options))return"options: array expected";for(var r=0;r<e.options.length;++r){var i=s.google.protobuf.Option.verify(e.options[r]);if(i)return"options."+i}}if(null!=e.sourceContext&&e.hasOwnProperty("sourceContext")){var a=s.google.protobuf.SourceContext.verify(e.sourceContext);if(a)return"sourceContext."+a}if(null!=e.syntax&&e.hasOwnProperty("syntax"))switch(e.syntax){default:return"syntax: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Enum)return e;var t=new s.google.protobuf.Enum;if(null!=e.name&&(t.name=String(e.name)),e.enumvalue){if(!Array.isArray(e.enumvalue))throw TypeError(".google.protobuf.Enum.enumvalue: array expected");t.enumvalue=[];for(var n=0;n<e.enumvalue.length;++n){if("object"!==(0,o.default)(e.enumvalue[n]))throw TypeError(".google.protobuf.Enum.enumvalue: object expected");t.enumvalue[n]=s.google.protobuf.EnumValue.fromObject(e.enumvalue[n])}}if(e.options){if(!Array.isArray(e.options))throw TypeError(".google.protobuf.Enum.options: array expected");t.options=[];for(var r=0;r<e.options.length;++r){if("object"!==(0,o.default)(e.options[r]))throw TypeError(".google.protobuf.Enum.options: object expected");t.options[r]=s.google.protobuf.Option.fromObject(e.options[r])}}if(null!=e.sourceContext){if("object"!==(0,o.default)(e.sourceContext))throw TypeError(".google.protobuf.Enum.sourceContext: object expected");t.sourceContext=s.google.protobuf.SourceContext.fromObject(e.sourceContext)}switch(e.syntax){case"SYNTAX_PROTO2":case 0:t.syntax=0;break;case"SYNTAX_PROTO3":case 1:t.syntax=1}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.enumvalue=[],n.options=[]),t.defaults&&(n.name="",n.sourceContext=null,n.syntax=t.enums===String?"SYNTAX_PROTO2":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.enumvalue&&e.enumvalue.length){n.enumvalue=[];for(var r=0;r<e.enumvalue.length;++r)n.enumvalue[r]=s.google.protobuf.EnumValue.toObject(e.enumvalue[r],t)}if(e.options&&e.options.length){n.options=[];for(var o=0;o<e.options.length;++o)n.options[o]=s.google.protobuf.Option.toObject(e.options[o],t)}return null!=e.sourceContext&&e.hasOwnProperty("sourceContext")&&(n.sourceContext=s.google.protobuf.SourceContext.toObject(e.sourceContext,t)),null!=e.syntax&&e.hasOwnProperty("syntax")&&(n.syntax=t.enums===String?s.google.protobuf.Syntax[e.syntax]:e.syntax),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.EnumValue=function(){function e(e){if(this.options=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.number=0,e.prototype.options=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&e.options.length)for(var n=0;n<e.options.length;++n)s.google.protobuf.Option.encode(e.options[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.EnumValue;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.number=e.int32();break;case 3:r.options&&r.options.length||(r.options=[]),r.options.push(s.google.protobuf.Option.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!u.isInteger(e.number))return"number: integer expected";if(null!=e.options&&e.hasOwnProperty("options")){if(!Array.isArray(e.options))return"options: array expected";for(var t=0;t<e.options.length;++t){var n=s.google.protobuf.Option.verify(e.options[t]);if(n)return"options."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.EnumValue)return e;var t=new s.google.protobuf.EnumValue;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.options){if(!Array.isArray(e.options))throw TypeError(".google.protobuf.EnumValue.options: array expected");t.options=[];for(var n=0;n<e.options.length;++n){if("object"!==(0,o.default)(e.options[n]))throw TypeError(".google.protobuf.EnumValue.options: object expected");t.options[n]=s.google.protobuf.Option.fromObject(e.options[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.options=[]),t.defaults&&(n.name="",n.number=0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(n.number=e.number),e.options&&e.options.length){n.options=[];for(var r=0;r<e.options.length;++r)n.options[r]=s.google.protobuf.Option.toObject(e.options[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Option=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&s.google.protobuf.Any.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Option;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.value=s.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=s.google.protobuf.Any.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Option)return e;var t=new s.google.protobuf.Option;if(null!=e.name&&(t.name=String(e.name)),null!=e.value){if("object"!==(0,o.default)(e.value))throw TypeError(".google.protobuf.Option.value: object expected");t.value=s.google.protobuf.Any.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.value=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.value&&e.hasOwnProperty("value")&&(n.value=s.google.protobuf.Any.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Syntax=function(){var e={},t=Object.create(e);return t[e[0]="SYNTAX_PROTO2"]=0,t[e[1]="SYNTAX_PROTO3"]=1,t}(),r.DoubleValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(9).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.DoubleValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.double():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.DoubleValue)return e;var t=new s.google.protobuf.DoubleValue;return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.FloatValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(13).float(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FloatValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.float():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FloatValue)return e;var t=new s.google.protobuf.FloatValue;return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Int64Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=u.Long?u.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).int64(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Int64Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.int64():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!(u.isInteger(e.value)||e.value&&u.isInteger(e.value.low)&&u.isInteger(e.value.high))?"value: integer|Long expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Int64Value)return e;var t=new s.google.protobuf.Int64Value;return null!=e.value&&(u.Long?(t.value=u.Long.fromValue(e.value)).unsigned=!1:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"===(0,o.default)(e.value)&&(t.value=new u.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(u.Long){var r=new u.Long(0,0,!1);n.value=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.value=t.longs===String?"0":0;return null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?u.Long.prototype.toString.call(e.value):t.longs===Number?new u.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber():e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.UInt64Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=u.Long?u.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).uint64(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.UInt64Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.uint64():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!(u.isInteger(e.value)||e.value&&u.isInteger(e.value.low)&&u.isInteger(e.value.high))?"value: integer|Long expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.UInt64Value)return e;var t=new s.google.protobuf.UInt64Value;return null!=e.value&&(u.Long?(t.value=u.Long.fromValue(e.value)).unsigned=!0:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"===(0,o.default)(e.value)&&(t.value=new u.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(u.Long){var r=new u.Long(0,0,!0);n.value=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.value=t.longs===String?"0":0;return null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?u.Long.prototype.toString.call(e.value):t.longs===Number?new u.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Int32Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).int32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Int32Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.int32():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!u.isInteger(e.value)?"value: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Int32Value)return e;var t=new s.google.protobuf.Int32Value;return null!=e.value&&(t.value=0|e.value),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.UInt32Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).uint32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.UInt32Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.uint32():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!u.isInteger(e.value)?"value: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.UInt32Value)return e;var t=new s.google.protobuf.UInt32Value;return null!=e.value&&(t.value=e.value>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.BoolValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).bool(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.BoolValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.bool():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"boolean"!=typeof e.value?"value: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.BoolValue)return e;var t=new s.google.protobuf.BoolValue;return null!=e.value&&(t.value=Boolean(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=!1),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.StringValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(10).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.StringValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!u.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.StringValue)return e;var t=new s.google.protobuf.StringValue;return null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=""),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.BytesValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(10).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.BytesValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.bytes():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||u.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.BytesValue)return e;var t=new s.google.protobuf.BytesValue;return null!=e.value&&("string"==typeof e.value?u.base64.decode(e.value,t.value=u.newBuffer(u.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=u.newBuffer(n.value)))),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?u.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Empty=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Empty;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null},e.fromObject=function(e){return e instanceof s.google.protobuf.Empty?e:new s.google.protobuf.Empty},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.FieldMask=function(){function e(e){if(this.paths=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.paths=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.paths&&e.paths.length)for(var n=0;n<e.paths.length;++n)t.uint32(10).string(e.paths[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.FieldMask;e.pos<n;){var o=e.uint32();o>>>3==1?(r.paths&&r.paths.length||(r.paths=[]),r.paths.push(e.string())):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.paths&&e.hasOwnProperty("paths")){if(!Array.isArray(e.paths))return"paths: array expected";for(var t=0;t<e.paths.length;++t)if(!u.isString(e.paths[t]))return"paths: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.protobuf.FieldMask)return e;var t=new s.google.protobuf.FieldMask;if(e.paths){if(!Array.isArray(e.paths))throw TypeError(".google.protobuf.FieldMask.paths: array expected");t.paths=[];for(var n=0;n<e.paths.length;++n)t.paths[n]=String(e.paths[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.paths=[]),e.paths&&e.paths.length){n.paths=[];for(var r=0;r<e.paths.length;++r)n.paths[r]=e.paths[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r.Duration=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seconds=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(16).int32(e.nanos),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.protobuf.Duration;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seconds=e.int64();break;case 2:r.nanos=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!(u.isInteger(e.seconds)||e.seconds&&u.isInteger(e.seconds.low)&&u.isInteger(e.seconds.high))?"seconds: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!u.isInteger(e.nanos)?"nanos: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.protobuf.Duration)return e;var t=new s.google.protobuf.Duration;return null!=e.seconds&&(u.Long?(t.seconds=u.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"===(0,o.default)(e.seconds)&&(t.seconds=new u.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.seconds=t.longs===String?"0":0;n.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?u.Long.prototype.toString.call(e.seconds):t.longs===Number?new u.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),r),v.cloud=function(){var e,t,n={};return n.vision=((t={}).v1=((e={}).Vertex=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.x=0,e.prototype.y=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).int32(e.y),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Vertex;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.x=e.int32();break;case 2:r.y=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!u.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!u.isInteger(e.y)?"y: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Vertex)return e;var t=new s.google.cloud.vision.v1.Vertex;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.NormalizedVertex=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.x=0,e.prototype.y=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(13).float(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(21).float(e.y),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.NormalizedVertex;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.x=e.float();break;case 2:r.y=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.NormalizedVertex)return e;var t=new s.google.cloud.vision.v1.NormalizedVertex;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.BoundingPoly=function(){function e(e){if(this.vertices=[],this.normalizedVertices=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.vertices=u.emptyArray,e.prototype.normalizedVertices=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.vertices&&e.vertices.length)for(var n=0;n<e.vertices.length;++n)s.google.cloud.vision.v1.Vertex.encode(e.vertices[n],t.uint32(10).fork()).ldelim();if(null!=e.normalizedVertices&&e.normalizedVertices.length)for(var r=0;r<e.normalizedVertices.length;++r)s.google.cloud.vision.v1.NormalizedVertex.encode(e.normalizedVertices[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.BoundingPoly;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.vertices&&r.vertices.length||(r.vertices=[]),r.vertices.push(s.google.cloud.vision.v1.Vertex.decode(e,e.uint32()));break;case 2:r.normalizedVertices&&r.normalizedVertices.length||(r.normalizedVertices=[]),r.normalizedVertices.push(s.google.cloud.vision.v1.NormalizedVertex.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.vertices&&e.hasOwnProperty("vertices")){if(!Array.isArray(e.vertices))return"vertices: array expected";for(var t=0;t<e.vertices.length;++t){var n=s.google.cloud.vision.v1.Vertex.verify(e.vertices[t]);if(n)return"vertices."+n}}if(null!=e.normalizedVertices&&e.hasOwnProperty("normalizedVertices")){if(!Array.isArray(e.normalizedVertices))return"normalizedVertices: array expected";for(var r=0;r<e.normalizedVertices.length;++r){var i=s.google.cloud.vision.v1.NormalizedVertex.verify(e.normalizedVertices[r]);if(i)return"normalizedVertices."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.BoundingPoly)return e;var t=new s.google.cloud.vision.v1.BoundingPoly;if(e.vertices){if(!Array.isArray(e.vertices))throw TypeError(".google.cloud.vision.v1.BoundingPoly.vertices: array expected");t.vertices=[];for(var n=0;n<e.vertices.length;++n){if("object"!==(0,o.default)(e.vertices[n]))throw TypeError(".google.cloud.vision.v1.BoundingPoly.vertices: object expected");t.vertices[n]=s.google.cloud.vision.v1.Vertex.fromObject(e.vertices[n])}}if(e.normalizedVertices){if(!Array.isArray(e.normalizedVertices))throw TypeError(".google.cloud.vision.v1.BoundingPoly.normalizedVertices: array expected");t.normalizedVertices=[];for(var r=0;r<e.normalizedVertices.length;++r){if("object"!==(0,o.default)(e.normalizedVertices[r]))throw TypeError(".google.cloud.vision.v1.BoundingPoly.normalizedVertices: object expected");t.normalizedVertices[r]=s.google.cloud.vision.v1.NormalizedVertex.fromObject(e.normalizedVertices[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.vertices=[],n.normalizedVertices=[]),e.vertices&&e.vertices.length){n.vertices=[];for(var r=0;r<e.vertices.length;++r)n.vertices[r]=s.google.cloud.vision.v1.Vertex.toObject(e.vertices[r],t)}if(e.normalizedVertices&&e.normalizedVertices.length){n.normalizedVertices=[];for(var o=0;o<e.normalizedVertices.length;++o)n.normalizedVertices[o]=s.google.cloud.vision.v1.NormalizedVertex.toObject(e.normalizedVertices[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Position=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.x=0,e.prototype.y=0,e.prototype.z=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(13).float(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(21).float(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(29).float(e.z),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Position;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.x=e.float();break;case 2:r.y=e.float();break;case 3:r.z=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Position)return e;var t=new s.google.cloud.vision.v1.Position;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.TextAnnotation=function(){function e(e){if(this.pages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pages=u.emptyArray,e.prototype.text="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.pages&&e.pages.length)for(var n=0;n<e.pages.length;++n)s.google.cloud.vision.v1.Page.encode(e.pages[n],t.uint32(10).fork()).ldelim();return null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(18).string(e.text),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.TextAnnotation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.pages&&r.pages.length||(r.pages=[]),r.pages.push(s.google.cloud.vision.v1.Page.decode(e,e.uint32()));break;case 2:r.text=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.pages&&e.hasOwnProperty("pages")){if(!Array.isArray(e.pages))return"pages: array expected";for(var t=0;t<e.pages.length;++t){var n=s.google.cloud.vision.v1.Page.verify(e.pages[t]);if(n)return"pages."+n}}return null!=e.text&&e.hasOwnProperty("text")&&!u.isString(e.text)?"text: string expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.TextAnnotation)return e;var t=new s.google.cloud.vision.v1.TextAnnotation;if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".google.cloud.vision.v1.TextAnnotation.pages: array expected");t.pages=[];for(var n=0;n<e.pages.length;++n){if("object"!==(0,o.default)(e.pages[n]))throw TypeError(".google.cloud.vision.v1.TextAnnotation.pages: object expected");t.pages[n]=s.google.cloud.vision.v1.Page.fromObject(e.pages[n])}}return null!=e.text&&(t.text=String(e.text)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.pages=[]),t.defaults&&(n.text=""),e.pages&&e.pages.length){n.pages=[];for(var r=0;r<e.pages.length;++r)n.pages[r]=s.google.cloud.vision.v1.Page.toObject(e.pages[r],t)}return null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.DetectedLanguage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.languageCode="",e.prototype.confidence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(21).float(e.confidence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.languageCode=e.string();break;case 2:r.confidence=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!u.isString(e.languageCode)?"languageCode: string expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage)return e;var t=new s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage;return null!=e.languageCode&&(t.languageCode=String(e.languageCode)),null!=e.confidence&&(t.confidence=Number(e.confidence)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.confidence=0),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.DetectedBreak=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.isPrefix=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.isPrefix&&Object.hasOwnProperty.call(e,"isPrefix")&&t.uint32(16).bool(e.isPrefix),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.TextAnnotation.DetectedBreak;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.isPrefix=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null!=e.isPrefix&&e.hasOwnProperty("isPrefix")&&"boolean"!=typeof e.isPrefix?"isPrefix: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.TextAnnotation.DetectedBreak)return e;var t=new s.google.cloud.vision.v1.TextAnnotation.DetectedBreak;switch(e.type){case"UNKNOWN":case 0:t.type=0;break;case"SPACE":case 1:t.type=1;break;case"SURE_SPACE":case 2:t.type=2;break;case"EOL_SURE_SPACE":case 3:t.type=3;break;case"HYPHEN":case 4:t.type=4;break;case"LINE_BREAK":case 5:t.type=5}return null!=e.isPrefix&&(t.isPrefix=Boolean(e.isPrefix)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"UNKNOWN":0,n.isPrefix=!1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.google.cloud.vision.v1.TextAnnotation.DetectedBreak.BreakType[e.type]:e.type),null!=e.isPrefix&&e.hasOwnProperty("isPrefix")&&(n.isPrefix=e.isPrefix),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.BreakType=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="SPACE"]=1,t[e[2]="SURE_SPACE"]=2,t[e[3]="EOL_SURE_SPACE"]=3,t[e[4]="HYPHEN"]=4,t[e[5]="LINE_BREAK"]=5,t}(),e}(),e.TextProperty=function(){function e(e){if(this.detectedLanguages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.detectedLanguages=u.emptyArray,e.prototype.detectedBreak=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.detectedLanguages&&e.detectedLanguages.length)for(var n=0;n<e.detectedLanguages.length;++n)s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage.encode(e.detectedLanguages[n],t.uint32(10).fork()).ldelim();return null!=e.detectedBreak&&Object.hasOwnProperty.call(e,"detectedBreak")&&s.google.cloud.vision.v1.TextAnnotation.DetectedBreak.encode(e.detectedBreak,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.TextAnnotation.TextProperty;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.detectedLanguages&&r.detectedLanguages.length||(r.detectedLanguages=[]),r.detectedLanguages.push(s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage.decode(e,e.uint32()));break;case 2:r.detectedBreak=s.google.cloud.vision.v1.TextAnnotation.DetectedBreak.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.detectedLanguages&&e.hasOwnProperty("detectedLanguages")){if(!Array.isArray(e.detectedLanguages))return"detectedLanguages: array expected";for(var t=0;t<e.detectedLanguages.length;++t){var n=s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage.verify(e.detectedLanguages[t]);if(n)return"detectedLanguages."+n}}if(null!=e.detectedBreak&&e.hasOwnProperty("detectedBreak")){var r=s.google.cloud.vision.v1.TextAnnotation.DetectedBreak.verify(e.detectedBreak);if(r)return"detectedBreak."+r}return null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.TextAnnotation.TextProperty)return e;var t=new s.google.cloud.vision.v1.TextAnnotation.TextProperty;if(e.detectedLanguages){if(!Array.isArray(e.detectedLanguages))throw TypeError(".google.cloud.vision.v1.TextAnnotation.TextProperty.detectedLanguages: array expected");t.detectedLanguages=[];for(var n=0;n<e.detectedLanguages.length;++n){if("object"!==(0,o.default)(e.detectedLanguages[n]))throw TypeError(".google.cloud.vision.v1.TextAnnotation.TextProperty.detectedLanguages: object expected");t.detectedLanguages[n]=s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage.fromObject(e.detectedLanguages[n])}}if(null!=e.detectedBreak){if("object"!==(0,o.default)(e.detectedBreak))throw TypeError(".google.cloud.vision.v1.TextAnnotation.TextProperty.detectedBreak: object expected");t.detectedBreak=s.google.cloud.vision.v1.TextAnnotation.DetectedBreak.fromObject(e.detectedBreak)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.detectedLanguages=[]),t.defaults&&(n.detectedBreak=null),e.detectedLanguages&&e.detectedLanguages.length){n.detectedLanguages=[];for(var r=0;r<e.detectedLanguages.length;++r)n.detectedLanguages[r]=s.google.cloud.vision.v1.TextAnnotation.DetectedLanguage.toObject(e.detectedLanguages[r],t)}return null!=e.detectedBreak&&e.hasOwnProperty("detectedBreak")&&(n.detectedBreak=s.google.cloud.vision.v1.TextAnnotation.DetectedBreak.toObject(e.detectedBreak,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),e.Page=function(){function e(e){if(this.blocks=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.property=null,e.prototype.width=0,e.prototype.height=0,e.prototype.blocks=u.emptyArray,e.prototype.confidence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.property&&Object.hasOwnProperty.call(e,"property")&&s.google.cloud.vision.v1.TextAnnotation.TextProperty.encode(e.property,t.uint32(10).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).int32(e.height),null!=e.blocks&&e.blocks.length)for(var n=0;n<e.blocks.length;++n)s.google.cloud.vision.v1.Block.encode(e.blocks[n],t.uint32(34).fork()).ldelim();return null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(45).float(e.confidence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Page;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.decode(e,e.uint32());break;case 2:r.width=e.int32();break;case 3:r.height=e.int32();break;case 4:r.blocks&&r.blocks.length||(r.blocks=[]),r.blocks.push(s.google.cloud.vision.v1.Block.decode(e,e.uint32()));break;case 5:r.confidence=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.property&&e.hasOwnProperty("property")){var t=s.google.cloud.vision.v1.TextAnnotation.TextProperty.verify(e.property);if(t)return"property."+t}if(null!=e.width&&e.hasOwnProperty("width")&&!u.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!u.isInteger(e.height))return"height: integer expected";if(null!=e.blocks&&e.hasOwnProperty("blocks")){if(!Array.isArray(e.blocks))return"blocks: array expected";for(var n=0;n<e.blocks.length;++n){var r=s.google.cloud.vision.v1.Block.verify(e.blocks[n]);if(r)return"blocks."+r}}return null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Page)return e;var t=new s.google.cloud.vision.v1.Page;if(null!=e.property){if("object"!==(0,o.default)(e.property))throw TypeError(".google.cloud.vision.v1.Page.property: object expected");t.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.fromObject(e.property)}if(null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),e.blocks){if(!Array.isArray(e.blocks))throw TypeError(".google.cloud.vision.v1.Page.blocks: array expected");t.blocks=[];for(var n=0;n<e.blocks.length;++n){if("object"!==(0,o.default)(e.blocks[n]))throw TypeError(".google.cloud.vision.v1.Page.blocks: object expected");t.blocks[n]=s.google.cloud.vision.v1.Block.fromObject(e.blocks[n])}}return null!=e.confidence&&(t.confidence=Number(e.confidence)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.blocks=[]),t.defaults&&(n.property=null,n.width=0,n.height=0,n.confidence=0),null!=e.property&&e.hasOwnProperty("property")&&(n.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.toObject(e.property,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),e.blocks&&e.blocks.length){n.blocks=[];for(var r=0;r<e.blocks.length;++r)n.blocks[r]=s.google.cloud.vision.v1.Block.toObject(e.blocks[r],t)}return null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Block=function(){function e(e){if(this.paragraphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.property=null,e.prototype.boundingBox=null,e.prototype.paragraphs=u.emptyArray,e.prototype.blockType=0,e.prototype.confidence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.property&&Object.hasOwnProperty.call(e,"property")&&s.google.cloud.vision.v1.TextAnnotation.TextProperty.encode(e.property,t.uint32(10).fork()).ldelim(),null!=e.boundingBox&&Object.hasOwnProperty.call(e,"boundingBox")&&s.google.cloud.vision.v1.BoundingPoly.encode(e.boundingBox,t.uint32(18).fork()).ldelim(),null!=e.paragraphs&&e.paragraphs.length)for(var n=0;n<e.paragraphs.length;++n)s.google.cloud.vision.v1.Paragraph.encode(e.paragraphs[n],t.uint32(26).fork()).ldelim();return null!=e.blockType&&Object.hasOwnProperty.call(e,"blockType")&&t.uint32(32).int32(e.blockType),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(45).float(e.confidence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Block;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.decode(e,e.uint32());break;case 2:r.boundingBox=s.google.cloud.vision.v1.BoundingPoly.decode(e,e.uint32());break;case 3:r.paragraphs&&r.paragraphs.length||(r.paragraphs=[]),r.paragraphs.push(s.google.cloud.vision.v1.Paragraph.decode(e,e.uint32()));break;case 4:r.blockType=e.int32();break;case 5:r.confidence=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.property&&e.hasOwnProperty("property")){var t=s.google.cloud.vision.v1.TextAnnotation.TextProperty.verify(e.property);if(t)return"property."+t}if(null!=e.boundingBox&&e.hasOwnProperty("boundingBox")){var n=s.google.cloud.vision.v1.BoundingPoly.verify(e.boundingBox);if(n)return"boundingBox."+n}if(null!=e.paragraphs&&e.hasOwnProperty("paragraphs")){if(!Array.isArray(e.paragraphs))return"paragraphs: array expected";for(var r=0;r<e.paragraphs.length;++r){var i=s.google.cloud.vision.v1.Paragraph.verify(e.paragraphs[r]);if(i)return"paragraphs."+i}}if(null!=e.blockType&&e.hasOwnProperty("blockType"))switch(e.blockType){default:return"blockType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Block)return e;var t=new s.google.cloud.vision.v1.Block;if(null!=e.property){if("object"!==(0,o.default)(e.property))throw TypeError(".google.cloud.vision.v1.Block.property: object expected");t.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.fromObject(e.property)}if(null!=e.boundingBox){if("object"!==(0,o.default)(e.boundingBox))throw TypeError(".google.cloud.vision.v1.Block.boundingBox: object expected");t.boundingBox=s.google.cloud.vision.v1.BoundingPoly.fromObject(e.boundingBox)}if(e.paragraphs){if(!Array.isArray(e.paragraphs))throw TypeError(".google.cloud.vision.v1.Block.paragraphs: array expected");t.paragraphs=[];for(var n=0;n<e.paragraphs.length;++n){if("object"!==(0,o.default)(e.paragraphs[n]))throw TypeError(".google.cloud.vision.v1.Block.paragraphs: object expected");t.paragraphs[n]=s.google.cloud.vision.v1.Paragraph.fromObject(e.paragraphs[n])}}switch(e.blockType){case"UNKNOWN":case 0:t.blockType=0;break;case"TEXT":case 1:t.blockType=1;break;case"TABLE":case 2:t.blockType=2;break;case"PICTURE":case 3:t.blockType=3;break;case"RULER":case 4:t.blockType=4;break;case"BARCODE":case 5:t.blockType=5}return null!=e.confidence&&(t.confidence=Number(e.confidence)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.paragraphs=[]),t.defaults&&(n.property=null,n.boundingBox=null,n.blockType=t.enums===String?"UNKNOWN":0,n.confidence=0),null!=e.property&&e.hasOwnProperty("property")&&(n.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.toObject(e.property,t)),null!=e.boundingBox&&e.hasOwnProperty("boundingBox")&&(n.boundingBox=s.google.cloud.vision.v1.BoundingPoly.toObject(e.boundingBox,t)),e.paragraphs&&e.paragraphs.length){n.paragraphs=[];for(var r=0;r<e.paragraphs.length;++r)n.paragraphs[r]=s.google.cloud.vision.v1.Paragraph.toObject(e.paragraphs[r],t)}return null!=e.blockType&&e.hasOwnProperty("blockType")&&(n.blockType=t.enums===String?s.google.cloud.vision.v1.Block.BlockType[e.blockType]:e.blockType),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.BlockType=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="TEXT"]=1,t[e[2]="TABLE"]=2,t[e[3]="PICTURE"]=3,t[e[4]="RULER"]=4,t[e[5]="BARCODE"]=5,t}(),e}(),e.Paragraph=function(){function e(e){if(this.words=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.property=null,e.prototype.boundingBox=null,e.prototype.words=u.emptyArray,e.prototype.confidence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.property&&Object.hasOwnProperty.call(e,"property")&&s.google.cloud.vision.v1.TextAnnotation.TextProperty.encode(e.property,t.uint32(10).fork()).ldelim(),null!=e.boundingBox&&Object.hasOwnProperty.call(e,"boundingBox")&&s.google.cloud.vision.v1.BoundingPoly.encode(e.boundingBox,t.uint32(18).fork()).ldelim(),null!=e.words&&e.words.length)for(var n=0;n<e.words.length;++n)s.google.cloud.vision.v1.Word.encode(e.words[n],t.uint32(26).fork()).ldelim();return null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(37).float(e.confidence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Paragraph;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.decode(e,e.uint32());break;case 2:r.boundingBox=s.google.cloud.vision.v1.BoundingPoly.decode(e,e.uint32());break;case 3:r.words&&r.words.length||(r.words=[]),r.words.push(s.google.cloud.vision.v1.Word.decode(e,e.uint32()));break;case 4:r.confidence=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.property&&e.hasOwnProperty("property")){var t=s.google.cloud.vision.v1.TextAnnotation.TextProperty.verify(e.property);if(t)return"property."+t}if(null!=e.boundingBox&&e.hasOwnProperty("boundingBox")){var n=s.google.cloud.vision.v1.BoundingPoly.verify(e.boundingBox);if(n)return"boundingBox."+n}if(null!=e.words&&e.hasOwnProperty("words")){if(!Array.isArray(e.words))return"words: array expected";for(var r=0;r<e.words.length;++r){var i=s.google.cloud.vision.v1.Word.verify(e.words[r]);if(i)return"words."+i}}return null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Paragraph)return e;var t=new s.google.cloud.vision.v1.Paragraph;if(null!=e.property){if("object"!==(0,o.default)(e.property))throw TypeError(".google.cloud.vision.v1.Paragraph.property: object expected");t.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.fromObject(e.property)}if(null!=e.boundingBox){if("object"!==(0,o.default)(e.boundingBox))throw TypeError(".google.cloud.vision.v1.Paragraph.boundingBox: object expected");t.boundingBox=s.google.cloud.vision.v1.BoundingPoly.fromObject(e.boundingBox)}if(e.words){if(!Array.isArray(e.words))throw TypeError(".google.cloud.vision.v1.Paragraph.words: array expected");t.words=[];for(var n=0;n<e.words.length;++n){if("object"!==(0,o.default)(e.words[n]))throw TypeError(".google.cloud.vision.v1.Paragraph.words: object expected");t.words[n]=s.google.cloud.vision.v1.Word.fromObject(e.words[n])}}return null!=e.confidence&&(t.confidence=Number(e.confidence)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.words=[]),t.defaults&&(n.property=null,n.boundingBox=null,n.confidence=0),null!=e.property&&e.hasOwnProperty("property")&&(n.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.toObject(e.property,t)),null!=e.boundingBox&&e.hasOwnProperty("boundingBox")&&(n.boundingBox=s.google.cloud.vision.v1.BoundingPoly.toObject(e.boundingBox,t)),e.words&&e.words.length){n.words=[];for(var r=0;r<e.words.length;++r)n.words[r]=s.google.cloud.vision.v1.Word.toObject(e.words[r],t)}return null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Word=function(){function e(e){if(this.symbols=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.property=null,e.prototype.boundingBox=null,e.prototype.symbols=u.emptyArray,e.prototype.confidence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.property&&Object.hasOwnProperty.call(e,"property")&&s.google.cloud.vision.v1.TextAnnotation.TextProperty.encode(e.property,t.uint32(10).fork()).ldelim(),null!=e.boundingBox&&Object.hasOwnProperty.call(e,"boundingBox")&&s.google.cloud.vision.v1.BoundingPoly.encode(e.boundingBox,t.uint32(18).fork()).ldelim(),null!=e.symbols&&e.symbols.length)for(var n=0;n<e.symbols.length;++n)s.google.cloud.vision.v1.Symbol.encode(e.symbols[n],t.uint32(26).fork()).ldelim();return null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(37).float(e.confidence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Word;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.decode(e,e.uint32());break;case 2:r.boundingBox=s.google.cloud.vision.v1.BoundingPoly.decode(e,e.uint32());break;case 3:r.symbols&&r.symbols.length||(r.symbols=[]),r.symbols.push(s.google.cloud.vision.v1.Symbol.decode(e,e.uint32()));break;case 4:r.confidence=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.property&&e.hasOwnProperty("property")){var t=s.google.cloud.vision.v1.TextAnnotation.TextProperty.verify(e.property);if(t)return"property."+t}if(null!=e.boundingBox&&e.hasOwnProperty("boundingBox")){var n=s.google.cloud.vision.v1.BoundingPoly.verify(e.boundingBox);if(n)return"boundingBox."+n}if(null!=e.symbols&&e.hasOwnProperty("symbols")){if(!Array.isArray(e.symbols))return"symbols: array expected";for(var r=0;r<e.symbols.length;++r){var i=s.google.cloud.vision.v1.Symbol.verify(e.symbols[r]);if(i)return"symbols."+i}}return null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Word)return e;var t=new s.google.cloud.vision.v1.Word;if(null!=e.property){if("object"!==(0,o.default)(e.property))throw TypeError(".google.cloud.vision.v1.Word.property: object expected");t.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.fromObject(e.property)}if(null!=e.boundingBox){if("object"!==(0,o.default)(e.boundingBox))throw TypeError(".google.cloud.vision.v1.Word.boundingBox: object expected");t.boundingBox=s.google.cloud.vision.v1.BoundingPoly.fromObject(e.boundingBox)}if(e.symbols){if(!Array.isArray(e.symbols))throw TypeError(".google.cloud.vision.v1.Word.symbols: array expected");t.symbols=[];for(var n=0;n<e.symbols.length;++n){if("object"!==(0,o.default)(e.symbols[n]))throw TypeError(".google.cloud.vision.v1.Word.symbols: object expected");t.symbols[n]=s.google.cloud.vision.v1.Symbol.fromObject(e.symbols[n])}}return null!=e.confidence&&(t.confidence=Number(e.confidence)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.symbols=[]),t.defaults&&(n.property=null,n.boundingBox=null,n.confidence=0),null!=e.property&&e.hasOwnProperty("property")&&(n.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.toObject(e.property,t)),null!=e.boundingBox&&e.hasOwnProperty("boundingBox")&&(n.boundingBox=s.google.cloud.vision.v1.BoundingPoly.toObject(e.boundingBox,t)),e.symbols&&e.symbols.length){n.symbols=[];for(var r=0;r<e.symbols.length;++r)n.symbols[r]=s.google.cloud.vision.v1.Symbol.toObject(e.symbols[r],t)}return null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Symbol=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.property=null,e.prototype.boundingBox=null,e.prototype.text="",e.prototype.confidence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.property&&Object.hasOwnProperty.call(e,"property")&&s.google.cloud.vision.v1.TextAnnotation.TextProperty.encode(e.property,t.uint32(10).fork()).ldelim(),null!=e.boundingBox&&Object.hasOwnProperty.call(e,"boundingBox")&&s.google.cloud.vision.v1.BoundingPoly.encode(e.boundingBox,t.uint32(18).fork()).ldelim(),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(37).float(e.confidence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.cloud.vision.v1.Symbol;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.decode(e,e.uint32());break;case 2:r.boundingBox=s.google.cloud.vision.v1.BoundingPoly.decode(e,e.uint32());break;case 3:r.text=e.string();break;case 4:r.confidence=e.float();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.property&&e.hasOwnProperty("property")){var t=s.google.cloud.vision.v1.TextAnnotation.TextProperty.verify(e.property);if(t)return"property."+t}if(null!=e.boundingBox&&e.hasOwnProperty("boundingBox")){var n=s.google.cloud.vision.v1.BoundingPoly.verify(e.boundingBox);if(n)return"boundingBox."+n}return null!=e.text&&e.hasOwnProperty("text")&&!u.isString(e.text)?"text: string expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null},e.fromObject=function(e){if(e instanceof s.google.cloud.vision.v1.Symbol)return e;var t=new s.google.cloud.vision.v1.Symbol;if(null!=e.property){if("object"!==(0,o.default)(e.property))throw TypeError(".google.cloud.vision.v1.Symbol.property: object expected");t.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.fromObject(e.property)}if(null!=e.boundingBox){if("object"!==(0,o.default)(e.boundingBox))throw TypeError(".google.cloud.vision.v1.Symbol.boundingBox: object expected");t.boundingBox=s.google.cloud.vision.v1.BoundingPoly.fromObject(e.boundingBox)}return null!=e.text&&(t.text=String(e.text)),null!=e.confidence&&(t.confidence=Number(e.confidence)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.property=null,n.boundingBox=null,n.text="",n.confidence=0),null!=e.property&&e.hasOwnProperty("property")&&(n.property=s.google.cloud.vision.v1.TextAnnotation.TextProperty.toObject(e.property,t)),null!=e.boundingBox&&e.hasOwnProperty("boundingBox")&&(n.boundingBox=s.google.cloud.vision.v1.BoundingPoly.toObject(e.boundingBox,t)),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e),t),n}(),v.iam=((p={}).admin=((d={}).v1=((c={}).IAM=function(){function e(e,t,n){i.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.listServiceAccounts=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.ListServiceAccountsRequest,s.google.iam.admin.v1.ListServiceAccountsResponse,t,n)},"name",{value:"ListServiceAccounts"}),Object.defineProperty(e.prototype.getServiceAccount=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.GetServiceAccountRequest,s.google.iam.admin.v1.ServiceAccount,t,n)},"name",{value:"GetServiceAccount"}),Object.defineProperty(e.prototype.createServiceAccount=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.CreateServiceAccountRequest,s.google.iam.admin.v1.ServiceAccount,t,n)},"name",{value:"CreateServiceAccount"}),Object.defineProperty(e.prototype.updateServiceAccount=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.ServiceAccount,s.google.iam.admin.v1.ServiceAccount,t,n)},"name",{value:"UpdateServiceAccount"}),Object.defineProperty(e.prototype.deleteServiceAccount=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.DeleteServiceAccountRequest,s.google.protobuf.Empty,t,n)},"name",{value:"DeleteServiceAccount"}),Object.defineProperty(e.prototype.listServiceAccountKeys=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.ListServiceAccountKeysRequest,s.google.iam.admin.v1.ListServiceAccountKeysResponse,t,n)},"name",{value:"ListServiceAccountKeys"}),Object.defineProperty(e.prototype.getServiceAccountKey=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.GetServiceAccountKeyRequest,s.google.iam.admin.v1.ServiceAccountKey,t,n)},"name",{value:"GetServiceAccountKey"}),Object.defineProperty(e.prototype.createServiceAccountKey=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.CreateServiceAccountKeyRequest,s.google.iam.admin.v1.ServiceAccountKey,t,n)},"name",{value:"CreateServiceAccountKey"}),Object.defineProperty(e.prototype.deleteServiceAccountKey=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.DeleteServiceAccountKeyRequest,s.google.protobuf.Empty,t,n)},"name",{value:"DeleteServiceAccountKey"}),Object.defineProperty(e.prototype.signBlob=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.SignBlobRequest,s.google.iam.admin.v1.SignBlobResponse,t,n)},"name",{value:"SignBlob"}),Object.defineProperty(e.prototype.signJwt=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.SignJwtRequest,s.google.iam.admin.v1.SignJwtResponse,t,n)},"name",{value:"SignJwt"}),Object.defineProperty(e.prototype.getIamPolicy=function e(t,n){return this.rpcCall(e,s.google.iam.v1.GetIamPolicyRequest,s.google.iam.v1.Policy,t,n)},"name",{value:"GetIamPolicy"}),Object.defineProperty(e.prototype.setIamPolicy=function e(t,n){return this.rpcCall(e,s.google.iam.v1.SetIamPolicyRequest,s.google.iam.v1.Policy,t,n)},"name",{value:"SetIamPolicy"}),Object.defineProperty(e.prototype.testIamPermissions=function e(t,n){return this.rpcCall(e,s.google.iam.v1.TestIamPermissionsRequest,s.google.iam.v1.TestIamPermissionsResponse,t,n)},"name",{value:"TestIamPermissions"}),Object.defineProperty(e.prototype.queryGrantableRoles=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.QueryGrantableRolesRequest,s.google.iam.admin.v1.QueryGrantableRolesResponse,t,n)},"name",{value:"QueryGrantableRoles"}),Object.defineProperty(e.prototype.listRoles=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.ListRolesRequest,s.google.iam.admin.v1.ListRolesResponse,t,n)},"name",{value:"ListRoles"}),Object.defineProperty(e.prototype.getRole=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.GetRoleRequest,s.google.iam.admin.v1.Role,t,n)},"name",{value:"GetRole"}),Object.defineProperty(e.prototype.createRole=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.CreateRoleRequest,s.google.iam.admin.v1.Role,t,n)},"name",{value:"CreateRole"}),Object.defineProperty(e.prototype.updateRole=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.UpdateRoleRequest,s.google.iam.admin.v1.Role,t,n)},"name",{value:"UpdateRole"}),Object.defineProperty(e.prototype.deleteRole=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.DeleteRoleRequest,s.google.iam.admin.v1.Role,t,n)},"name",{value:"DeleteRole"}),Object.defineProperty(e.prototype.undeleteRole=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.UndeleteRoleRequest,s.google.iam.admin.v1.Role,t,n)},"name",{value:"UndeleteRole"}),Object.defineProperty(e.prototype.queryTestablePermissions=function e(t,n){return this.rpcCall(e,s.google.iam.admin.v1.QueryTestablePermissionsRequest,s.google.iam.admin.v1.QueryTestablePermissionsResponse,t,n)},"name",{value:"QueryTestablePermissions"}),e}(),c.ServiceAccount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.projectId="",e.prototype.uniqueId="",e.prototype.email="",e.prototype.displayName="",e.prototype.etag=u.newBuffer([]),e.prototype.oauth2ClientId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.projectId&&Object.hasOwnProperty.call(e,"projectId")&&t.uint32(18).string(e.projectId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(34).string(e.uniqueId),null!=e.email&&Object.hasOwnProperty.call(e,"email")&&t.uint32(42).string(e.email),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(50).string(e.displayName),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(58).bytes(e.etag),null!=e.oauth2ClientId&&Object.hasOwnProperty.call(e,"oauth2ClientId")&&t.uint32(74).string(e.oauth2ClientId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ServiceAccount;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.projectId=e.string();break;case 4:r.uniqueId=e.string();break;case 5:r.email=e.string();break;case 6:r.displayName=e.string();break;case 7:r.etag=e.bytes();break;case 9:r.oauth2ClientId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.projectId&&e.hasOwnProperty("projectId")&&!u.isString(e.projectId)?"projectId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!u.isString(e.uniqueId)?"uniqueId: string expected":null!=e.email&&e.hasOwnProperty("email")&&!u.isString(e.email)?"email: string expected":null!=e.displayName&&e.hasOwnProperty("displayName")&&!u.isString(e.displayName)?"displayName: string expected":null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||u.isString(e.etag))?"etag: buffer expected":null!=e.oauth2ClientId&&e.hasOwnProperty("oauth2ClientId")&&!u.isString(e.oauth2ClientId)?"oauth2ClientId: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ServiceAccount)return e;var t=new s.google.iam.admin.v1.ServiceAccount;return null!=e.name&&(t.name=String(e.name)),null!=e.projectId&&(t.projectId=String(e.projectId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),null!=e.email&&(t.email=String(e.email)),null!=e.displayName&&(t.displayName=String(e.displayName)),null!=e.etag&&("string"==typeof e.etag?u.base64.decode(e.etag,t.etag=u.newBuffer(u.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),null!=e.oauth2ClientId&&(t.oauth2ClientId=String(e.oauth2ClientId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.projectId="",n.uniqueId="",n.email="",n.displayName="",t.bytes===String?n.etag="":(n.etag=[],t.bytes!==Array&&(n.etag=u.newBuffer(n.etag))),n.oauth2ClientId=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.projectId&&e.hasOwnProperty("projectId")&&(n.projectId=e.projectId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),null!=e.email&&e.hasOwnProperty("email")&&(n.email=e.email),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),null!=e.etag&&e.hasOwnProperty("etag")&&(n.etag=t.bytes===String?u.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),null!=e.oauth2ClientId&&e.hasOwnProperty("oauth2ClientId")&&(n.oauth2ClientId=e.oauth2ClientId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.CreateServiceAccountRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.accountId="",e.prototype.serviceAccount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.accountId&&Object.hasOwnProperty.call(e,"accountId")&&t.uint32(18).string(e.accountId),null!=e.serviceAccount&&Object.hasOwnProperty.call(e,"serviceAccount")&&s.google.iam.admin.v1.ServiceAccount.encode(e.serviceAccount,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.CreateServiceAccountRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.accountId=e.string();break;case 3:r.serviceAccount=s.google.iam.admin.v1.ServiceAccount.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.accountId&&e.hasOwnProperty("accountId")&&!u.isString(e.accountId))return"accountId: string expected";if(null!=e.serviceAccount&&e.hasOwnProperty("serviceAccount")){var t=s.google.iam.admin.v1.ServiceAccount.verify(e.serviceAccount);if(t)return"serviceAccount."+t}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.CreateServiceAccountRequest)return e;var t=new s.google.iam.admin.v1.CreateServiceAccountRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.accountId&&(t.accountId=String(e.accountId)),null!=e.serviceAccount){if("object"!==(0,o.default)(e.serviceAccount))throw TypeError(".google.iam.admin.v1.CreateServiceAccountRequest.serviceAccount: object expected");t.serviceAccount=s.google.iam.admin.v1.ServiceAccount.fromObject(e.serviceAccount)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.accountId="",n.serviceAccount=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.accountId&&e.hasOwnProperty("accountId")&&(n.accountId=e.accountId),null!=e.serviceAccount&&e.hasOwnProperty("serviceAccount")&&(n.serviceAccount=s.google.iam.admin.v1.ServiceAccount.toObject(e.serviceAccount,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ListServiceAccountsRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.pageSize=0,e.prototype.pageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(26).string(e.pageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ListServiceAccountsRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.pageSize=e.int32();break;case 3:r.pageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!u.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!u.isString(e.pageToken)?"pageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ListServiceAccountsRequest)return e;var t=new s.google.iam.admin.v1.ListServiceAccountsRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.pageSize=0,n.pageToken=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(n.pageToken=e.pageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ListServiceAccountsResponse=function(){function e(e){if(this.accounts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.accounts=u.emptyArray,e.prototype.nextPageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.accounts&&e.accounts.length)for(var n=0;n<e.accounts.length;++n)s.google.iam.admin.v1.ServiceAccount.encode(e.accounts[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ListServiceAccountsResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.accounts&&r.accounts.length||(r.accounts=[]),r.accounts.push(s.google.iam.admin.v1.ServiceAccount.decode(e,e.uint32()));break;case 2:r.nextPageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.accounts&&e.hasOwnProperty("accounts")){if(!Array.isArray(e.accounts))return"accounts: array expected";for(var t=0;t<e.accounts.length;++t){var n=s.google.iam.admin.v1.ServiceAccount.verify(e.accounts[t]);if(n)return"accounts."+n}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!u.isString(e.nextPageToken)?"nextPageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ListServiceAccountsResponse)return e;var t=new s.google.iam.admin.v1.ListServiceAccountsResponse;if(e.accounts){if(!Array.isArray(e.accounts))throw TypeError(".google.iam.admin.v1.ListServiceAccountsResponse.accounts: array expected");t.accounts=[];for(var n=0;n<e.accounts.length;++n){if("object"!==(0,o.default)(e.accounts[n]))throw TypeError(".google.iam.admin.v1.ListServiceAccountsResponse.accounts: object expected");t.accounts[n]=s.google.iam.admin.v1.ServiceAccount.fromObject(e.accounts[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.accounts=[]),t.defaults&&(n.nextPageToken=""),e.accounts&&e.accounts.length){n.accounts=[];for(var r=0;r<e.accounts.length;++r)n.accounts[r]=s.google.iam.admin.v1.ServiceAccount.toObject(e.accounts[r],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(n.nextPageToken=e.nextPageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.GetServiceAccountRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.GetServiceAccountRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.GetServiceAccountRequest)return e;var t=new s.google.iam.admin.v1.GetServiceAccountRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.DeleteServiceAccountRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.DeleteServiceAccountRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.DeleteServiceAccountRequest)return e;var t=new s.google.iam.admin.v1.DeleteServiceAccountRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ListServiceAccountKeysRequest=function(){function e(e){if(this.keyTypes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.keyTypes=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.keyTypes&&e.keyTypes.length){t.uint32(18).fork();for(var n=0;n<e.keyTypes.length;++n)t.int32(e.keyTypes[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ListServiceAccountKeysRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:if(r.keyTypes&&r.keyTypes.length||(r.keyTypes=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.keyTypes.push(e.int32());else r.keyTypes.push(e.int32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.keyTypes&&e.hasOwnProperty("keyTypes")){if(!Array.isArray(e.keyTypes))return"keyTypes: array expected";for(var t=0;t<e.keyTypes.length;++t)switch(e.keyTypes[t]){default:return"keyTypes: enum value[] expected";case 0:case 1:case 2:}}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ListServiceAccountKeysRequest)return e;var t=new s.google.iam.admin.v1.ListServiceAccountKeysRequest;if(null!=e.name&&(t.name=String(e.name)),e.keyTypes){if(!Array.isArray(e.keyTypes))throw TypeError(".google.iam.admin.v1.ListServiceAccountKeysRequest.keyTypes: array expected");t.keyTypes=[];for(var n=0;n<e.keyTypes.length;++n)switch(e.keyTypes[n]){default:case"KEY_TYPE_UNSPECIFIED":case 0:t.keyTypes[n]=0;break;case"USER_MANAGED":case 1:t.keyTypes[n]=1;break;case"SYSTEM_MANAGED":case 2:t.keyTypes[n]=2}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.keyTypes=[]),t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.keyTypes&&e.keyTypes.length){n.keyTypes=[];for(var r=0;r<e.keyTypes.length;++r)n.keyTypes[r]=t.enums===String?s.google.iam.admin.v1.ListServiceAccountKeysRequest.KeyType[e.keyTypes[r]]:e.keyTypes[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.KeyType=function(){var e={},t=Object.create(e);return t[e[0]="KEY_TYPE_UNSPECIFIED"]=0,t[e[1]="USER_MANAGED"]=1,t[e[2]="SYSTEM_MANAGED"]=2,t}(),e}(),c.ListServiceAccountKeysResponse=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keys=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)s.google.iam.admin.v1.ServiceAccountKey.encode(e.keys[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ListServiceAccountKeysResponse;e.pos<n;){var o=e.uint32();o>>>3==1?(r.keys&&r.keys.length||(r.keys=[]),r.keys.push(s.google.iam.admin.v1.ServiceAccountKey.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.keys&&e.hasOwnProperty("keys")){if(!Array.isArray(e.keys))return"keys: array expected";for(var t=0;t<e.keys.length;++t){var n=s.google.iam.admin.v1.ServiceAccountKey.verify(e.keys[t]);if(n)return"keys."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ListServiceAccountKeysResponse)return e;var t=new s.google.iam.admin.v1.ListServiceAccountKeysResponse;if(e.keys){if(!Array.isArray(e.keys))throw TypeError(".google.iam.admin.v1.ListServiceAccountKeysResponse.keys: array expected");t.keys=[];for(var n=0;n<e.keys.length;++n){if("object"!==(0,o.default)(e.keys[n]))throw TypeError(".google.iam.admin.v1.ListServiceAccountKeysResponse.keys: object expected");t.keys[n]=s.google.iam.admin.v1.ServiceAccountKey.fromObject(e.keys[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.keys=[]),e.keys&&e.keys.length){n.keys=[];for(var r=0;r<e.keys.length;++r)n.keys[r]=s.google.iam.admin.v1.ServiceAccountKey.toObject(e.keys[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.GetServiceAccountKeyRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.publicKeyType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.publicKeyType&&Object.hasOwnProperty.call(e,"publicKeyType")&&t.uint32(16).int32(e.publicKeyType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.GetServiceAccountKeyRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.publicKeyType=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.publicKeyType&&e.hasOwnProperty("publicKeyType"))switch(e.publicKeyType){default:return"publicKeyType: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.GetServiceAccountKeyRequest)return e;var t=new s.google.iam.admin.v1.GetServiceAccountKeyRequest;switch(null!=e.name&&(t.name=String(e.name)),e.publicKeyType){case"TYPE_NONE":case 0:t.publicKeyType=0;break;case"TYPE_X509_PEM_FILE":case 1:t.publicKeyType=1;break;case"TYPE_RAW_PUBLIC_KEY":case 2:t.publicKeyType=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.publicKeyType=t.enums===String?"TYPE_NONE":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.publicKeyType&&e.hasOwnProperty("publicKeyType")&&(n.publicKeyType=t.enums===String?s.google.iam.admin.v1.ServiceAccountPublicKeyType[e.publicKeyType]:e.publicKeyType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ServiceAccountKey=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.privateKeyType=0,e.prototype.keyAlgorithm=0,e.prototype.privateKeyData=u.newBuffer([]),e.prototype.publicKeyData=u.newBuffer([]),e.prototype.validAfterTime=null,e.prototype.validBeforeTime=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.privateKeyType&&Object.hasOwnProperty.call(e,"privateKeyType")&&t.uint32(16).int32(e.privateKeyType),null!=e.privateKeyData&&Object.hasOwnProperty.call(e,"privateKeyData")&&t.uint32(26).bytes(e.privateKeyData),null!=e.validAfterTime&&Object.hasOwnProperty.call(e,"validAfterTime")&&s.google.protobuf.Timestamp.encode(e.validAfterTime,t.uint32(34).fork()).ldelim(),null!=e.validBeforeTime&&Object.hasOwnProperty.call(e,"validBeforeTime")&&s.google.protobuf.Timestamp.encode(e.validBeforeTime,t.uint32(42).fork()).ldelim(),null!=e.publicKeyData&&Object.hasOwnProperty.call(e,"publicKeyData")&&t.uint32(58).bytes(e.publicKeyData),null!=e.keyAlgorithm&&Object.hasOwnProperty.call(e,"keyAlgorithm")&&t.uint32(64).int32(e.keyAlgorithm),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ServiceAccountKey;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.privateKeyType=e.int32();break;case 8:r.keyAlgorithm=e.int32();break;case 3:r.privateKeyData=e.bytes();break;case 7:r.publicKeyData=e.bytes();break;case 4:r.validAfterTime=s.google.protobuf.Timestamp.decode(e,e.uint32());break;case 5:r.validBeforeTime=s.google.protobuf.Timestamp.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.privateKeyType&&e.hasOwnProperty("privateKeyType"))switch(e.privateKeyType){default:return"privateKeyType: enum value expected";case 0:case 1:case 2:}if(null!=e.keyAlgorithm&&e.hasOwnProperty("keyAlgorithm"))switch(e.keyAlgorithm){default:return"keyAlgorithm: enum value expected";case 0:case 1:case 2:}if(null!=e.privateKeyData&&e.hasOwnProperty("privateKeyData")&&!(e.privateKeyData&&"number"==typeof e.privateKeyData.length||u.isString(e.privateKeyData)))return"privateKeyData: buffer expected";if(null!=e.publicKeyData&&e.hasOwnProperty("publicKeyData")&&!(e.publicKeyData&&"number"==typeof e.publicKeyData.length||u.isString(e.publicKeyData)))return"publicKeyData: buffer expected";if(null!=e.validAfterTime&&e.hasOwnProperty("validAfterTime")){var t=s.google.protobuf.Timestamp.verify(e.validAfterTime);if(t)return"validAfterTime."+t}if(null!=e.validBeforeTime&&e.hasOwnProperty("validBeforeTime")){var n=s.google.protobuf.Timestamp.verify(e.validBeforeTime);if(n)return"validBeforeTime."+n}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ServiceAccountKey)return e;var t=new s.google.iam.admin.v1.ServiceAccountKey;switch(null!=e.name&&(t.name=String(e.name)),e.privateKeyType){case"TYPE_UNSPECIFIED":case 0:t.privateKeyType=0;break;case"TYPE_PKCS12_FILE":case 1:t.privateKeyType=1;break;case"TYPE_GOOGLE_CREDENTIALS_FILE":case 2:t.privateKeyType=2}switch(e.keyAlgorithm){case"KEY_ALG_UNSPECIFIED":case 0:t.keyAlgorithm=0;break;case"KEY_ALG_RSA_1024":case 1:t.keyAlgorithm=1;break;case"KEY_ALG_RSA_2048":case 2:t.keyAlgorithm=2}if(null!=e.privateKeyData&&("string"==typeof e.privateKeyData?u.base64.decode(e.privateKeyData,t.privateKeyData=u.newBuffer(u.base64.length(e.privateKeyData)),0):e.privateKeyData.length&&(t.privateKeyData=e.privateKeyData)),null!=e.publicKeyData&&("string"==typeof e.publicKeyData?u.base64.decode(e.publicKeyData,t.publicKeyData=u.newBuffer(u.base64.length(e.publicKeyData)),0):e.publicKeyData.length&&(t.publicKeyData=e.publicKeyData)),null!=e.validAfterTime){if("object"!==(0,o.default)(e.validAfterTime))throw TypeError(".google.iam.admin.v1.ServiceAccountKey.validAfterTime: object expected");t.validAfterTime=s.google.protobuf.Timestamp.fromObject(e.validAfterTime)}if(null!=e.validBeforeTime){if("object"!==(0,o.default)(e.validBeforeTime))throw TypeError(".google.iam.admin.v1.ServiceAccountKey.validBeforeTime: object expected");t.validBeforeTime=s.google.protobuf.Timestamp.fromObject(e.validBeforeTime)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.privateKeyType=t.enums===String?"TYPE_UNSPECIFIED":0,t.bytes===String?n.privateKeyData="":(n.privateKeyData=[],t.bytes!==Array&&(n.privateKeyData=u.newBuffer(n.privateKeyData))),n.validAfterTime=null,n.validBeforeTime=null,t.bytes===String?n.publicKeyData="":(n.publicKeyData=[],t.bytes!==Array&&(n.publicKeyData=u.newBuffer(n.publicKeyData))),n.keyAlgorithm=t.enums===String?"KEY_ALG_UNSPECIFIED":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.privateKeyType&&e.hasOwnProperty("privateKeyType")&&(n.privateKeyType=t.enums===String?s.google.iam.admin.v1.ServiceAccountPrivateKeyType[e.privateKeyType]:e.privateKeyType),null!=e.privateKeyData&&e.hasOwnProperty("privateKeyData")&&(n.privateKeyData=t.bytes===String?u.base64.encode(e.privateKeyData,0,e.privateKeyData.length):t.bytes===Array?Array.prototype.slice.call(e.privateKeyData):e.privateKeyData),null!=e.validAfterTime&&e.hasOwnProperty("validAfterTime")&&(n.validAfterTime=s.google.protobuf.Timestamp.toObject(e.validAfterTime,t)),null!=e.validBeforeTime&&e.hasOwnProperty("validBeforeTime")&&(n.validBeforeTime=s.google.protobuf.Timestamp.toObject(e.validBeforeTime,t)),null!=e.publicKeyData&&e.hasOwnProperty("publicKeyData")&&(n.publicKeyData=t.bytes===String?u.base64.encode(e.publicKeyData,0,e.publicKeyData.length):t.bytes===Array?Array.prototype.slice.call(e.publicKeyData):e.publicKeyData),null!=e.keyAlgorithm&&e.hasOwnProperty("keyAlgorithm")&&(n.keyAlgorithm=t.enums===String?s.google.iam.admin.v1.ServiceAccountKeyAlgorithm[e.keyAlgorithm]:e.keyAlgorithm),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.CreateServiceAccountKeyRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.privateKeyType=0,e.prototype.keyAlgorithm=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.privateKeyType&&Object.hasOwnProperty.call(e,"privateKeyType")&&t.uint32(16).int32(e.privateKeyType),null!=e.keyAlgorithm&&Object.hasOwnProperty.call(e,"keyAlgorithm")&&t.uint32(24).int32(e.keyAlgorithm),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.CreateServiceAccountKeyRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.privateKeyType=e.int32();break;case 3:r.keyAlgorithm=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.privateKeyType&&e.hasOwnProperty("privateKeyType"))switch(e.privateKeyType){default:return"privateKeyType: enum value expected";case 0:case 1:case 2:}if(null!=e.keyAlgorithm&&e.hasOwnProperty("keyAlgorithm"))switch(e.keyAlgorithm){default:return"keyAlgorithm: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.CreateServiceAccountKeyRequest)return e;var t=new s.google.iam.admin.v1.CreateServiceAccountKeyRequest;switch(null!=e.name&&(t.name=String(e.name)),e.privateKeyType){case"TYPE_UNSPECIFIED":case 0:t.privateKeyType=0;break;case"TYPE_PKCS12_FILE":case 1:t.privateKeyType=1;break;case"TYPE_GOOGLE_CREDENTIALS_FILE":case 2:t.privateKeyType=2}switch(e.keyAlgorithm){case"KEY_ALG_UNSPECIFIED":case 0:t.keyAlgorithm=0;break;case"KEY_ALG_RSA_1024":case 1:t.keyAlgorithm=1;break;case"KEY_ALG_RSA_2048":case 2:t.keyAlgorithm=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.privateKeyType=t.enums===String?"TYPE_UNSPECIFIED":0,n.keyAlgorithm=t.enums===String?"KEY_ALG_UNSPECIFIED":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.privateKeyType&&e.hasOwnProperty("privateKeyType")&&(n.privateKeyType=t.enums===String?s.google.iam.admin.v1.ServiceAccountPrivateKeyType[e.privateKeyType]:e.privateKeyType),null!=e.keyAlgorithm&&e.hasOwnProperty("keyAlgorithm")&&(n.keyAlgorithm=t.enums===String?s.google.iam.admin.v1.ServiceAccountKeyAlgorithm[e.keyAlgorithm]:e.keyAlgorithm),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.DeleteServiceAccountKeyRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.DeleteServiceAccountKeyRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.DeleteServiceAccountKeyRequest)return e;var t=new s.google.iam.admin.v1.DeleteServiceAccountKeyRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.SignBlobRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.bytesToSign=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.bytesToSign&&Object.hasOwnProperty.call(e,"bytesToSign")&&t.uint32(18).bytes(e.bytesToSign),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.SignBlobRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.bytesToSign=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.bytesToSign&&e.hasOwnProperty("bytesToSign")&&!(e.bytesToSign&&"number"==typeof e.bytesToSign.length||u.isString(e.bytesToSign))?"bytesToSign: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.SignBlobRequest)return e;var t=new s.google.iam.admin.v1.SignBlobRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.bytesToSign&&("string"==typeof e.bytesToSign?u.base64.decode(e.bytesToSign,t.bytesToSign=u.newBuffer(u.base64.length(e.bytesToSign)),0):e.bytesToSign.length&&(t.bytesToSign=e.bytesToSign)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",t.bytes===String?n.bytesToSign="":(n.bytesToSign=[],t.bytes!==Array&&(n.bytesToSign=u.newBuffer(n.bytesToSign)))),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.bytesToSign&&e.hasOwnProperty("bytesToSign")&&(n.bytesToSign=t.bytes===String?u.base64.encode(e.bytesToSign,0,e.bytesToSign.length):t.bytes===Array?Array.prototype.slice.call(e.bytesToSign):e.bytesToSign),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.SignBlobResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyId="",e.prototype.signature=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.keyId&&Object.hasOwnProperty.call(e,"keyId")&&t.uint32(10).string(e.keyId),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.SignBlobResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.keyId=e.string();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.keyId&&e.hasOwnProperty("keyId")&&!u.isString(e.keyId)?"keyId: string expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||u.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.SignBlobResponse)return e;var t=new s.google.iam.admin.v1.SignBlobResponse;return null!=e.keyId&&(t.keyId=String(e.keyId)),null!=e.signature&&("string"==typeof e.signature?u.base64.decode(e.signature,t.signature=u.newBuffer(u.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.keyId="",t.bytes===String?n.signature="":(n.signature=[],t.bytes!==Array&&(n.signature=u.newBuffer(n.signature)))),null!=e.keyId&&e.hasOwnProperty("keyId")&&(n.keyId=e.keyId),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?u.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.SignJwtRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.payload="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(18).string(e.payload),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.SignJwtRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.payload=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.payload&&e.hasOwnProperty("payload")&&!u.isString(e.payload)?"payload: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.SignJwtRequest)return e;var t=new s.google.iam.admin.v1.SignJwtRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.payload&&(t.payload=String(e.payload)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.payload=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=e.payload),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.SignJwtResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyId="",e.prototype.signedJwt="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.keyId&&Object.hasOwnProperty.call(e,"keyId")&&t.uint32(10).string(e.keyId),null!=e.signedJwt&&Object.hasOwnProperty.call(e,"signedJwt")&&t.uint32(18).string(e.signedJwt),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.SignJwtResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.keyId=e.string();break;case 2:r.signedJwt=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.keyId&&e.hasOwnProperty("keyId")&&!u.isString(e.keyId)?"keyId: string expected":null!=e.signedJwt&&e.hasOwnProperty("signedJwt")&&!u.isString(e.signedJwt)?"signedJwt: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.SignJwtResponse)return e;var t=new s.google.iam.admin.v1.SignJwtResponse;return null!=e.keyId&&(t.keyId=String(e.keyId)),null!=e.signedJwt&&(t.signedJwt=String(e.signedJwt)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.keyId="",n.signedJwt=""),null!=e.keyId&&e.hasOwnProperty("keyId")&&(n.keyId=e.keyId),null!=e.signedJwt&&e.hasOwnProperty("signedJwt")&&(n.signedJwt=e.signedJwt),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.Role=function(){function e(e){if(this.includedPermissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.title="",e.prototype.description="",e.prototype.includedPermissions=u.emptyArray,e.prototype.stage=0,e.prototype.etag=u.newBuffer([]),e.prototype.deleted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.includedPermissions&&e.includedPermissions.length)for(var n=0;n<e.includedPermissions.length;++n)t.uint32(58).string(e.includedPermissions[n]);return null!=e.stage&&Object.hasOwnProperty.call(e,"stage")&&t.uint32(64).int32(e.stage),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(74).bytes(e.etag),null!=e.deleted&&Object.hasOwnProperty.call(e,"deleted")&&t.uint32(88).bool(e.deleted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.Role;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.title=e.string();break;case 3:r.description=e.string();break;case 7:r.includedPermissions&&r.includedPermissions.length||(r.includedPermissions=[]),r.includedPermissions.push(e.string());break;case 8:r.stage=e.int32();break;case 9:r.etag=e.bytes();break;case 11:r.deleted=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.title&&e.hasOwnProperty("title")&&!u.isString(e.title))return"title: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description))return"description: string expected";if(null!=e.includedPermissions&&e.hasOwnProperty("includedPermissions")){if(!Array.isArray(e.includedPermissions))return"includedPermissions: array expected";for(var t=0;t<e.includedPermissions.length;++t)if(!u.isString(e.includedPermissions[t]))return"includedPermissions: string[] expected"}if(null!=e.stage&&e.hasOwnProperty("stage"))switch(e.stage){default:return"stage: enum value expected";case 0:case 1:case 2:case 4:case 5:case 6:}return null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||u.isString(e.etag))?"etag: buffer expected":null!=e.deleted&&e.hasOwnProperty("deleted")&&"boolean"!=typeof e.deleted?"deleted: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.Role)return e;var t=new s.google.iam.admin.v1.Role;if(null!=e.name&&(t.name=String(e.name)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),e.includedPermissions){if(!Array.isArray(e.includedPermissions))throw TypeError(".google.iam.admin.v1.Role.includedPermissions: array expected");t.includedPermissions=[];for(var n=0;n<e.includedPermissions.length;++n)t.includedPermissions[n]=String(e.includedPermissions[n])}switch(e.stage){case"ALPHA":case 0:t.stage=0;break;case"BETA":case 1:t.stage=1;break;case"GA":case 2:t.stage=2;break;case"DEPRECATED":case 4:t.stage=4;break;case"DISABLED":case 5:t.stage=5;break;case"EAP":case 6:t.stage=6}return null!=e.etag&&("string"==typeof e.etag?u.base64.decode(e.etag,t.etag=u.newBuffer(u.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),null!=e.deleted&&(t.deleted=Boolean(e.deleted)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.includedPermissions=[]),t.defaults&&(n.name="",n.title="",n.description="",n.stage=t.enums===String?"ALPHA":0,t.bytes===String?n.etag="":(n.etag=[],t.bytes!==Array&&(n.etag=u.newBuffer(n.etag))),n.deleted=!1),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.title&&e.hasOwnProperty("title")&&(n.title=e.title),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),e.includedPermissions&&e.includedPermissions.length){n.includedPermissions=[];for(var r=0;r<e.includedPermissions.length;++r)n.includedPermissions[r]=e.includedPermissions[r]}return null!=e.stage&&e.hasOwnProperty("stage")&&(n.stage=t.enums===String?s.google.iam.admin.v1.Role.RoleLaunchStage[e.stage]:e.stage),null!=e.etag&&e.hasOwnProperty("etag")&&(n.etag=t.bytes===String?u.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),null!=e.deleted&&e.hasOwnProperty("deleted")&&(n.deleted=e.deleted),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.RoleLaunchStage=function(){var e={},t=Object.create(e);return t[e[0]="ALPHA"]=0,t[e[1]="BETA"]=1,t[e[2]="GA"]=2,t[e[4]="DEPRECATED"]=4,t[e[5]="DISABLED"]=5,t[e[6]="EAP"]=6,t}(),e}(),c.QueryGrantableRolesRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fullResourceName="",e.prototype.view=0,e.prototype.pageSize=0,e.prototype.pageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.fullResourceName&&Object.hasOwnProperty.call(e,"fullResourceName")&&t.uint32(10).string(e.fullResourceName),null!=e.view&&Object.hasOwnProperty.call(e,"view")&&t.uint32(16).int32(e.view),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(34).string(e.pageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.QueryGrantableRolesRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fullResourceName=e.string();break;case 2:r.view=e.int32();break;case 3:r.pageSize=e.int32();break;case 4:r.pageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.fullResourceName&&e.hasOwnProperty("fullResourceName")&&!u.isString(e.fullResourceName))return"fullResourceName: string expected";if(null!=e.view&&e.hasOwnProperty("view"))switch(e.view){default:return"view: enum value expected";case 0:case 1:}return null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!u.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!u.isString(e.pageToken)?"pageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.QueryGrantableRolesRequest)return e;var t=new s.google.iam.admin.v1.QueryGrantableRolesRequest;switch(null!=e.fullResourceName&&(t.fullResourceName=String(e.fullResourceName)),e.view){case"BASIC":case 0:t.view=0;break;case"FULL":case 1:t.view=1}return null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.fullResourceName="",n.view=t.enums===String?"BASIC":0,n.pageSize=0,n.pageToken=""),null!=e.fullResourceName&&e.hasOwnProperty("fullResourceName")&&(n.fullResourceName=e.fullResourceName),null!=e.view&&e.hasOwnProperty("view")&&(n.view=t.enums===String?s.google.iam.admin.v1.RoleView[e.view]:e.view),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(n.pageToken=e.pageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.QueryGrantableRolesResponse=function(){function e(e){if(this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roles=u.emptyArray,e.prototype.nextPageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.roles&&e.roles.length)for(var n=0;n<e.roles.length;++n)s.google.iam.admin.v1.Role.encode(e.roles[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.QueryGrantableRolesResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.roles&&r.roles.length||(r.roles=[]),r.roles.push(s.google.iam.admin.v1.Role.decode(e,e.uint32()));break;case 2:r.nextPageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"roles: array expected";for(var t=0;t<e.roles.length;++t){var n=s.google.iam.admin.v1.Role.verify(e.roles[t]);if(n)return"roles."+n}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!u.isString(e.nextPageToken)?"nextPageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.QueryGrantableRolesResponse)return e;var t=new s.google.iam.admin.v1.QueryGrantableRolesResponse;if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".google.iam.admin.v1.QueryGrantableRolesResponse.roles: array expected");t.roles=[];for(var n=0;n<e.roles.length;++n){if("object"!==(0,o.default)(e.roles[n]))throw TypeError(".google.iam.admin.v1.QueryGrantableRolesResponse.roles: object expected");t.roles[n]=s.google.iam.admin.v1.Role.fromObject(e.roles[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.roles=[]),t.defaults&&(n.nextPageToken=""),e.roles&&e.roles.length){n.roles=[];for(var r=0;r<e.roles.length;++r)n.roles[r]=s.google.iam.admin.v1.Role.toObject(e.roles[r],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(n.nextPageToken=e.nextPageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ListRolesRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.parent="",e.prototype.pageSize=0,e.prototype.pageToken="",e.prototype.view=0,e.prototype.showDeleted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.parent&&Object.hasOwnProperty.call(e,"parent")&&t.uint32(10).string(e.parent),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(26).string(e.pageToken),null!=e.view&&Object.hasOwnProperty.call(e,"view")&&t.uint32(32).int32(e.view),null!=e.showDeleted&&Object.hasOwnProperty.call(e,"showDeleted")&&t.uint32(48).bool(e.showDeleted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ListRolesRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.parent=e.string();break;case 2:r.pageSize=e.int32();break;case 3:r.pageToken=e.string();break;case 4:r.view=e.int32();break;case 6:r.showDeleted=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.parent&&e.hasOwnProperty("parent")&&!u.isString(e.parent))return"parent: string expected";if(null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!u.isInteger(e.pageSize))return"pageSize: integer expected";if(null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!u.isString(e.pageToken))return"pageToken: string expected";if(null!=e.view&&e.hasOwnProperty("view"))switch(e.view){default:return"view: enum value expected";case 0:case 1:}return null!=e.showDeleted&&e.hasOwnProperty("showDeleted")&&"boolean"!=typeof e.showDeleted?"showDeleted: boolean expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ListRolesRequest)return e;var t=new s.google.iam.admin.v1.ListRolesRequest;switch(null!=e.parent&&(t.parent=String(e.parent)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),e.view){case"BASIC":case 0:t.view=0;break;case"FULL":case 1:t.view=1}return null!=e.showDeleted&&(t.showDeleted=Boolean(e.showDeleted)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.parent="",n.pageSize=0,n.pageToken="",n.view=t.enums===String?"BASIC":0,n.showDeleted=!1),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=e.parent),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(n.pageToken=e.pageToken),null!=e.view&&e.hasOwnProperty("view")&&(n.view=t.enums===String?s.google.iam.admin.v1.RoleView[e.view]:e.view),null!=e.showDeleted&&e.hasOwnProperty("showDeleted")&&(n.showDeleted=e.showDeleted),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ListRolesResponse=function(){function e(e){if(this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roles=u.emptyArray,e.prototype.nextPageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.roles&&e.roles.length)for(var n=0;n<e.roles.length;++n)s.google.iam.admin.v1.Role.encode(e.roles[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.ListRolesResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.roles&&r.roles.length||(r.roles=[]),r.roles.push(s.google.iam.admin.v1.Role.decode(e,e.uint32()));break;case 2:r.nextPageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"roles: array expected";for(var t=0;t<e.roles.length;++t){var n=s.google.iam.admin.v1.Role.verify(e.roles[t]);if(n)return"roles."+n}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!u.isString(e.nextPageToken)?"nextPageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.ListRolesResponse)return e;var t=new s.google.iam.admin.v1.ListRolesResponse;if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".google.iam.admin.v1.ListRolesResponse.roles: array expected");t.roles=[];for(var n=0;n<e.roles.length;++n){if("object"!==(0,o.default)(e.roles[n]))throw TypeError(".google.iam.admin.v1.ListRolesResponse.roles: object expected");t.roles[n]=s.google.iam.admin.v1.Role.fromObject(e.roles[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.roles=[]),t.defaults&&(n.nextPageToken=""),e.roles&&e.roles.length){n.roles=[];for(var r=0;r<e.roles.length;++r)n.roles[r]=s.google.iam.admin.v1.Role.toObject(e.roles[r],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(n.nextPageToken=e.nextPageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.GetRoleRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.GetRoleRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.GetRoleRequest)return e;var t=new s.google.iam.admin.v1.GetRoleRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.CreateRoleRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.parent="",e.prototype.roleId="",e.prototype.role=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.parent&&Object.hasOwnProperty.call(e,"parent")&&t.uint32(10).string(e.parent),null!=e.roleId&&Object.hasOwnProperty.call(e,"roleId")&&t.uint32(18).string(e.roleId),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&s.google.iam.admin.v1.Role.encode(e.role,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.CreateRoleRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.parent=e.string();break;case 2:r.roleId=e.string();break;case 3:r.role=s.google.iam.admin.v1.Role.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.parent&&e.hasOwnProperty("parent")&&!u.isString(e.parent))return"parent: string expected";if(null!=e.roleId&&e.hasOwnProperty("roleId")&&!u.isString(e.roleId))return"roleId: string expected";if(null!=e.role&&e.hasOwnProperty("role")){var t=s.google.iam.admin.v1.Role.verify(e.role);if(t)return"role."+t}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.CreateRoleRequest)return e;var t=new s.google.iam.admin.v1.CreateRoleRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.roleId&&(t.roleId=String(e.roleId)),null!=e.role){if("object"!==(0,o.default)(e.role))throw TypeError(".google.iam.admin.v1.CreateRoleRequest.role: object expected");t.role=s.google.iam.admin.v1.Role.fromObject(e.role)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.parent="",n.roleId="",n.role=null),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=e.parent),null!=e.roleId&&e.hasOwnProperty("roleId")&&(n.roleId=e.roleId),null!=e.role&&e.hasOwnProperty("role")&&(n.role=s.google.iam.admin.v1.Role.toObject(e.role,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.UpdateRoleRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.role=null,e.prototype.updateMask=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&s.google.iam.admin.v1.Role.encode(e.role,t.uint32(18).fork()).ldelim(),null!=e.updateMask&&Object.hasOwnProperty.call(e,"updateMask")&&s.google.protobuf.FieldMask.encode(e.updateMask,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.UpdateRoleRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.role=s.google.iam.admin.v1.Role.decode(e,e.uint32());break;case 3:r.updateMask=s.google.protobuf.FieldMask.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.role&&e.hasOwnProperty("role")){var t=s.google.iam.admin.v1.Role.verify(e.role);if(t)return"role."+t}if(null!=e.updateMask&&e.hasOwnProperty("updateMask")){var n=s.google.protobuf.FieldMask.verify(e.updateMask);if(n)return"updateMask."+n}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.UpdateRoleRequest)return e;var t=new s.google.iam.admin.v1.UpdateRoleRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.role){if("object"!==(0,o.default)(e.role))throw TypeError(".google.iam.admin.v1.UpdateRoleRequest.role: object expected");t.role=s.google.iam.admin.v1.Role.fromObject(e.role)}if(null!=e.updateMask){if("object"!==(0,o.default)(e.updateMask))throw TypeError(".google.iam.admin.v1.UpdateRoleRequest.updateMask: object expected");t.updateMask=s.google.protobuf.FieldMask.fromObject(e.updateMask)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.role=null,n.updateMask=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.role&&e.hasOwnProperty("role")&&(n.role=s.google.iam.admin.v1.Role.toObject(e.role,t)),null!=e.updateMask&&e.hasOwnProperty("updateMask")&&(n.updateMask=s.google.protobuf.FieldMask.toObject(e.updateMask,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.DeleteRoleRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.etag=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(18).bytes(e.etag),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.DeleteRoleRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.etag=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||u.isString(e.etag))?"etag: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.DeleteRoleRequest)return e;var t=new s.google.iam.admin.v1.DeleteRoleRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.etag&&("string"==typeof e.etag?u.base64.decode(e.etag,t.etag=u.newBuffer(u.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",t.bytes===String?n.etag="":(n.etag=[],t.bytes!==Array&&(n.etag=u.newBuffer(n.etag)))),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.etag&&e.hasOwnProperty("etag")&&(n.etag=t.bytes===String?u.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.UndeleteRoleRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.etag=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(18).bytes(e.etag),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.UndeleteRoleRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.etag=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||u.isString(e.etag))?"etag: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.UndeleteRoleRequest)return e;var t=new s.google.iam.admin.v1.UndeleteRoleRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.etag&&("string"==typeof e.etag?u.base64.decode(e.etag,t.etag=u.newBuffer(u.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",t.bytes===String?n.etag="":(n.etag=[],t.bytes!==Array&&(n.etag=u.newBuffer(n.etag)))),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.etag&&e.hasOwnProperty("etag")&&(n.etag=t.bytes===String?u.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.Permission=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.title="",e.prototype.description="",e.prototype.onlyInPredefinedRoles=!1,e.prototype.stage=0,e.prototype.customRolesSupportLevel=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.onlyInPredefinedRoles&&Object.hasOwnProperty.call(e,"onlyInPredefinedRoles")&&t.uint32(32).bool(e.onlyInPredefinedRoles),null!=e.stage&&Object.hasOwnProperty.call(e,"stage")&&t.uint32(40).int32(e.stage),null!=e.customRolesSupportLevel&&Object.hasOwnProperty.call(e,"customRolesSupportLevel")&&t.uint32(48).int32(e.customRolesSupportLevel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.Permission;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.title=e.string();break;case 3:r.description=e.string();break;case 4:r.onlyInPredefinedRoles=e.bool();break;case 5:r.stage=e.int32();break;case 6:r.customRolesSupportLevel=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.title&&e.hasOwnProperty("title")&&!u.isString(e.title))return"title: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description))return"description: string expected";if(null!=e.onlyInPredefinedRoles&&e.hasOwnProperty("onlyInPredefinedRoles")&&"boolean"!=typeof e.onlyInPredefinedRoles)return"onlyInPredefinedRoles: boolean expected";if(null!=e.stage&&e.hasOwnProperty("stage"))switch(e.stage){default:return"stage: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.customRolesSupportLevel&&e.hasOwnProperty("customRolesSupportLevel"))switch(e.customRolesSupportLevel){default:return"customRolesSupportLevel: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.Permission)return e;var t=new s.google.iam.admin.v1.Permission;switch(null!=e.name&&(t.name=String(e.name)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),null!=e.onlyInPredefinedRoles&&(t.onlyInPredefinedRoles=Boolean(e.onlyInPredefinedRoles)),e.stage){case"ALPHA":case 0:t.stage=0;break;case"BETA":case 1:t.stage=1;break;case"GA":case 2:t.stage=2;break;case"DEPRECATED":case 3:t.stage=3}switch(e.customRolesSupportLevel){case"SUPPORTED":case 0:t.customRolesSupportLevel=0;break;case"TESTING":case 1:t.customRolesSupportLevel=1;break;case"NOT_SUPPORTED":case 2:t.customRolesSupportLevel=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.title="",n.description="",n.onlyInPredefinedRoles=!1,n.stage=t.enums===String?"ALPHA":0,n.customRolesSupportLevel=t.enums===String?"SUPPORTED":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.title&&e.hasOwnProperty("title")&&(n.title=e.title),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.onlyInPredefinedRoles&&e.hasOwnProperty("onlyInPredefinedRoles")&&(n.onlyInPredefinedRoles=e.onlyInPredefinedRoles),null!=e.stage&&e.hasOwnProperty("stage")&&(n.stage=t.enums===String?s.google.iam.admin.v1.Permission.PermissionLaunchStage[e.stage]:e.stage),null!=e.customRolesSupportLevel&&e.hasOwnProperty("customRolesSupportLevel")&&(n.customRolesSupportLevel=t.enums===String?s.google.iam.admin.v1.Permission.CustomRolesSupportLevel[e.customRolesSupportLevel]:e.customRolesSupportLevel),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.PermissionLaunchStage=function(){var e={},t=Object.create(e);return t[e[0]="ALPHA"]=0,t[e[1]="BETA"]=1,t[e[2]="GA"]=2,t[e[3]="DEPRECATED"]=3,t}(),e.CustomRolesSupportLevel=function(){var e={},t=Object.create(e);return t[e[0]="SUPPORTED"]=0,t[e[1]="TESTING"]=1,t[e[2]="NOT_SUPPORTED"]=2,t}(),e}(),c.QueryTestablePermissionsRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fullResourceName="",e.prototype.pageSize=0,e.prototype.pageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.fullResourceName&&Object.hasOwnProperty.call(e,"fullResourceName")&&t.uint32(10).string(e.fullResourceName),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(26).string(e.pageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.QueryTestablePermissionsRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fullResourceName=e.string();break;case 2:r.pageSize=e.int32();break;case 3:r.pageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.fullResourceName&&e.hasOwnProperty("fullResourceName")&&!u.isString(e.fullResourceName)?"fullResourceName: string expected":null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!u.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!u.isString(e.pageToken)?"pageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.QueryTestablePermissionsRequest)return e;var t=new s.google.iam.admin.v1.QueryTestablePermissionsRequest;return null!=e.fullResourceName&&(t.fullResourceName=String(e.fullResourceName)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.fullResourceName="",n.pageSize=0,n.pageToken=""),null!=e.fullResourceName&&e.hasOwnProperty("fullResourceName")&&(n.fullResourceName=e.fullResourceName),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(n.pageToken=e.pageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.QueryTestablePermissionsResponse=function(){function e(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.permissions=u.emptyArray,e.prototype.nextPageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)s.google.iam.admin.v1.Permission.encode(e.permissions[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.admin.v1.QueryTestablePermissionsResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(s.google.iam.admin.v1.Permission.decode(e,e.uint32()));break;case 2:r.nextPageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t){var n=s.google.iam.admin.v1.Permission.verify(e.permissions[t]);if(n)return"permissions."+n}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!u.isString(e.nextPageToken)?"nextPageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.admin.v1.QueryTestablePermissionsResponse)return e;var t=new s.google.iam.admin.v1.QueryTestablePermissionsResponse;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.admin.v1.QueryTestablePermissionsResponse.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n){if("object"!==(0,o.default)(e.permissions[n]))throw TypeError(".google.iam.admin.v1.QueryTestablePermissionsResponse.permissions: object expected");t.permissions[n]=s.google.iam.admin.v1.Permission.fromObject(e.permissions[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),t.defaults&&(n.nextPageToken=""),e.permissions&&e.permissions.length){n.permissions=[];for(var r=0;r<e.permissions.length;++r)n.permissions[r]=s.google.iam.admin.v1.Permission.toObject(e.permissions[r],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(n.nextPageToken=e.nextPageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),c.ServiceAccountKeyAlgorithm=function(){var e={},t=Object.create(e);return t[e[0]="KEY_ALG_UNSPECIFIED"]=0,t[e[1]="KEY_ALG_RSA_1024"]=1,t[e[2]="KEY_ALG_RSA_2048"]=2,t}(),c.ServiceAccountPrivateKeyType=function(){var e={},t=Object.create(e);return t[e[0]="TYPE_UNSPECIFIED"]=0,t[e[1]="TYPE_PKCS12_FILE"]=1,t[e[2]="TYPE_GOOGLE_CREDENTIALS_FILE"]=2,t}(),c.ServiceAccountPublicKeyType=function(){var e={},t=Object.create(e);return t[e[0]="TYPE_NONE"]=0,t[e[1]="TYPE_X509_PEM_FILE"]=1,t[e[2]="TYPE_RAW_PUBLIC_KEY"]=2,t}(),c.RoleView=function(){var e={},t=Object.create(e);return t[e[0]="BASIC"]=0,t[e[1]="FULL"]=1,t}(),c),d),p.v1=function(){var e,t={};return t.IAMPolicy=function(){function e(e,t,n){i.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.setIamPolicy=function e(t,n){return this.rpcCall(e,s.google.iam.v1.SetIamPolicyRequest,s.google.iam.v1.Policy,t,n)},"name",{value:"SetIamPolicy"}),Object.defineProperty(e.prototype.getIamPolicy=function e(t,n){return this.rpcCall(e,s.google.iam.v1.GetIamPolicyRequest,s.google.iam.v1.Policy,t,n)},"name",{value:"GetIamPolicy"}),Object.defineProperty(e.prototype.testIamPermissions=function e(t,n){return this.rpcCall(e,s.google.iam.v1.TestIamPermissionsRequest,s.google.iam.v1.TestIamPermissionsResponse,t,n)},"name",{value:"TestIamPermissions"}),e}(),t.SetIamPolicyRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resource="",e.prototype.policy=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.policy&&Object.hasOwnProperty.call(e,"policy")&&s.google.iam.v1.Policy.encode(e.policy,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.SetIamPolicyRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resource=e.string();break;case 2:r.policy=s.google.iam.v1.Policy.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!u.isString(e.resource))return"resource: string expected";if(null!=e.policy&&e.hasOwnProperty("policy")){var t=s.google.iam.v1.Policy.verify(e.policy);if(t)return"policy."+t}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.SetIamPolicyRequest)return e;var t=new s.google.iam.v1.SetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.policy){if("object"!==(0,o.default)(e.policy))throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");t.policy=s.google.iam.v1.Policy.fromObject(e.policy)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resource="",n.policy=null),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=e.resource),null!=e.policy&&e.hasOwnProperty("policy")&&(n.policy=s.google.iam.v1.Policy.toObject(e.policy,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.GetIamPolicyRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resource="",e.prototype.options=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&s.google.iam.v1.GetPolicyOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.GetIamPolicyRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resource=e.string();break;case 2:r.options=s.google.iam.v1.GetPolicyOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!u.isString(e.resource))return"resource: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=s.google.iam.v1.GetPolicyOptions.verify(e.options);if(t)return"options."+t}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.GetIamPolicyRequest)return e;var t=new s.google.iam.v1.GetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.options){if("object"!==(0,o.default)(e.options))throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");t.options=s.google.iam.v1.GetPolicyOptions.fromObject(e.options)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resource="",n.options=null),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=e.resource),null!=e.options&&e.hasOwnProperty("options")&&(n.options=s.google.iam.v1.GetPolicyOptions.toObject(e.options,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.TestIamPermissionsRequest=function(){function e(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resource="",e.prototype.permissions=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(18).string(e.permissions[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.TestIamPermissionsRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resource=e.string();break;case 2:r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!u.isString(e.resource))return"resource: string expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!u.isString(e.permissions[t]))return"permissions: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.TestIamPermissionsRequest)return e;var t=new s.google.iam.v1.TestIamPermissionsRequest;if(null!=e.resource&&(t.resource=String(e.resource)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),t.defaults&&(n.resource=""),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=e.resource),e.permissions&&e.permissions.length){n.permissions=[];for(var r=0;r<e.permissions.length;++r)n.permissions[r]=e.permissions[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.TestIamPermissionsResponse=function(){function e(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.permissions=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(10).string(e.permissions[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.TestIamPermissionsResponse;e.pos<n;){var o=e.uint32();o>>>3==1?(r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(e.string())):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!u.isString(e.permissions[t]))return"permissions: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.TestIamPermissionsResponse)return e;var t=new s.google.iam.v1.TestIamPermissionsResponse;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),e.permissions&&e.permissions.length){n.permissions=[];for(var r=0;r<e.permissions.length;++r)n.permissions[r]=e.permissions[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.GetPolicyOptions=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.requestedPolicyVersion=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.requestedPolicyVersion&&Object.hasOwnProperty.call(e,"requestedPolicyVersion")&&t.uint32(8).int32(e.requestedPolicyVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.GetPolicyOptions;e.pos<n;){var o=e.uint32();o>>>3==1?r.requestedPolicyVersion=e.int32():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.requestedPolicyVersion&&e.hasOwnProperty("requestedPolicyVersion")&&!u.isInteger(e.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.GetPolicyOptions)return e;var t=new s.google.iam.v1.GetPolicyOptions;return null!=e.requestedPolicyVersion&&(t.requestedPolicyVersion=0|e.requestedPolicyVersion),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.requestedPolicyVersion=0),null!=e.requestedPolicyVersion&&e.hasOwnProperty("requestedPolicyVersion")&&(n.requestedPolicyVersion=e.requestedPolicyVersion),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.Policy=function(){function e(e){if(this.bindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.bindings=u.emptyArray,e.prototype.etag=u.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).int32(e.version),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(26).bytes(e.etag),null!=e.bindings&&e.bindings.length)for(var n=0;n<e.bindings.length;++n)s.google.iam.v1.Binding.encode(e.bindings[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.Policy;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.version=e.int32();break;case 4:r.bindings&&r.bindings.length||(r.bindings=[]),r.bindings.push(s.google.iam.v1.Binding.decode(e,e.uint32()));break;case 3:r.etag=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!u.isInteger(e.version))return"version: integer expected";if(null!=e.bindings&&e.hasOwnProperty("bindings")){if(!Array.isArray(e.bindings))return"bindings: array expected";for(var t=0;t<e.bindings.length;++t){var n=s.google.iam.v1.Binding.verify(e.bindings[t]);if(n)return"bindings."+n}}return null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||u.isString(e.etag))?"etag: buffer expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.Policy)return e;var t=new s.google.iam.v1.Policy;if(null!=e.version&&(t.version=0|e.version),e.bindings){if(!Array.isArray(e.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");t.bindings=[];for(var n=0;n<e.bindings.length;++n){if("object"!==(0,o.default)(e.bindings[n]))throw TypeError(".google.iam.v1.Policy.bindings: object expected");t.bindings[n]=s.google.iam.v1.Binding.fromObject(e.bindings[n])}}return null!=e.etag&&("string"==typeof e.etag?u.base64.decode(e.etag,t.etag=u.newBuffer(u.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bindings=[]),t.defaults&&(n.version=0,t.bytes===String?n.etag="":(n.etag=[],t.bytes!==Array&&(n.etag=u.newBuffer(n.etag)))),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.etag&&e.hasOwnProperty("etag")&&(n.etag=t.bytes===String?u.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),e.bindings&&e.bindings.length){n.bindings=[];for(var r=0;r<e.bindings.length;++r)n.bindings[r]=s.google.iam.v1.Binding.toObject(e.bindings[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.Binding=function(){function e(e){if(this.members=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.role="",e.prototype.members=u.emptyArray,e.prototype.condition=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(10).string(e.role),null!=e.members&&e.members.length)for(var n=0;n<e.members.length;++n)t.uint32(18).string(e.members[n]);return null!=e.condition&&Object.hasOwnProperty.call(e,"condition")&&s.google.type.Expr.encode(e.condition,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.Binding;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.role=e.string();break;case 2:r.members&&r.members.length||(r.members=[]),r.members.push(e.string());break;case 3:r.condition=s.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.role&&e.hasOwnProperty("role")&&!u.isString(e.role))return"role: string expected";if(null!=e.members&&e.hasOwnProperty("members")){if(!Array.isArray(e.members))return"members: array expected";for(var t=0;t<e.members.length;++t)if(!u.isString(e.members[t]))return"members: string[] expected"}if(null!=e.condition&&e.hasOwnProperty("condition")){var n=s.google.type.Expr.verify(e.condition);if(n)return"condition."+n}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.Binding)return e;var t=new s.google.iam.v1.Binding;if(null!=e.role&&(t.role=String(e.role)),e.members){if(!Array.isArray(e.members))throw TypeError(".google.iam.v1.Binding.members: array expected");t.members=[];for(var n=0;n<e.members.length;++n)t.members[n]=String(e.members[n])}if(null!=e.condition){if("object"!==(0,o.default)(e.condition))throw TypeError(".google.iam.v1.Binding.condition: object expected");t.condition=s.google.type.Expr.fromObject(e.condition)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.members=[]),t.defaults&&(n.role="",n.condition=null),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),e.members&&e.members.length){n.members=[];for(var r=0;r<e.members.length;++r)n.members[r]=e.members[r]}return null!=e.condition&&e.hasOwnProperty("condition")&&(n.condition=s.google.type.Expr.toObject(e.condition,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.PolicyDelta=function(){function e(e){if(this.bindingDeltas=[],this.auditConfigDeltas=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bindingDeltas=u.emptyArray,e.prototype.auditConfigDeltas=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.bindingDeltas&&e.bindingDeltas.length)for(var n=0;n<e.bindingDeltas.length;++n)s.google.iam.v1.BindingDelta.encode(e.bindingDeltas[n],t.uint32(10).fork()).ldelim();if(null!=e.auditConfigDeltas&&e.auditConfigDeltas.length)for(var r=0;r<e.auditConfigDeltas.length;++r)s.google.iam.v1.AuditConfigDelta.encode(e.auditConfigDeltas[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.PolicyDelta;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.bindingDeltas&&r.bindingDeltas.length||(r.bindingDeltas=[]),r.bindingDeltas.push(s.google.iam.v1.BindingDelta.decode(e,e.uint32()));break;case 2:r.auditConfigDeltas&&r.auditConfigDeltas.length||(r.auditConfigDeltas=[]),r.auditConfigDeltas.push(s.google.iam.v1.AuditConfigDelta.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.bindingDeltas&&e.hasOwnProperty("bindingDeltas")){if(!Array.isArray(e.bindingDeltas))return"bindingDeltas: array expected";for(var t=0;t<e.bindingDeltas.length;++t){var n=s.google.iam.v1.BindingDelta.verify(e.bindingDeltas[t]);if(n)return"bindingDeltas."+n}}if(null!=e.auditConfigDeltas&&e.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(e.auditConfigDeltas))return"auditConfigDeltas: array expected";for(var r=0;r<e.auditConfigDeltas.length;++r){var i=s.google.iam.v1.AuditConfigDelta.verify(e.auditConfigDeltas[r]);if(i)return"auditConfigDeltas."+i}}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.PolicyDelta)return e;var t=new s.google.iam.v1.PolicyDelta;if(e.bindingDeltas){if(!Array.isArray(e.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");t.bindingDeltas=[];for(var n=0;n<e.bindingDeltas.length;++n){if("object"!==(0,o.default)(e.bindingDeltas[n]))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");t.bindingDeltas[n]=s.google.iam.v1.BindingDelta.fromObject(e.bindingDeltas[n])}}if(e.auditConfigDeltas){if(!Array.isArray(e.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");t.auditConfigDeltas=[];for(var r=0;r<e.auditConfigDeltas.length;++r){if("object"!==(0,o.default)(e.auditConfigDeltas[r]))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");t.auditConfigDeltas[r]=s.google.iam.v1.AuditConfigDelta.fromObject(e.auditConfigDeltas[r])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bindingDeltas=[],n.auditConfigDeltas=[]),e.bindingDeltas&&e.bindingDeltas.length){n.bindingDeltas=[];for(var r=0;r<e.bindingDeltas.length;++r)n.bindingDeltas[r]=s.google.iam.v1.BindingDelta.toObject(e.bindingDeltas[r],t)}if(e.auditConfigDeltas&&e.auditConfigDeltas.length){n.auditConfigDeltas=[];for(var o=0;o<e.auditConfigDeltas.length;++o)n.auditConfigDeltas[o]=s.google.iam.v1.AuditConfigDelta.toObject(e.auditConfigDeltas[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.BindingDelta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.action=0,e.prototype.role="",e.prototype.member="",e.prototype.condition=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(18).string(e.role),null!=e.member&&Object.hasOwnProperty.call(e,"member")&&t.uint32(26).string(e.member),null!=e.condition&&Object.hasOwnProperty.call(e,"condition")&&s.google.type.Expr.encode(e.condition,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.BindingDelta;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.action=e.int32();break;case 2:r.role=e.string();break;case 3:r.member=e.string();break;case 4:r.condition=s.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}if(null!=e.role&&e.hasOwnProperty("role")&&!u.isString(e.role))return"role: string expected";if(null!=e.member&&e.hasOwnProperty("member")&&!u.isString(e.member))return"member: string expected";if(null!=e.condition&&e.hasOwnProperty("condition")){var t=s.google.type.Expr.verify(e.condition);if(t)return"condition."+t}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.BindingDelta)return e;var t=new s.google.iam.v1.BindingDelta;switch(e.action){case"ACTION_UNSPECIFIED":case 0:t.action=0;break;case"ADD":case 1:t.action=1;break;case"REMOVE":case 2:t.action=2}if(null!=e.role&&(t.role=String(e.role)),null!=e.member&&(t.member=String(e.member)),null!=e.condition){if("object"!==(0,o.default)(e.condition))throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");t.condition=s.google.type.Expr.fromObject(e.condition)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.action=t.enums===String?"ACTION_UNSPECIFIED":0,n.role="",n.member="",n.condition=null),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?s.google.iam.v1.BindingDelta.Action[e.action]:e.action),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),null!=e.member&&e.hasOwnProperty("member")&&(n.member=e.member),null!=e.condition&&e.hasOwnProperty("condition")&&(n.condition=s.google.type.Expr.toObject(e.condition,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Action=function(){var e={},t=Object.create(e);return t[e[0]="ACTION_UNSPECIFIED"]=0,t[e[1]="ADD"]=1,t[e[2]="REMOVE"]=2,t}(),e}(),t.AuditConfigDelta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.action=0,e.prototype.service="",e.prototype.exemptedMember="",e.prototype.logType="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(18).string(e.service),null!=e.exemptedMember&&Object.hasOwnProperty.call(e,"exemptedMember")&&t.uint32(26).string(e.exemptedMember),null!=e.logType&&Object.hasOwnProperty.call(e,"logType")&&t.uint32(34).string(e.logType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.AuditConfigDelta;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.action=e.int32();break;case 2:r.service=e.string();break;case 3:r.exemptedMember=e.string();break;case 4:r.logType=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}return null!=e.service&&e.hasOwnProperty("service")&&!u.isString(e.service)?"service: string expected":null!=e.exemptedMember&&e.hasOwnProperty("exemptedMember")&&!u.isString(e.exemptedMember)?"exemptedMember: string expected":null!=e.logType&&e.hasOwnProperty("logType")&&!u.isString(e.logType)?"logType: string expected":null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.AuditConfigDelta)return e;var t=new s.google.iam.v1.AuditConfigDelta;switch(e.action){case"ACTION_UNSPECIFIED":case 0:t.action=0;break;case"ADD":case 1:t.action=1;break;case"REMOVE":case 2:t.action=2}return null!=e.service&&(t.service=String(e.service)),null!=e.exemptedMember&&(t.exemptedMember=String(e.exemptedMember)),null!=e.logType&&(t.logType=String(e.logType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.action=t.enums===String?"ACTION_UNSPECIFIED":0,n.service="",n.exemptedMember="",n.logType=""),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?s.google.iam.v1.AuditConfigDelta.Action[e.action]:e.action),null!=e.service&&e.hasOwnProperty("service")&&(n.service=e.service),null!=e.exemptedMember&&e.hasOwnProperty("exemptedMember")&&(n.exemptedMember=e.exemptedMember),null!=e.logType&&e.hasOwnProperty("logType")&&(n.logType=e.logType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Action=function(){var e={},t=Object.create(e);return t[e[0]="ACTION_UNSPECIFIED"]=0,t[e[1]="ADD"]=1,t[e[2]="REMOVE"]=2,t}(),e}(),t.logging=((e={}).AuditData=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.policyDelta=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.policyDelta&&Object.hasOwnProperty.call(e,"policyDelta")&&s.google.iam.v1.PolicyDelta.encode(e.policyDelta,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.iam.v1.logging.AuditData;e.pos<n;){var o=e.uint32();o>>>3==2?r.policyDelta=s.google.iam.v1.PolicyDelta.decode(e,e.uint32()):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.policyDelta&&e.hasOwnProperty("policyDelta")){var t=s.google.iam.v1.PolicyDelta.verify(e.policyDelta);if(t)return"policyDelta."+t}return null},e.fromObject=function(e){if(e instanceof s.google.iam.v1.logging.AuditData)return e;var t=new s.google.iam.v1.logging.AuditData;if(null!=e.policyDelta){if("object"!==(0,o.default)(e.policyDelta))throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");t.policyDelta=s.google.iam.v1.PolicyDelta.fromObject(e.policyDelta)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.policyDelta=null),null!=e.policyDelta&&e.hasOwnProperty("policyDelta")&&(n.policyDelta=s.google.iam.v1.PolicyDelta.toObject(e.policyDelta,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e),t}(),p),v.type=((f={}).Expr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expression="",e.prototype.title="",e.prototype.description="",e.prototype.location="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.expression&&Object.hasOwnProperty.call(e,"expression")&&t.uint32(10).string(e.expression),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.location&&Object.hasOwnProperty.call(e,"location")&&t.uint32(34).string(e.location),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.Expr;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.expression=e.string();break;case 2:r.title=e.string();break;case 3:r.description=e.string();break;case 4:r.location=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.expression&&e.hasOwnProperty("expression")&&!u.isString(e.expression)?"expression: string expected":null!=e.title&&e.hasOwnProperty("title")&&!u.isString(e.title)?"title: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null!=e.location&&e.hasOwnProperty("location")&&!u.isString(e.location)?"location: string expected":null},e.fromObject=function(e){if(e instanceof s.google.type.Expr)return e;var t=new s.google.type.Expr;return null!=e.expression&&(t.expression=String(e.expression)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),null!=e.location&&(t.location=String(e.location)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.expression="",n.title="",n.description="",n.location=""),null!=e.expression&&e.hasOwnProperty("expression")&&(n.expression=e.expression),null!=e.title&&e.hasOwnProperty("title")&&(n.title=e.title),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.location&&e.hasOwnProperty("location")&&(n.location=e.location),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.CalendarPeriod=function(){var e={},t=Object.create(e);return t[e[0]="CALENDAR_PERIOD_UNSPECIFIED"]=0,t[e[1]="DAY"]=1,t[e[2]="WEEK"]=2,t[e[3]="FORTNIGHT"]=3,t[e[4]="MONTH"]=4,t[e[5]="QUARTER"]=5,t[e[6]="HALF"]=6,t[e[7]="YEAR"]=7,t}(),f.Color=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.red=0,e.prototype.green=0,e.prototype.blue=0,e.prototype.alpha=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.red&&Object.hasOwnProperty.call(e,"red")&&t.uint32(13).float(e.red),null!=e.green&&Object.hasOwnProperty.call(e,"green")&&t.uint32(21).float(e.green),null!=e.blue&&Object.hasOwnProperty.call(e,"blue")&&t.uint32(29).float(e.blue),null!=e.alpha&&Object.hasOwnProperty.call(e,"alpha")&&s.google.protobuf.FloatValue.encode(e.alpha,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.Color;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.red=e.float();break;case 2:r.green=e.float();break;case 3:r.blue=e.float();break;case 4:r.alpha=s.google.protobuf.FloatValue.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.red&&e.hasOwnProperty("red")&&"number"!=typeof e.red)return"red: number expected";if(null!=e.green&&e.hasOwnProperty("green")&&"number"!=typeof e.green)return"green: number expected";if(null!=e.blue&&e.hasOwnProperty("blue")&&"number"!=typeof e.blue)return"blue: number expected";if(null!=e.alpha&&e.hasOwnProperty("alpha")){var t=s.google.protobuf.FloatValue.verify(e.alpha);if(t)return"alpha."+t}return null},e.fromObject=function(e){if(e instanceof s.google.type.Color)return e;var t=new s.google.type.Color;if(null!=e.red&&(t.red=Number(e.red)),null!=e.green&&(t.green=Number(e.green)),null!=e.blue&&(t.blue=Number(e.blue)),null!=e.alpha){if("object"!==(0,o.default)(e.alpha))throw TypeError(".google.type.Color.alpha: object expected");t.alpha=s.google.protobuf.FloatValue.fromObject(e.alpha)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.red=0,n.green=0,n.blue=0,n.alpha=null),null!=e.red&&e.hasOwnProperty("red")&&(n.red=t.json&&!isFinite(e.red)?String(e.red):e.red),null!=e.green&&e.hasOwnProperty("green")&&(n.green=t.json&&!isFinite(e.green)?String(e.green):e.green),null!=e.blue&&e.hasOwnProperty("blue")&&(n.blue=t.json&&!isFinite(e.blue)?String(e.blue):e.blue),null!=e.alpha&&e.hasOwnProperty("alpha")&&(n.alpha=s.google.protobuf.FloatValue.toObject(e.alpha,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.Date=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.year=0,e.prototype.month=0,e.prototype.day=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.year&&Object.hasOwnProperty.call(e,"year")&&t.uint32(8).int32(e.year),null!=e.month&&Object.hasOwnProperty.call(e,"month")&&t.uint32(16).int32(e.month),null!=e.day&&Object.hasOwnProperty.call(e,"day")&&t.uint32(24).int32(e.day),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.Date;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.year=e.int32();break;case 2:r.month=e.int32();break;case 3:r.day=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.year&&e.hasOwnProperty("year")&&!u.isInteger(e.year)?"year: integer expected":null!=e.month&&e.hasOwnProperty("month")&&!u.isInteger(e.month)?"month: integer expected":null!=e.day&&e.hasOwnProperty("day")&&!u.isInteger(e.day)?"day: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.type.Date)return e;var t=new s.google.type.Date;return null!=e.year&&(t.year=0|e.year),null!=e.month&&(t.month=0|e.month),null!=e.day&&(t.day=0|e.day),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.year=0,n.month=0,n.day=0),null!=e.year&&e.hasOwnProperty("year")&&(n.year=e.year),null!=e.month&&e.hasOwnProperty("month")&&(n.month=e.month),null!=e.day&&e.hasOwnProperty("day")&&(n.day=e.day),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.DateTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.year=0,e.prototype.month=0,e.prototype.day=0,e.prototype.hours=0,e.prototype.minutes=0,e.prototype.seconds=0,e.prototype.nanos=0,e.prototype.utcOffset=null,e.prototype.timeZone=null,Object.defineProperty(e.prototype,"timeOffset",{get:u.oneOfGetter(t=["utcOffset","timeZone"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.year&&Object.hasOwnProperty.call(e,"year")&&t.uint32(8).int32(e.year),null!=e.month&&Object.hasOwnProperty.call(e,"month")&&t.uint32(16).int32(e.month),null!=e.day&&Object.hasOwnProperty.call(e,"day")&&t.uint32(24).int32(e.day),null!=e.hours&&Object.hasOwnProperty.call(e,"hours")&&t.uint32(32).int32(e.hours),null!=e.minutes&&Object.hasOwnProperty.call(e,"minutes")&&t.uint32(40).int32(e.minutes),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(48).int32(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(56).int32(e.nanos),null!=e.utcOffset&&Object.hasOwnProperty.call(e,"utcOffset")&&s.google.protobuf.Duration.encode(e.utcOffset,t.uint32(66).fork()).ldelim(),null!=e.timeZone&&Object.hasOwnProperty.call(e,"timeZone")&&s.google.type.TimeZone.encode(e.timeZone,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.DateTime;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.year=e.int32();break;case 2:r.month=e.int32();break;case 3:r.day=e.int32();break;case 4:r.hours=e.int32();break;case 5:r.minutes=e.int32();break;case 6:r.seconds=e.int32();break;case 7:r.nanos=e.int32();break;case 8:r.utcOffset=s.google.protobuf.Duration.decode(e,e.uint32());break;case 9:r.timeZone=s.google.type.TimeZone.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";var t={};if(null!=e.year&&e.hasOwnProperty("year")&&!u.isInteger(e.year))return"year: integer expected";if(null!=e.month&&e.hasOwnProperty("month")&&!u.isInteger(e.month))return"month: integer expected";if(null!=e.day&&e.hasOwnProperty("day")&&!u.isInteger(e.day))return"day: integer expected";if(null!=e.hours&&e.hasOwnProperty("hours")&&!u.isInteger(e.hours))return"hours: integer expected";if(null!=e.minutes&&e.hasOwnProperty("minutes")&&!u.isInteger(e.minutes))return"minutes: integer expected";if(null!=e.seconds&&e.hasOwnProperty("seconds")&&!u.isInteger(e.seconds))return"seconds: integer expected";if(null!=e.nanos&&e.hasOwnProperty("nanos")&&!u.isInteger(e.nanos))return"nanos: integer expected";if(null!=e.utcOffset&&e.hasOwnProperty("utcOffset")){t.timeOffset=1;var n=s.google.protobuf.Duration.verify(e.utcOffset);if(n)return"utcOffset."+n}if(null!=e.timeZone&&e.hasOwnProperty("timeZone")){if(1===t.timeOffset)return"timeOffset: multiple values";t.timeOffset=1;var r=s.google.type.TimeZone.verify(e.timeZone);if(r)return"timeZone."+r}return null},e.fromObject=function(e){if(e instanceof s.google.type.DateTime)return e;var t=new s.google.type.DateTime;if(null!=e.year&&(t.year=0|e.year),null!=e.month&&(t.month=0|e.month),null!=e.day&&(t.day=0|e.day),null!=e.hours&&(t.hours=0|e.hours),null!=e.minutes&&(t.minutes=0|e.minutes),null!=e.seconds&&(t.seconds=0|e.seconds),null!=e.nanos&&(t.nanos=0|e.nanos),null!=e.utcOffset){if("object"!==(0,o.default)(e.utcOffset))throw TypeError(".google.type.DateTime.utcOffset: object expected");t.utcOffset=s.google.protobuf.Duration.fromObject(e.utcOffset)}if(null!=e.timeZone){if("object"!==(0,o.default)(e.timeZone))throw TypeError(".google.type.DateTime.timeZone: object expected");t.timeZone=s.google.type.TimeZone.fromObject(e.timeZone)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.year=0,n.month=0,n.day=0,n.hours=0,n.minutes=0,n.seconds=0,n.nanos=0),null!=e.year&&e.hasOwnProperty("year")&&(n.year=e.year),null!=e.month&&e.hasOwnProperty("month")&&(n.month=e.month),null!=e.day&&e.hasOwnProperty("day")&&(n.day=e.day),null!=e.hours&&e.hasOwnProperty("hours")&&(n.hours=e.hours),null!=e.minutes&&e.hasOwnProperty("minutes")&&(n.minutes=e.minutes),null!=e.seconds&&e.hasOwnProperty("seconds")&&(n.seconds=e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),null!=e.utcOffset&&e.hasOwnProperty("utcOffset")&&(n.utcOffset=s.google.protobuf.Duration.toObject(e.utcOffset,t),t.oneofs&&(n.timeOffset="utcOffset")),null!=e.timeZone&&e.hasOwnProperty("timeZone")&&(n.timeZone=s.google.type.TimeZone.toObject(e.timeZone,t),t.oneofs&&(n.timeOffset="timeZone")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.TimeZone=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.version="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(18).string(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.TimeZone;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.version=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!u.isString(e.id)?"id: string expected":null!=e.version&&e.hasOwnProperty("version")&&!u.isString(e.version)?"version: string expected":null},e.fromObject=function(e){if(e instanceof s.google.type.TimeZone)return e;var t=new s.google.type.TimeZone;return null!=e.id&&(t.id=String(e.id)),null!=e.version&&(t.version=String(e.version)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.version=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.DayOfWeek=function(){var e={},t=Object.create(e);return t[e[0]="DAY_OF_WEEK_UNSPECIFIED"]=0,t[e[1]="MONDAY"]=1,t[e[2]="TUESDAY"]=2,t[e[3]="WEDNESDAY"]=3,t[e[4]="THURSDAY"]=4,t[e[5]="FRIDAY"]=5,t[e[6]="SATURDAY"]=6,t[e[7]="SUNDAY"]=7,t}(),f.Fraction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.numerator=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.denominator=u.Long?u.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.numerator&&Object.hasOwnProperty.call(e,"numerator")&&t.uint32(8).int64(e.numerator),null!=e.denominator&&Object.hasOwnProperty.call(e,"denominator")&&t.uint32(16).int64(e.denominator),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.Fraction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.numerator=e.int64();break;case 2:r.denominator=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.numerator&&e.hasOwnProperty("numerator")&&!(u.isInteger(e.numerator)||e.numerator&&u.isInteger(e.numerator.low)&&u.isInteger(e.numerator.high))?"numerator: integer|Long expected":null!=e.denominator&&e.hasOwnProperty("denominator")&&!(u.isInteger(e.denominator)||e.denominator&&u.isInteger(e.denominator.low)&&u.isInteger(e.denominator.high))?"denominator: integer|Long expected":null},e.fromObject=function(e){if(e instanceof s.google.type.Fraction)return e;var t=new s.google.type.Fraction;return null!=e.numerator&&(u.Long?(t.numerator=u.Long.fromValue(e.numerator)).unsigned=!1:"string"==typeof e.numerator?t.numerator=parseInt(e.numerator,10):"number"==typeof e.numerator?t.numerator=e.numerator:"object"===(0,o.default)(e.numerator)&&(t.numerator=new u.LongBits(e.numerator.low>>>0,e.numerator.high>>>0).toNumber())),null!=e.denominator&&(u.Long?(t.denominator=u.Long.fromValue(e.denominator)).unsigned=!1:"string"==typeof e.denominator?t.denominator=parseInt(e.denominator,10):"number"==typeof e.denominator?t.denominator=e.denominator:"object"===(0,o.default)(e.denominator)&&(t.denominator=new u.LongBits(e.denominator.low>>>0,e.denominator.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.numerator=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.numerator=t.longs===String?"0":0;if(u.Long){var o=new u.Long(0,0,!1);n.denominator=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.denominator=t.longs===String?"0":0}return null!=e.numerator&&e.hasOwnProperty("numerator")&&("number"==typeof e.numerator?n.numerator=t.longs===String?String(e.numerator):e.numerator:n.numerator=t.longs===String?u.Long.prototype.toString.call(e.numerator):t.longs===Number?new u.LongBits(e.numerator.low>>>0,e.numerator.high>>>0).toNumber():e.numerator),null!=e.denominator&&e.hasOwnProperty("denominator")&&("number"==typeof e.denominator?n.denominator=t.longs===String?String(e.denominator):e.denominator:n.denominator=t.longs===String?u.Long.prototype.toString.call(e.denominator):t.longs===Number?new u.LongBits(e.denominator.low>>>0,e.denominator.high>>>0).toNumber():e.denominator),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.LatLng=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.latitude=0,e.prototype.longitude=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.latitude&&Object.hasOwnProperty.call(e,"latitude")&&t.uint32(9).double(e.latitude),null!=e.longitude&&Object.hasOwnProperty.call(e,"longitude")&&t.uint32(17).double(e.longitude),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.LatLng;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.latitude=e.double();break;case 2:r.longitude=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.latitude&&e.hasOwnProperty("latitude")&&"number"!=typeof e.latitude?"latitude: number expected":null!=e.longitude&&e.hasOwnProperty("longitude")&&"number"!=typeof e.longitude?"longitude: number expected":null},e.fromObject=function(e){if(e instanceof s.google.type.LatLng)return e;var t=new s.google.type.LatLng;return null!=e.latitude&&(t.latitude=Number(e.latitude)),null!=e.longitude&&(t.longitude=Number(e.longitude)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.latitude=0,n.longitude=0),null!=e.latitude&&e.hasOwnProperty("latitude")&&(n.latitude=t.json&&!isFinite(e.latitude)?String(e.latitude):e.latitude),null!=e.longitude&&e.hasOwnProperty("longitude")&&(n.longitude=t.json&&!isFinite(e.longitude)?String(e.longitude):e.longitude),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.Money=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.currencyCode="",e.prototype.units=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.currencyCode&&Object.hasOwnProperty.call(e,"currencyCode")&&t.uint32(10).string(e.currencyCode),null!=e.units&&Object.hasOwnProperty.call(e,"units")&&t.uint32(16).int64(e.units),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(24).int32(e.nanos),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.Money;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.currencyCode=e.string();break;case 2:r.units=e.int64();break;case 3:r.nanos=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.currencyCode&&e.hasOwnProperty("currencyCode")&&!u.isString(e.currencyCode)?"currencyCode: string expected":null!=e.units&&e.hasOwnProperty("units")&&!(u.isInteger(e.units)||e.units&&u.isInteger(e.units.low)&&u.isInteger(e.units.high))?"units: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!u.isInteger(e.nanos)?"nanos: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.type.Money)return e;var t=new s.google.type.Money;return null!=e.currencyCode&&(t.currencyCode=String(e.currencyCode)),null!=e.units&&(u.Long?(t.units=u.Long.fromValue(e.units)).unsigned=!1:"string"==typeof e.units?t.units=parseInt(e.units,10):"number"==typeof e.units?t.units=e.units:"object"===(0,o.default)(e.units)&&(t.units=new u.LongBits(e.units.low>>>0,e.units.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.currencyCode="",u.Long){var r=new u.Long(0,0,!1);n.units=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.units=t.longs===String?"0":0;n.nanos=0}return null!=e.currencyCode&&e.hasOwnProperty("currencyCode")&&(n.currencyCode=e.currencyCode),null!=e.units&&e.hasOwnProperty("units")&&("number"==typeof e.units?n.units=t.longs===String?String(e.units):e.units:n.units=t.longs===String?u.Long.prototype.toString.call(e.units):t.longs===Number?new u.LongBits(e.units.low>>>0,e.units.high>>>0).toNumber():e.units),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.Month=function(){var e={},t=Object.create(e);return t[e[0]="MONTH_UNSPECIFIED"]=0,t[e[1]="JANUARY"]=1,t[e[2]="FEBRUARY"]=2,t[e[3]="MARCH"]=3,t[e[4]="APRIL"]=4,t[e[5]="MAY"]=5,t[e[6]="JUNE"]=6,t[e[7]="JULY"]=7,t[e[8]="AUGUST"]=8,t[e[9]="SEPTEMBER"]=9,t[e[10]="OCTOBER"]=10,t[e[11]="NOVEMBER"]=11,t[e[12]="DECEMBER"]=12,t}(),f.PostalAddress=function(){function e(e){if(this.addressLines=[],this.recipients=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.revision=0,e.prototype.regionCode="",e.prototype.languageCode="",e.prototype.postalCode="",e.prototype.sortingCode="",e.prototype.administrativeArea="",e.prototype.locality="",e.prototype.sublocality="",e.prototype.addressLines=u.emptyArray,e.prototype.recipients=u.emptyArray,e.prototype.organization="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.revision&&Object.hasOwnProperty.call(e,"revision")&&t.uint32(8).int32(e.revision),null!=e.regionCode&&Object.hasOwnProperty.call(e,"regionCode")&&t.uint32(18).string(e.regionCode),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(26).string(e.languageCode),null!=e.postalCode&&Object.hasOwnProperty.call(e,"postalCode")&&t.uint32(34).string(e.postalCode),null!=e.sortingCode&&Object.hasOwnProperty.call(e,"sortingCode")&&t.uint32(42).string(e.sortingCode),null!=e.administrativeArea&&Object.hasOwnProperty.call(e,"administrativeArea")&&t.uint32(50).string(e.administrativeArea),null!=e.locality&&Object.hasOwnProperty.call(e,"locality")&&t.uint32(58).string(e.locality),null!=e.sublocality&&Object.hasOwnProperty.call(e,"sublocality")&&t.uint32(66).string(e.sublocality),null!=e.addressLines&&e.addressLines.length)for(var n=0;n<e.addressLines.length;++n)t.uint32(74).string(e.addressLines[n]);if(null!=e.recipients&&e.recipients.length)for(var r=0;r<e.recipients.length;++r)t.uint32(82).string(e.recipients[r]);return null!=e.organization&&Object.hasOwnProperty.call(e,"organization")&&t.uint32(90).string(e.organization),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.PostalAddress;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.revision=e.int32();break;case 2:r.regionCode=e.string();break;case 3:r.languageCode=e.string();break;case 4:r.postalCode=e.string();break;case 5:r.sortingCode=e.string();break;case 6:r.administrativeArea=e.string();break;case 7:r.locality=e.string();break;case 8:r.sublocality=e.string();break;case 9:r.addressLines&&r.addressLines.length||(r.addressLines=[]),r.addressLines.push(e.string());break;case 10:r.recipients&&r.recipients.length||(r.recipients=[]),r.recipients.push(e.string());break;case 11:r.organization=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.revision&&e.hasOwnProperty("revision")&&!u.isInteger(e.revision))return"revision: integer expected";if(null!=e.regionCode&&e.hasOwnProperty("regionCode")&&!u.isString(e.regionCode))return"regionCode: string expected";if(null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!u.isString(e.languageCode))return"languageCode: string expected";if(null!=e.postalCode&&e.hasOwnProperty("postalCode")&&!u.isString(e.postalCode))return"postalCode: string expected";if(null!=e.sortingCode&&e.hasOwnProperty("sortingCode")&&!u.isString(e.sortingCode))return"sortingCode: string expected";if(null!=e.administrativeArea&&e.hasOwnProperty("administrativeArea")&&!u.isString(e.administrativeArea))return"administrativeArea: string expected";if(null!=e.locality&&e.hasOwnProperty("locality")&&!u.isString(e.locality))return"locality: string expected";if(null!=e.sublocality&&e.hasOwnProperty("sublocality")&&!u.isString(e.sublocality))return"sublocality: string expected";if(null!=e.addressLines&&e.hasOwnProperty("addressLines")){if(!Array.isArray(e.addressLines))return"addressLines: array expected";for(var t=0;t<e.addressLines.length;++t)if(!u.isString(e.addressLines[t]))return"addressLines: string[] expected"}if(null!=e.recipients&&e.hasOwnProperty("recipients")){if(!Array.isArray(e.recipients))return"recipients: array expected";for(var n=0;n<e.recipients.length;++n)if(!u.isString(e.recipients[n]))return"recipients: string[] expected"}return null!=e.organization&&e.hasOwnProperty("organization")&&!u.isString(e.organization)?"organization: string expected":null},e.fromObject=function(e){if(e instanceof s.google.type.PostalAddress)return e;var t=new s.google.type.PostalAddress;if(null!=e.revision&&(t.revision=0|e.revision),null!=e.regionCode&&(t.regionCode=String(e.regionCode)),null!=e.languageCode&&(t.languageCode=String(e.languageCode)),null!=e.postalCode&&(t.postalCode=String(e.postalCode)),null!=e.sortingCode&&(t.sortingCode=String(e.sortingCode)),null!=e.administrativeArea&&(t.administrativeArea=String(e.administrativeArea)),null!=e.locality&&(t.locality=String(e.locality)),null!=e.sublocality&&(t.sublocality=String(e.sublocality)),e.addressLines){if(!Array.isArray(e.addressLines))throw TypeError(".google.type.PostalAddress.addressLines: array expected");t.addressLines=[];for(var n=0;n<e.addressLines.length;++n)t.addressLines[n]=String(e.addressLines[n])}if(e.recipients){if(!Array.isArray(e.recipients))throw TypeError(".google.type.PostalAddress.recipients: array expected");t.recipients=[];for(var r=0;r<e.recipients.length;++r)t.recipients[r]=String(e.recipients[r])}return null!=e.organization&&(t.organization=String(e.organization)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addressLines=[],n.recipients=[]),t.defaults&&(n.revision=0,n.regionCode="",n.languageCode="",n.postalCode="",n.sortingCode="",n.administrativeArea="",n.locality="",n.sublocality="",n.organization=""),null!=e.revision&&e.hasOwnProperty("revision")&&(n.revision=e.revision),null!=e.regionCode&&e.hasOwnProperty("regionCode")&&(n.regionCode=e.regionCode),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),null!=e.postalCode&&e.hasOwnProperty("postalCode")&&(n.postalCode=e.postalCode),null!=e.sortingCode&&e.hasOwnProperty("sortingCode")&&(n.sortingCode=e.sortingCode),null!=e.administrativeArea&&e.hasOwnProperty("administrativeArea")&&(n.administrativeArea=e.administrativeArea),null!=e.locality&&e.hasOwnProperty("locality")&&(n.locality=e.locality),null!=e.sublocality&&e.hasOwnProperty("sublocality")&&(n.sublocality=e.sublocality),e.addressLines&&e.addressLines.length){n.addressLines=[];for(var r=0;r<e.addressLines.length;++r)n.addressLines[r]=e.addressLines[r]}if(e.recipients&&e.recipients.length){n.recipients=[];for(var o=0;o<e.recipients.length;++o)n.recipients[o]=e.recipients[o]}return null!=e.organization&&e.hasOwnProperty("organization")&&(n.organization=e.organization),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.Quaternion=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.x=0,e.prototype.y=0,e.prototype.z=0,e.prototype.w=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(9).double(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(17).double(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(25).double(e.z),null!=e.w&&Object.hasOwnProperty.call(e,"w")&&t.uint32(33).double(e.w),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.Quaternion;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.x=e.double();break;case 2:r.y=e.double();break;case 3:r.z=e.double();break;case 4:r.w=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null!=e.w&&e.hasOwnProperty("w")&&"number"!=typeof e.w?"w: number expected":null},e.fromObject=function(e){if(e instanceof s.google.type.Quaternion)return e;var t=new s.google.type.Quaternion;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),null!=e.w&&(t.w=Number(e.w)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.w=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),null!=e.w&&e.hasOwnProperty("w")&&(n.w=t.json&&!isFinite(e.w)?String(e.w):e.w),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f.TimeOfDay=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.hours=0,e.prototype.minutes=0,e.prototype.seconds=0,e.prototype.nanos=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.hours&&Object.hasOwnProperty.call(e,"hours")&&t.uint32(8).int32(e.hours),null!=e.minutes&&Object.hasOwnProperty.call(e,"minutes")&&t.uint32(16).int32(e.minutes),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(24).int32(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(32).int32(e.nanos),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.type.TimeOfDay;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.hours=e.int32();break;case 2:r.minutes=e.int32();break;case 3:r.seconds=e.int32();break;case 4:r.nanos=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.hours&&e.hasOwnProperty("hours")&&!u.isInteger(e.hours)?"hours: integer expected":null!=e.minutes&&e.hasOwnProperty("minutes")&&!u.isInteger(e.minutes)?"minutes: integer expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!u.isInteger(e.seconds)?"seconds: integer expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!u.isInteger(e.nanos)?"nanos: integer expected":null},e.fromObject=function(e){if(e instanceof s.google.type.TimeOfDay)return e;var t=new s.google.type.TimeOfDay;return null!=e.hours&&(t.hours=0|e.hours),null!=e.minutes&&(t.minutes=0|e.minutes),null!=e.seconds&&(t.seconds=0|e.seconds),null!=e.nanos&&(t.nanos=0|e.nanos),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.hours=0,n.minutes=0,n.seconds=0,n.nanos=0),null!=e.hours&&e.hasOwnProperty("hours")&&(n.hours=e.hours),null!=e.minutes&&e.hasOwnProperty("minutes")&&(n.minutes=e.minutes),null!=e.seconds&&e.hasOwnProperty("seconds")&&(n.seconds=e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),f),v.logging=((g={}).type=function(){var e={};return e.HttpRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.requestMethod="",e.prototype.requestUrl="",e.prototype.requestSize=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.status=0,e.prototype.responseSize=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.userAgent="",e.prototype.remoteIp="",e.prototype.serverIp="",e.prototype.referer="",e.prototype.latency=null,e.prototype.cacheLookup=!1,e.prototype.cacheHit=!1,e.prototype.cacheValidatedWithOriginServer=!1,e.prototype.cacheFillBytes=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.protocol="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.requestMethod&&Object.hasOwnProperty.call(e,"requestMethod")&&t.uint32(10).string(e.requestMethod),null!=e.requestUrl&&Object.hasOwnProperty.call(e,"requestUrl")&&t.uint32(18).string(e.requestUrl),null!=e.requestSize&&Object.hasOwnProperty.call(e,"requestSize")&&t.uint32(24).int64(e.requestSize),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(32).int32(e.status),null!=e.responseSize&&Object.hasOwnProperty.call(e,"responseSize")&&t.uint32(40).int64(e.responseSize),null!=e.userAgent&&Object.hasOwnProperty.call(e,"userAgent")&&t.uint32(50).string(e.userAgent),null!=e.remoteIp&&Object.hasOwnProperty.call(e,"remoteIp")&&t.uint32(58).string(e.remoteIp),null!=e.referer&&Object.hasOwnProperty.call(e,"referer")&&t.uint32(66).string(e.referer),null!=e.cacheHit&&Object.hasOwnProperty.call(e,"cacheHit")&&t.uint32(72).bool(e.cacheHit),null!=e.cacheValidatedWithOriginServer&&Object.hasOwnProperty.call(e,"cacheValidatedWithOriginServer")&&t.uint32(80).bool(e.cacheValidatedWithOriginServer),null!=e.cacheLookup&&Object.hasOwnProperty.call(e,"cacheLookup")&&t.uint32(88).bool(e.cacheLookup),null!=e.cacheFillBytes&&Object.hasOwnProperty.call(e,"cacheFillBytes")&&t.uint32(96).int64(e.cacheFillBytes),null!=e.serverIp&&Object.hasOwnProperty.call(e,"serverIp")&&t.uint32(106).string(e.serverIp),null!=e.latency&&Object.hasOwnProperty.call(e,"latency")&&s.google.protobuf.Duration.encode(e.latency,t.uint32(114).fork()).ldelim(),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(122).string(e.protocol),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.logging.type.HttpRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.requestMethod=e.string();break;case 2:r.requestUrl=e.string();break;case 3:r.requestSize=e.int64();break;case 4:r.status=e.int32();break;case 5:r.responseSize=e.int64();break;case 6:r.userAgent=e.string();break;case 7:r.remoteIp=e.string();break;case 13:r.serverIp=e.string();break;case 8:r.referer=e.string();break;case 14:r.latency=s.google.protobuf.Duration.decode(e,e.uint32());break;case 11:r.cacheLookup=e.bool();break;case 9:r.cacheHit=e.bool();break;case 10:r.cacheValidatedWithOriginServer=e.bool();break;case 12:r.cacheFillBytes=e.int64();break;case 15:r.protocol=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.requestMethod&&e.hasOwnProperty("requestMethod")&&!u.isString(e.requestMethod))return"requestMethod: string expected";if(null!=e.requestUrl&&e.hasOwnProperty("requestUrl")&&!u.isString(e.requestUrl))return"requestUrl: string expected";if(null!=e.requestSize&&e.hasOwnProperty("requestSize")&&!(u.isInteger(e.requestSize)||e.requestSize&&u.isInteger(e.requestSize.low)&&u.isInteger(e.requestSize.high)))return"requestSize: integer|Long expected";if(null!=e.status&&e.hasOwnProperty("status")&&!u.isInteger(e.status))return"status: integer expected";if(null!=e.responseSize&&e.hasOwnProperty("responseSize")&&!(u.isInteger(e.responseSize)||e.responseSize&&u.isInteger(e.responseSize.low)&&u.isInteger(e.responseSize.high)))return"responseSize: integer|Long expected";if(null!=e.userAgent&&e.hasOwnProperty("userAgent")&&!u.isString(e.userAgent))return"userAgent: string expected";if(null!=e.remoteIp&&e.hasOwnProperty("remoteIp")&&!u.isString(e.remoteIp))return"remoteIp: string expected";if(null!=e.serverIp&&e.hasOwnProperty("serverIp")&&!u.isString(e.serverIp))return"serverIp: string expected";if(null!=e.referer&&e.hasOwnProperty("referer")&&!u.isString(e.referer))return"referer: string expected";if(null!=e.latency&&e.hasOwnProperty("latency")){var t=s.google.protobuf.Duration.verify(e.latency);if(t)return"latency."+t}return null!=e.cacheLookup&&e.hasOwnProperty("cacheLookup")&&"boolean"!=typeof e.cacheLookup?"cacheLookup: boolean expected":null!=e.cacheHit&&e.hasOwnProperty("cacheHit")&&"boolean"!=typeof e.cacheHit?"cacheHit: boolean expected":null!=e.cacheValidatedWithOriginServer&&e.hasOwnProperty("cacheValidatedWithOriginServer")&&"boolean"!=typeof e.cacheValidatedWithOriginServer?"cacheValidatedWithOriginServer: boolean expected":null!=e.cacheFillBytes&&e.hasOwnProperty("cacheFillBytes")&&!(u.isInteger(e.cacheFillBytes)||e.cacheFillBytes&&u.isInteger(e.cacheFillBytes.low)&&u.isInteger(e.cacheFillBytes.high))?"cacheFillBytes: integer|Long expected":null!=e.protocol&&e.hasOwnProperty("protocol")&&!u.isString(e.protocol)?"protocol: string expected":null},e.fromObject=function(e){if(e instanceof s.google.logging.type.HttpRequest)return e;var t=new s.google.logging.type.HttpRequest;if(null!=e.requestMethod&&(t.requestMethod=String(e.requestMethod)),null!=e.requestUrl&&(t.requestUrl=String(e.requestUrl)),null!=e.requestSize&&(u.Long?(t.requestSize=u.Long.fromValue(e.requestSize)).unsigned=!1:"string"==typeof e.requestSize?t.requestSize=parseInt(e.requestSize,10):"number"==typeof e.requestSize?t.requestSize=e.requestSize:"object"===(0,o.default)(e.requestSize)&&(t.requestSize=new u.LongBits(e.requestSize.low>>>0,e.requestSize.high>>>0).toNumber())),null!=e.status&&(t.status=0|e.status),null!=e.responseSize&&(u.Long?(t.responseSize=u.Long.fromValue(e.responseSize)).unsigned=!1:"string"==typeof e.responseSize?t.responseSize=parseInt(e.responseSize,10):"number"==typeof e.responseSize?t.responseSize=e.responseSize:"object"===(0,o.default)(e.responseSize)&&(t.responseSize=new u.LongBits(e.responseSize.low>>>0,e.responseSize.high>>>0).toNumber())),null!=e.userAgent&&(t.userAgent=String(e.userAgent)),null!=e.remoteIp&&(t.remoteIp=String(e.remoteIp)),null!=e.serverIp&&(t.serverIp=String(e.serverIp)),null!=e.referer&&(t.referer=String(e.referer)),null!=e.latency){if("object"!==(0,o.default)(e.latency))throw TypeError(".google.logging.type.HttpRequest.latency: object expected");t.latency=s.google.protobuf.Duration.fromObject(e.latency)}return null!=e.cacheLookup&&(t.cacheLookup=Boolean(e.cacheLookup)),null!=e.cacheHit&&(t.cacheHit=Boolean(e.cacheHit)),null!=e.cacheValidatedWithOriginServer&&(t.cacheValidatedWithOriginServer=Boolean(e.cacheValidatedWithOriginServer)),null!=e.cacheFillBytes&&(u.Long?(t.cacheFillBytes=u.Long.fromValue(e.cacheFillBytes)).unsigned=!1:"string"==typeof e.cacheFillBytes?t.cacheFillBytes=parseInt(e.cacheFillBytes,10):"number"==typeof e.cacheFillBytes?t.cacheFillBytes=e.cacheFillBytes:"object"===(0,o.default)(e.cacheFillBytes)&&(t.cacheFillBytes=new u.LongBits(e.cacheFillBytes.low>>>0,e.cacheFillBytes.high>>>0).toNumber())),null!=e.protocol&&(t.protocol=String(e.protocol)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.requestMethod="",n.requestUrl="",u.Long){var r=new u.Long(0,0,!1);n.requestSize=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.requestSize=t.longs===String?"0":0;if(n.status=0,u.Long){var o=new u.Long(0,0,!1);n.responseSize=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.responseSize=t.longs===String?"0":0;if(n.userAgent="",n.remoteIp="",n.referer="",n.cacheHit=!1,n.cacheValidatedWithOriginServer=!1,n.cacheLookup=!1,u.Long){var i=new u.Long(0,0,!1);n.cacheFillBytes=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.cacheFillBytes=t.longs===String?"0":0;n.serverIp="",n.latency=null,n.protocol=""}return null!=e.requestMethod&&e.hasOwnProperty("requestMethod")&&(n.requestMethod=e.requestMethod),null!=e.requestUrl&&e.hasOwnProperty("requestUrl")&&(n.requestUrl=e.requestUrl),null!=e.requestSize&&e.hasOwnProperty("requestSize")&&("number"==typeof e.requestSize?n.requestSize=t.longs===String?String(e.requestSize):e.requestSize:n.requestSize=t.longs===String?u.Long.prototype.toString.call(e.requestSize):t.longs===Number?new u.LongBits(e.requestSize.low>>>0,e.requestSize.high>>>0).toNumber():e.requestSize),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.responseSize&&e.hasOwnProperty("responseSize")&&("number"==typeof e.responseSize?n.responseSize=t.longs===String?String(e.responseSize):e.responseSize:n.responseSize=t.longs===String?u.Long.prototype.toString.call(e.responseSize):t.longs===Number?new u.LongBits(e.responseSize.low>>>0,e.responseSize.high>>>0).toNumber():e.responseSize),null!=e.userAgent&&e.hasOwnProperty("userAgent")&&(n.userAgent=e.userAgent),null!=e.remoteIp&&e.hasOwnProperty("remoteIp")&&(n.remoteIp=e.remoteIp),null!=e.referer&&e.hasOwnProperty("referer")&&(n.referer=e.referer),null!=e.cacheHit&&e.hasOwnProperty("cacheHit")&&(n.cacheHit=e.cacheHit),null!=e.cacheValidatedWithOriginServer&&e.hasOwnProperty("cacheValidatedWithOriginServer")&&(n.cacheValidatedWithOriginServer=e.cacheValidatedWithOriginServer),null!=e.cacheLookup&&e.hasOwnProperty("cacheLookup")&&(n.cacheLookup=e.cacheLookup),null!=e.cacheFillBytes&&e.hasOwnProperty("cacheFillBytes")&&("number"==typeof e.cacheFillBytes?n.cacheFillBytes=t.longs===String?String(e.cacheFillBytes):e.cacheFillBytes:n.cacheFillBytes=t.longs===String?u.Long.prototype.toString.call(e.cacheFillBytes):t.longs===Number?new u.LongBits(e.cacheFillBytes.low>>>0,e.cacheFillBytes.high>>>0).toNumber():e.cacheFillBytes),null!=e.serverIp&&e.hasOwnProperty("serverIp")&&(n.serverIp=e.serverIp),null!=e.latency&&e.hasOwnProperty("latency")&&(n.latency=s.google.protobuf.Duration.toObject(e.latency,t)),null!=e.protocol&&e.hasOwnProperty("protocol")&&(n.protocol=e.protocol),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.LogSeverity=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[100]="DEBUG"]=100,t[e[200]="INFO"]=200,t[e[300]="NOTICE"]=300,t[e[400]="WARNING"]=400,t[e[500]="ERROR"]=500,t[e[600]="CRITICAL"]=600,t[e[700]="ALERT"]=700,t[e[800]="EMERGENCY"]=800,t}(),e}(),g),v.longrunning=((h={}).Operations=function(){function e(e,t,n){i.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.listOperations=function e(t,n){return this.rpcCall(e,s.google.longrunning.ListOperationsRequest,s.google.longrunning.ListOperationsResponse,t,n)},"name",{value:"ListOperations"}),Object.defineProperty(e.prototype.getOperation=function e(t,n){return this.rpcCall(e,s.google.longrunning.GetOperationRequest,s.google.longrunning.Operation,t,n)},"name",{value:"GetOperation"}),Object.defineProperty(e.prototype.deleteOperation=function e(t,n){return this.rpcCall(e,s.google.longrunning.DeleteOperationRequest,s.google.protobuf.Empty,t,n)},"name",{value:"DeleteOperation"}),Object.defineProperty(e.prototype.cancelOperation=function e(t,n){return this.rpcCall(e,s.google.longrunning.CancelOperationRequest,s.google.protobuf.Empty,t,n)},"name",{value:"CancelOperation"}),e}(),h.Operation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.name="",e.prototype.metadata=null,e.prototype.done=!1,e.prototype.error=null,e.prototype.response=null,Object.defineProperty(e.prototype,"result",{get:u.oneOfGetter(t=["error","response"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&s.google.protobuf.Any.encode(e.metadata,t.uint32(18).fork()).ldelim(),null!=e.done&&Object.hasOwnProperty.call(e,"done")&&t.uint32(24).bool(e.done),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&s.google.rpc.Status.encode(e.error,t.uint32(34).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,"response")&&s.google.protobuf.Any.encode(e.response,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.Operation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.metadata=s.google.protobuf.Any.decode(e,e.uint32());break;case 3:r.done=e.bool();break;case 4:r.error=s.google.rpc.Status.decode(e,e.uint32());break;case 5:r.response=s.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";var t={};if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")){var n=s.google.protobuf.Any.verify(e.metadata);if(n)return"metadata."+n}if(null!=e.done&&e.hasOwnProperty("done")&&"boolean"!=typeof e.done)return"done: boolean expected";if(null!=e.error&&e.hasOwnProperty("error")){t.result=1;var r=s.google.rpc.Status.verify(e.error);if(r)return"error."+r}if(null!=e.response&&e.hasOwnProperty("response")){if(1===t.result)return"result: multiple values";t.result=1;var i=s.google.protobuf.Any.verify(e.response);if(i)return"response."+i}return null},e.fromObject=function(e){if(e instanceof s.google.longrunning.Operation)return e;var t=new s.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if("object"!==(0,o.default)(e.metadata))throw TypeError(".google.longrunning.Operation.metadata: object expected");t.metadata=s.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if("object"!==(0,o.default)(e.error))throw TypeError(".google.longrunning.Operation.error: object expected");t.error=s.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if("object"!==(0,o.default)(e.response))throw TypeError(".google.longrunning.Operation.response: object expected");t.response=s.google.protobuf.Any.fromObject(e.response)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.metadata=null,n.done=!1),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=s.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty("done")&&(n.done=e.done),null!=e.error&&e.hasOwnProperty("error")&&(n.error=s.google.rpc.Status.toObject(e.error,t),t.oneofs&&(n.result="error")),null!=e.response&&e.hasOwnProperty("response")&&(n.response=s.google.protobuf.Any.toObject(e.response,t),t.oneofs&&(n.result="response")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h.GetOperationRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.GetOperationRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.longrunning.GetOperationRequest)return e;var t=new s.google.longrunning.GetOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h.ListOperationsRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.filter="",e.prototype.pageSize=0,e.prototype.pageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(10).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(26).string(e.pageToken),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.ListOperationsRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 4:r.name=e.string();break;case 1:r.filter=e.string();break;case 2:r.pageSize=e.int32();break;case 3:r.pageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null!=e.filter&&e.hasOwnProperty("filter")&&!u.isString(e.filter)?"filter: string expected":null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!u.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!u.isString(e.pageToken)?"pageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.longrunning.ListOperationsRequest)return e;var t=new s.google.longrunning.ListOperationsRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.filter="",n.pageSize=0,n.pageToken="",n.name=""),null!=e.filter&&e.hasOwnProperty("filter")&&(n.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(n.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h.ListOperationsResponse=function(){function e(e){if(this.operations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.operations=u.emptyArray,e.prototype.nextPageToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.operations&&e.operations.length)for(var n=0;n<e.operations.length;++n)s.google.longrunning.Operation.encode(e.operations[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.ListOperationsResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.operations&&r.operations.length||(r.operations=[]),r.operations.push(s.google.longrunning.Operation.decode(e,e.uint32()));break;case 2:r.nextPageToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.operations&&e.hasOwnProperty("operations")){if(!Array.isArray(e.operations))return"operations: array expected";for(var t=0;t<e.operations.length;++t){var n=s.google.longrunning.Operation.verify(e.operations[t]);if(n)return"operations."+n}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!u.isString(e.nextPageToken)?"nextPageToken: string expected":null},e.fromObject=function(e){if(e instanceof s.google.longrunning.ListOperationsResponse)return e;var t=new s.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");t.operations=[];for(var n=0;n<e.operations.length;++n){if("object"!==(0,o.default)(e.operations[n]))throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");t.operations[n]=s.google.longrunning.Operation.fromObject(e.operations[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.operations=[]),t.defaults&&(n.nextPageToken=""),e.operations&&e.operations.length){n.operations=[];for(var r=0;r<e.operations.length;++r)n.operations[r]=s.google.longrunning.Operation.toObject(e.operations[r],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(n.nextPageToken=e.nextPageToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h.CancelOperationRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.CancelOperationRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.longrunning.CancelOperationRequest)return e;var t=new s.google.longrunning.CancelOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h.DeleteOperationRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.DeleteOperationRequest;e.pos<n;){var o=e.uint32();o>>>3==1?r.name=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof s.google.longrunning.DeleteOperationRequest)return e;var t=new s.google.longrunning.DeleteOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h.OperationInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.responseType="",e.prototype.metadataType="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.responseType&&Object.hasOwnProperty.call(e,"responseType")&&t.uint32(10).string(e.responseType),null!=e.metadataType&&Object.hasOwnProperty.call(e,"metadataType")&&t.uint32(18).string(e.metadataType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.longrunning.OperationInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.responseType=e.string();break;case 2:r.metadataType=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.responseType&&e.hasOwnProperty("responseType")&&!u.isString(e.responseType)?"responseType: string expected":null!=e.metadataType&&e.hasOwnProperty("metadataType")&&!u.isString(e.metadataType)?"metadataType: string expected":null},e.fromObject=function(e){if(e instanceof s.google.longrunning.OperationInfo)return e;var t=new s.google.longrunning.OperationInfo;return null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.responseType="",n.metadataType=""),null!=e.responseType&&e.hasOwnProperty("responseType")&&(n.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty("metadataType")&&(n.metadataType=e.metadataType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),h),v.rpc=((y={}).Status=function(){function e(e){if(this.details=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.message="",e.prototype.details=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.details&&e.details.length)for(var n=0;n<e.details.length;++n)s.google.protobuf.Any.encode(e.details[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.Status;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.details&&r.details.length||(r.details=[]),r.details.push(s.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!u.isInteger(e.code))return"code: integer expected";if(null!=e.message&&e.hasOwnProperty("message")&&!u.isString(e.message))return"message: string expected";if(null!=e.details&&e.hasOwnProperty("details")){if(!Array.isArray(e.details))return"details: array expected";for(var t=0;t<e.details.length;++t){var n=s.google.protobuf.Any.verify(e.details[t]);if(n)return"details."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.Status)return e;var t=new s.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(".google.rpc.Status.details: array expected");t.details=[];for(var n=0;n<e.details.length;++n){if("object"!==(0,o.default)(e.details[n]))throw TypeError(".google.rpc.Status.details: object expected");t.details[n]=s.google.protobuf.Any.fromObject(e.details[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.details=[]),t.defaults&&(n.code=0,n.message=""),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),e.details&&e.details.length){n.details=[];for(var r=0;r<e.details.length;++r)n.details[r]=s.google.protobuf.Any.toObject(e.details[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y.Code=function(){var e={},t=Object.create(e);return t[e[0]="OK"]=0,t[e[1]="CANCELLED"]=1,t[e[2]="UNKNOWN"]=2,t[e[3]="INVALID_ARGUMENT"]=3,t[e[4]="DEADLINE_EXCEEDED"]=4,t[e[5]="NOT_FOUND"]=5,t[e[6]="ALREADY_EXISTS"]=6,t[e[7]="PERMISSION_DENIED"]=7,t[e[16]="UNAUTHENTICATED"]=16,t[e[8]="RESOURCE_EXHAUSTED"]=8,t[e[9]="FAILED_PRECONDITION"]=9,t[e[10]="ABORTED"]=10,t[e[11]="OUT_OF_RANGE"]=11,t[e[12]="UNIMPLEMENTED"]=12,t[e[13]="INTERNAL"]=13,t[e[14]="UNAVAILABLE"]=14,t[e[15]="DATA_LOSS"]=15,t}(),y.context=((m={}).AttributeContext=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.origin=null,e.prototype.source=null,e.prototype.destination=null,e.prototype.request=null,e.prototype.response=null,e.prototype.resource=null,e.prototype.api=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.source&&Object.hasOwnProperty.call(e,"source")&&s.google.rpc.context.AttributeContext.Peer.encode(e.source,t.uint32(10).fork()).ldelim(),null!=e.destination&&Object.hasOwnProperty.call(e,"destination")&&s.google.rpc.context.AttributeContext.Peer.encode(e.destination,t.uint32(18).fork()).ldelim(),null!=e.request&&Object.hasOwnProperty.call(e,"request")&&s.google.rpc.context.AttributeContext.Request.encode(e.request,t.uint32(26).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,"response")&&s.google.rpc.context.AttributeContext.Response.encode(e.response,t.uint32(34).fork()).ldelim(),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&s.google.rpc.context.AttributeContext.Resource.encode(e.resource,t.uint32(42).fork()).ldelim(),null!=e.api&&Object.hasOwnProperty.call(e,"api")&&s.google.rpc.context.AttributeContext.Api.encode(e.api,t.uint32(50).fork()).ldelim(),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&s.google.rpc.context.AttributeContext.Peer.encode(e.origin,t.uint32(58).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.context.AttributeContext;e.pos<n;){var o=e.uint32();switch(o>>>3){case 7:r.origin=s.google.rpc.context.AttributeContext.Peer.decode(e,e.uint32());break;case 1:r.source=s.google.rpc.context.AttributeContext.Peer.decode(e,e.uint32());break;case 2:r.destination=s.google.rpc.context.AttributeContext.Peer.decode(e,e.uint32());break;case 3:r.request=s.google.rpc.context.AttributeContext.Request.decode(e,e.uint32());break;case 4:r.response=s.google.rpc.context.AttributeContext.Response.decode(e,e.uint32());break;case 5:r.resource=s.google.rpc.context.AttributeContext.Resource.decode(e,e.uint32());break;case 6:r.api=s.google.rpc.context.AttributeContext.Api.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.origin&&e.hasOwnProperty("origin")){var t=s.google.rpc.context.AttributeContext.Peer.verify(e.origin);if(t)return"origin."+t}if(null!=e.source&&e.hasOwnProperty("source")){var n=s.google.rpc.context.AttributeContext.Peer.verify(e.source);if(n)return"source."+n}if(null!=e.destination&&e.hasOwnProperty("destination")){var r=s.google.rpc.context.AttributeContext.Peer.verify(e.destination);if(r)return"destination."+r}if(null!=e.request&&e.hasOwnProperty("request")){var i=s.google.rpc.context.AttributeContext.Request.verify(e.request);if(i)return"request."+i}if(null!=e.response&&e.hasOwnProperty("response")){var a=s.google.rpc.context.AttributeContext.Response.verify(e.response);if(a)return"response."+a}if(null!=e.resource&&e.hasOwnProperty("resource")){var l=s.google.rpc.context.AttributeContext.Resource.verify(e.resource);if(l)return"resource."+l}if(null!=e.api&&e.hasOwnProperty("api")){var u=s.google.rpc.context.AttributeContext.Api.verify(e.api);if(u)return"api."+u}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext)return e;var t=new s.google.rpc.context.AttributeContext;if(null!=e.origin){if("object"!==(0,o.default)(e.origin))throw TypeError(".google.rpc.context.AttributeContext.origin: object expected");t.origin=s.google.rpc.context.AttributeContext.Peer.fromObject(e.origin)}if(null!=e.source){if("object"!==(0,o.default)(e.source))throw TypeError(".google.rpc.context.AttributeContext.source: object expected");t.source=s.google.rpc.context.AttributeContext.Peer.fromObject(e.source)}if(null!=e.destination){if("object"!==(0,o.default)(e.destination))throw TypeError(".google.rpc.context.AttributeContext.destination: object expected");t.destination=s.google.rpc.context.AttributeContext.Peer.fromObject(e.destination)}if(null!=e.request){if("object"!==(0,o.default)(e.request))throw TypeError(".google.rpc.context.AttributeContext.request: object expected");t.request=s.google.rpc.context.AttributeContext.Request.fromObject(e.request)}if(null!=e.response){if("object"!==(0,o.default)(e.response))throw TypeError(".google.rpc.context.AttributeContext.response: object expected");t.response=s.google.rpc.context.AttributeContext.Response.fromObject(e.response)}if(null!=e.resource){if("object"!==(0,o.default)(e.resource))throw TypeError(".google.rpc.context.AttributeContext.resource: object expected");t.resource=s.google.rpc.context.AttributeContext.Resource.fromObject(e.resource)}if(null!=e.api){if("object"!==(0,o.default)(e.api))throw TypeError(".google.rpc.context.AttributeContext.api: object expected");t.api=s.google.rpc.context.AttributeContext.Api.fromObject(e.api)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.source=null,n.destination=null,n.request=null,n.response=null,n.resource=null,n.api=null,n.origin=null),null!=e.source&&e.hasOwnProperty("source")&&(n.source=s.google.rpc.context.AttributeContext.Peer.toObject(e.source,t)),null!=e.destination&&e.hasOwnProperty("destination")&&(n.destination=s.google.rpc.context.AttributeContext.Peer.toObject(e.destination,t)),null!=e.request&&e.hasOwnProperty("request")&&(n.request=s.google.rpc.context.AttributeContext.Request.toObject(e.request,t)),null!=e.response&&e.hasOwnProperty("response")&&(n.response=s.google.rpc.context.AttributeContext.Response.toObject(e.response,t)),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=s.google.rpc.context.AttributeContext.Resource.toObject(e.resource,t)),null!=e.api&&e.hasOwnProperty("api")&&(n.api=s.google.rpc.context.AttributeContext.Api.toObject(e.api,t)),null!=e.origin&&e.hasOwnProperty("origin")&&(n.origin=s.google.rpc.context.AttributeContext.Peer.toObject(e.origin,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Peer=function(){function e(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ip="",e.prototype.port=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.labels=u.emptyObject,e.prototype.principal="",e.prototype.regionCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.ip&&Object.hasOwnProperty.call(e,"ip")&&t.uint32(10).string(e.ip),null!=e.port&&Object.hasOwnProperty.call(e,"port")&&t.uint32(16).int64(e.port),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.uint32(50).fork().uint32(10).string(n[r]).uint32(18).string(e.labels[n[r]]).ldelim();return null!=e.principal&&Object.hasOwnProperty.call(e,"principal")&&t.uint32(58).string(e.principal),null!=e.regionCode&&Object.hasOwnProperty.call(e,"regionCode")&&t.uint32(66).string(e.regionCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.rpc.context.AttributeContext.Peer;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.ip=e.string();break;case 2:i.port=e.int64();break;case 6:i.labels===u.emptyObject&&(i.labels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.labels[n]=r;break;case 7:i.principal=e.string();break;case 8:i.regionCode=e.string();break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.ip&&e.hasOwnProperty("ip")&&!u.isString(e.ip))return"ip: string expected";if(null!=e.port&&e.hasOwnProperty("port")&&!(u.isInteger(e.port)||e.port&&u.isInteger(e.port.low)&&u.isInteger(e.port.high)))return"port: integer|Long expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!u.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return"labels: string{k:string} expected"}return null!=e.principal&&e.hasOwnProperty("principal")&&!u.isString(e.principal)?"principal: string expected":null!=e.regionCode&&e.hasOwnProperty("regionCode")&&!u.isString(e.regionCode)?"regionCode: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext.Peer)return e;var t=new s.google.rpc.context.AttributeContext.Peer;if(null!=e.ip&&(t.ip=String(e.ip)),null!=e.port&&(u.Long?(t.port=u.Long.fromValue(e.port)).unsigned=!1:"string"==typeof e.port?t.port=parseInt(e.port,10):"number"==typeof e.port?t.port=e.port:"object"===(0,o.default)(e.port)&&(t.port=new u.LongBits(e.port.low>>>0,e.port.high>>>0).toNumber())),e.labels){if("object"!==(0,o.default)(e.labels))throw TypeError(".google.rpc.context.AttributeContext.Peer.labels: object expected");t.labels={};for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return null!=e.principal&&(t.principal=String(e.principal)),null!=e.regionCode&&(t.regionCode=String(e.regionCode)),t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.labels={}),t.defaults){if(r.ip="",u.Long){var o=new u.Long(0,0,!1);r.port=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.port=t.longs===String?"0":0;r.principal="",r.regionCode=""}if(null!=e.ip&&e.hasOwnProperty("ip")&&(r.ip=e.ip),null!=e.port&&e.hasOwnProperty("port")&&("number"==typeof e.port?r.port=t.longs===String?String(e.port):e.port:r.port=t.longs===String?u.Long.prototype.toString.call(e.port):t.longs===Number?new u.LongBits(e.port.low>>>0,e.port.high>>>0).toNumber():e.port),e.labels&&(n=Object.keys(e.labels)).length){r.labels={};for(var i=0;i<n.length;++i)r.labels[n[i]]=e.labels[n[i]]}return null!=e.principal&&e.hasOwnProperty("principal")&&(r.principal=e.principal),null!=e.regionCode&&e.hasOwnProperty("regionCode")&&(r.regionCode=e.regionCode),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Api=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.service="",e.prototype.operation="",e.prototype.protocol="",e.prototype.version="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(10).string(e.service),null!=e.operation&&Object.hasOwnProperty.call(e,"operation")&&t.uint32(18).string(e.operation),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(26).string(e.protocol),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(34).string(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.context.AttributeContext.Api;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.service=e.string();break;case 2:r.operation=e.string();break;case 3:r.protocol=e.string();break;case 4:r.version=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.service&&e.hasOwnProperty("service")&&!u.isString(e.service)?"service: string expected":null!=e.operation&&e.hasOwnProperty("operation")&&!u.isString(e.operation)?"operation: string expected":null!=e.protocol&&e.hasOwnProperty("protocol")&&!u.isString(e.protocol)?"protocol: string expected":null!=e.version&&e.hasOwnProperty("version")&&!u.isString(e.version)?"version: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext.Api)return e;var t=new s.google.rpc.context.AttributeContext.Api;return null!=e.service&&(t.service=String(e.service)),null!=e.operation&&(t.operation=String(e.operation)),null!=e.protocol&&(t.protocol=String(e.protocol)),null!=e.version&&(t.version=String(e.version)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.service="",n.operation="",n.protocol="",n.version=""),null!=e.service&&e.hasOwnProperty("service")&&(n.service=e.service),null!=e.operation&&e.hasOwnProperty("operation")&&(n.operation=e.operation),null!=e.protocol&&e.hasOwnProperty("protocol")&&(n.protocol=e.protocol),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Auth=function(){function e(e){if(this.audiences=[],this.accessLevels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.principal="",e.prototype.audiences=u.emptyArray,e.prototype.presenter="",e.prototype.claims=null,e.prototype.accessLevels=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.principal&&Object.hasOwnProperty.call(e,"principal")&&t.uint32(10).string(e.principal),null!=e.audiences&&e.audiences.length)for(var n=0;n<e.audiences.length;++n)t.uint32(18).string(e.audiences[n]);if(null!=e.presenter&&Object.hasOwnProperty.call(e,"presenter")&&t.uint32(26).string(e.presenter),null!=e.claims&&Object.hasOwnProperty.call(e,"claims")&&s.google.protobuf.Struct.encode(e.claims,t.uint32(34).fork()).ldelim(),null!=e.accessLevels&&e.accessLevels.length)for(var r=0;r<e.accessLevels.length;++r)t.uint32(42).string(e.accessLevels[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.context.AttributeContext.Auth;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.principal=e.string();break;case 2:r.audiences&&r.audiences.length||(r.audiences=[]),r.audiences.push(e.string());break;case 3:r.presenter=e.string();break;case 4:r.claims=s.google.protobuf.Struct.decode(e,e.uint32());break;case 5:r.accessLevels&&r.accessLevels.length||(r.accessLevels=[]),r.accessLevels.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.principal&&e.hasOwnProperty("principal")&&!u.isString(e.principal))return"principal: string expected";if(null!=e.audiences&&e.hasOwnProperty("audiences")){if(!Array.isArray(e.audiences))return"audiences: array expected";for(var t=0;t<e.audiences.length;++t)if(!u.isString(e.audiences[t]))return"audiences: string[] expected"}if(null!=e.presenter&&e.hasOwnProperty("presenter")&&!u.isString(e.presenter))return"presenter: string expected";if(null!=e.claims&&e.hasOwnProperty("claims")){var n=s.google.protobuf.Struct.verify(e.claims);if(n)return"claims."+n}if(null!=e.accessLevels&&e.hasOwnProperty("accessLevels")){if(!Array.isArray(e.accessLevels))return"accessLevels: array expected";for(var r=0;r<e.accessLevels.length;++r)if(!u.isString(e.accessLevels[r]))return"accessLevels: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext.Auth)return e;var t=new s.google.rpc.context.AttributeContext.Auth;if(null!=e.principal&&(t.principal=String(e.principal)),e.audiences){if(!Array.isArray(e.audiences))throw TypeError(".google.rpc.context.AttributeContext.Auth.audiences: array expected");t.audiences=[];for(var n=0;n<e.audiences.length;++n)t.audiences[n]=String(e.audiences[n])}if(null!=e.presenter&&(t.presenter=String(e.presenter)),null!=e.claims){if("object"!==(0,o.default)(e.claims))throw TypeError(".google.rpc.context.AttributeContext.Auth.claims: object expected");t.claims=s.google.protobuf.Struct.fromObject(e.claims)}if(e.accessLevels){if(!Array.isArray(e.accessLevels))throw TypeError(".google.rpc.context.AttributeContext.Auth.accessLevels: array expected");t.accessLevels=[];for(var r=0;r<e.accessLevels.length;++r)t.accessLevels[r]=String(e.accessLevels[r])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.audiences=[],n.accessLevels=[]),t.defaults&&(n.principal="",n.presenter="",n.claims=null),null!=e.principal&&e.hasOwnProperty("principal")&&(n.principal=e.principal),e.audiences&&e.audiences.length){n.audiences=[];for(var r=0;r<e.audiences.length;++r)n.audiences[r]=e.audiences[r]}if(null!=e.presenter&&e.hasOwnProperty("presenter")&&(n.presenter=e.presenter),null!=e.claims&&e.hasOwnProperty("claims")&&(n.claims=s.google.protobuf.Struct.toObject(e.claims,t)),e.accessLevels&&e.accessLevels.length){n.accessLevels=[];for(var o=0;o<e.accessLevels.length;++o)n.accessLevels[o]=e.accessLevels[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Request=function(){function e(e){if(this.headers={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.method="",e.prototype.headers=u.emptyObject,e.prototype.path="",e.prototype.host="",e.prototype.scheme="",e.prototype.query="",e.prototype.time=null,e.prototype.size=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.protocol="",e.prototype.reason="",e.prototype.auth=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(18).string(e.method),null!=e.headers&&Object.hasOwnProperty.call(e,"headers"))for(var n=Object.keys(e.headers),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(18).string(e.headers[n[r]]).ldelim();return null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(34).string(e.path),null!=e.host&&Object.hasOwnProperty.call(e,"host")&&t.uint32(42).string(e.host),null!=e.scheme&&Object.hasOwnProperty.call(e,"scheme")&&t.uint32(50).string(e.scheme),null!=e.query&&Object.hasOwnProperty.call(e,"query")&&t.uint32(58).string(e.query),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&s.google.protobuf.Timestamp.encode(e.time,t.uint32(74).fork()).ldelim(),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(80).int64(e.size),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(90).string(e.protocol),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(98).string(e.reason),null!=e.auth&&Object.hasOwnProperty.call(e,"auth")&&s.google.rpc.context.AttributeContext.Auth.encode(e.auth,t.uint32(106).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.rpc.context.AttributeContext.Request;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.string();break;case 2:i.method=e.string();break;case 3:i.headers===u.emptyObject&&(i.headers={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.headers[n]=r;break;case 4:i.path=e.string();break;case 5:i.host=e.string();break;case 6:i.scheme=e.string();break;case 7:i.query=e.string();break;case 9:i.time=s.google.protobuf.Timestamp.decode(e,e.uint32());break;case 10:i.size=e.int64();break;case 11:i.protocol=e.string();break;case 12:i.reason=e.string();break;case 13:i.auth=s.google.rpc.context.AttributeContext.Auth.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!u.isString(e.id))return"id: string expected";if(null!=e.method&&e.hasOwnProperty("method")&&!u.isString(e.method))return"method: string expected";if(null!=e.headers&&e.hasOwnProperty("headers")){if(!u.isObject(e.headers))return"headers: object expected";for(var t=Object.keys(e.headers),n=0;n<t.length;++n)if(!u.isString(e.headers[t[n]]))return"headers: string{k:string} expected"}if(null!=e.path&&e.hasOwnProperty("path")&&!u.isString(e.path))return"path: string expected";if(null!=e.host&&e.hasOwnProperty("host")&&!u.isString(e.host))return"host: string expected";if(null!=e.scheme&&e.hasOwnProperty("scheme")&&!u.isString(e.scheme))return"scheme: string expected";if(null!=e.query&&e.hasOwnProperty("query")&&!u.isString(e.query))return"query: string expected";if(null!=e.time&&e.hasOwnProperty("time")){var r=s.google.protobuf.Timestamp.verify(e.time);if(r)return"time."+r}if(null!=e.size&&e.hasOwnProperty("size")&&!(u.isInteger(e.size)||e.size&&u.isInteger(e.size.low)&&u.isInteger(e.size.high)))return"size: integer|Long expected";if(null!=e.protocol&&e.hasOwnProperty("protocol")&&!u.isString(e.protocol))return"protocol: string expected";if(null!=e.reason&&e.hasOwnProperty("reason")&&!u.isString(e.reason))return"reason: string expected";if(null!=e.auth&&e.hasOwnProperty("auth")){var i=s.google.rpc.context.AttributeContext.Auth.verify(e.auth);if(i)return"auth."+i}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext.Request)return e;var t=new s.google.rpc.context.AttributeContext.Request;if(null!=e.id&&(t.id=String(e.id)),null!=e.method&&(t.method=String(e.method)),e.headers){if("object"!==(0,o.default)(e.headers))throw TypeError(".google.rpc.context.AttributeContext.Request.headers: object expected");t.headers={};for(var n=Object.keys(e.headers),r=0;r<n.length;++r)t.headers[n[r]]=String(e.headers[n[r]])}if(null!=e.path&&(t.path=String(e.path)),null!=e.host&&(t.host=String(e.host)),null!=e.scheme&&(t.scheme=String(e.scheme)),null!=e.query&&(t.query=String(e.query)),null!=e.time){if("object"!==(0,o.default)(e.time))throw TypeError(".google.rpc.context.AttributeContext.Request.time: object expected");t.time=s.google.protobuf.Timestamp.fromObject(e.time)}if(null!=e.size&&(u.Long?(t.size=u.Long.fromValue(e.size)).unsigned=!1:"string"==typeof e.size?t.size=parseInt(e.size,10):"number"==typeof e.size?t.size=e.size:"object"===(0,o.default)(e.size)&&(t.size=new u.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber())),null!=e.protocol&&(t.protocol=String(e.protocol)),null!=e.reason&&(t.reason=String(e.reason)),null!=e.auth){if("object"!==(0,o.default)(e.auth))throw TypeError(".google.rpc.context.AttributeContext.Request.auth: object expected");t.auth=s.google.rpc.context.AttributeContext.Auth.fromObject(e.auth)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.headers={}),t.defaults){if(r.id="",r.method="",r.path="",r.host="",r.scheme="",r.query="",r.time=null,u.Long){var o=new u.Long(0,0,!1);r.size=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.size=t.longs===String?"0":0;r.protocol="",r.reason="",r.auth=null}if(null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.method&&e.hasOwnProperty("method")&&(r.method=e.method),e.headers&&(n=Object.keys(e.headers)).length){r.headers={};for(var i=0;i<n.length;++i)r.headers[n[i]]=e.headers[n[i]]}return null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),null!=e.host&&e.hasOwnProperty("host")&&(r.host=e.host),null!=e.scheme&&e.hasOwnProperty("scheme")&&(r.scheme=e.scheme),null!=e.query&&e.hasOwnProperty("query")&&(r.query=e.query),null!=e.time&&e.hasOwnProperty("time")&&(r.time=s.google.protobuf.Timestamp.toObject(e.time,t)),null!=e.size&&e.hasOwnProperty("size")&&("number"==typeof e.size?r.size=t.longs===String?String(e.size):e.size:r.size=t.longs===String?u.Long.prototype.toString.call(e.size):t.longs===Number?new u.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber():e.size),null!=e.protocol&&e.hasOwnProperty("protocol")&&(r.protocol=e.protocol),null!=e.reason&&e.hasOwnProperty("reason")&&(r.reason=e.reason),null!=e.auth&&e.hasOwnProperty("auth")&&(r.auth=s.google.rpc.context.AttributeContext.Auth.toObject(e.auth,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Response=function(){function e(e){if(this.headers={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.size=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.headers=u.emptyObject,e.prototype.time=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int64(e.code),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int64(e.size),null!=e.headers&&Object.hasOwnProperty.call(e,"headers"))for(var n=Object.keys(e.headers),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(18).string(e.headers[n[r]]).ldelim();return null!=e.time&&Object.hasOwnProperty.call(e,"time")&&s.google.protobuf.Timestamp.encode(e.time,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.rpc.context.AttributeContext.Response;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.code=e.int64();break;case 2:i.size=e.int64();break;case 3:i.headers===u.emptyObject&&(i.headers={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.headers[n]=r;break;case 4:i.time=s.google.protobuf.Timestamp.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!(u.isInteger(e.code)||e.code&&u.isInteger(e.code.low)&&u.isInteger(e.code.high)))return"code: integer|Long expected";if(null!=e.size&&e.hasOwnProperty("size")&&!(u.isInteger(e.size)||e.size&&u.isInteger(e.size.low)&&u.isInteger(e.size.high)))return"size: integer|Long expected";if(null!=e.headers&&e.hasOwnProperty("headers")){if(!u.isObject(e.headers))return"headers: object expected";for(var t=Object.keys(e.headers),n=0;n<t.length;++n)if(!u.isString(e.headers[t[n]]))return"headers: string{k:string} expected"}if(null!=e.time&&e.hasOwnProperty("time")){var r=s.google.protobuf.Timestamp.verify(e.time);if(r)return"time."+r}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext.Response)return e;var t=new s.google.rpc.context.AttributeContext.Response;if(null!=e.code&&(u.Long?(t.code=u.Long.fromValue(e.code)).unsigned=!1:"string"==typeof e.code?t.code=parseInt(e.code,10):"number"==typeof e.code?t.code=e.code:"object"===(0,o.default)(e.code)&&(t.code=new u.LongBits(e.code.low>>>0,e.code.high>>>0).toNumber())),null!=e.size&&(u.Long?(t.size=u.Long.fromValue(e.size)).unsigned=!1:"string"==typeof e.size?t.size=parseInt(e.size,10):"number"==typeof e.size?t.size=e.size:"object"===(0,o.default)(e.size)&&(t.size=new u.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber())),e.headers){if("object"!==(0,o.default)(e.headers))throw TypeError(".google.rpc.context.AttributeContext.Response.headers: object expected");t.headers={};for(var n=Object.keys(e.headers),r=0;r<n.length;++r)t.headers[n[r]]=String(e.headers[n[r]])}if(null!=e.time){if("object"!==(0,o.default)(e.time))throw TypeError(".google.rpc.context.AttributeContext.Response.time: object expected");t.time=s.google.protobuf.Timestamp.fromObject(e.time)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.headers={}),t.defaults){if(u.Long){var o=new u.Long(0,0,!1);r.code=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.code=t.longs===String?"0":0;if(u.Long){var i=new u.Long(0,0,!1);r.size=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.size=t.longs===String?"0":0;r.time=null}if(null!=e.code&&e.hasOwnProperty("code")&&("number"==typeof e.code?r.code=t.longs===String?String(e.code):e.code:r.code=t.longs===String?u.Long.prototype.toString.call(e.code):t.longs===Number?new u.LongBits(e.code.low>>>0,e.code.high>>>0).toNumber():e.code),null!=e.size&&e.hasOwnProperty("size")&&("number"==typeof e.size?r.size=t.longs===String?String(e.size):e.size:r.size=t.longs===String?u.Long.prototype.toString.call(e.size):t.longs===Number?new u.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber():e.size),e.headers&&(n=Object.keys(e.headers)).length){r.headers={};for(var a=0;a<n.length;++a)r.headers[n[a]]=e.headers[n[a]]}return null!=e.time&&e.hasOwnProperty("time")&&(r.time=s.google.protobuf.Timestamp.toObject(e.time,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e.Resource=function(){function e(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.service="",e.prototype.name="",e.prototype.type="",e.prototype.labels=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(10).string(e.service),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(26).string(e.type),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]).uint32(18).string(e.labels[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.rpc.context.AttributeContext.Resource;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.service=e.string();break;case 2:i.name=e.string();break;case 3:i.type=e.string();break;case 4:i.labels===u.emptyObject&&(i.labels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.labels[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.service&&e.hasOwnProperty("service")&&!u.isString(e.service))return"service: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type))return"type: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!u.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return"labels: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.context.AttributeContext.Resource)return e;var t=new s.google.rpc.context.AttributeContext.Resource;if(null!=e.service&&(t.service=String(e.service)),null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),e.labels){if("object"!==(0,o.default)(e.labels))throw TypeError(".google.rpc.context.AttributeContext.Resource.labels: object expected");t.labels={};for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.labels={}),t.defaults&&(r.service="",r.name="",r.type=""),null!=e.service&&e.hasOwnProperty("service")&&(r.service=e.service),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.labels&&(n=Object.keys(e.labels)).length){r.labels={};for(var o=0;o<n.length;++o)r.labels[n[o]]=e.labels[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),m),y.RetryInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.retryDelay=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.retryDelay&&Object.hasOwnProperty.call(e,"retryDelay")&&s.google.protobuf.Duration.encode(e.retryDelay,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.RetryInfo;e.pos<n;){var o=e.uint32();o>>>3==1?r.retryDelay=s.google.protobuf.Duration.decode(e,e.uint32()):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.retryDelay&&e.hasOwnProperty("retryDelay")){var t=s.google.protobuf.Duration.verify(e.retryDelay);if(t)return"retryDelay."+t}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.RetryInfo)return e;var t=new s.google.rpc.RetryInfo;if(null!=e.retryDelay){if("object"!==(0,o.default)(e.retryDelay))throw TypeError(".google.rpc.RetryInfo.retryDelay: object expected");t.retryDelay=s.google.protobuf.Duration.fromObject(e.retryDelay)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.retryDelay=null),null!=e.retryDelay&&e.hasOwnProperty("retryDelay")&&(n.retryDelay=s.google.protobuf.Duration.toObject(e.retryDelay,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y.DebugInfo=function(){function e(e){if(this.stackEntries=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.stackEntries=u.emptyArray,e.prototype.detail="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.stackEntries&&e.stackEntries.length)for(var n=0;n<e.stackEntries.length;++n)t.uint32(10).string(e.stackEntries[n]);return null!=e.detail&&Object.hasOwnProperty.call(e,"detail")&&t.uint32(18).string(e.detail),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.DebugInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.stackEntries&&r.stackEntries.length||(r.stackEntries=[]),r.stackEntries.push(e.string());break;case 2:r.detail=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.stackEntries&&e.hasOwnProperty("stackEntries")){if(!Array.isArray(e.stackEntries))return"stackEntries: array expected";for(var t=0;t<e.stackEntries.length;++t)if(!u.isString(e.stackEntries[t]))return"stackEntries: string[] expected"}return null!=e.detail&&e.hasOwnProperty("detail")&&!u.isString(e.detail)?"detail: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.DebugInfo)return e;var t=new s.google.rpc.DebugInfo;if(e.stackEntries){if(!Array.isArray(e.stackEntries))throw TypeError(".google.rpc.DebugInfo.stackEntries: array expected");t.stackEntries=[];for(var n=0;n<e.stackEntries.length;++n)t.stackEntries[n]=String(e.stackEntries[n])}return null!=e.detail&&(t.detail=String(e.detail)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.stackEntries=[]),t.defaults&&(n.detail=""),e.stackEntries&&e.stackEntries.length){n.stackEntries=[];for(var r=0;r<e.stackEntries.length;++r)n.stackEntries[r]=e.stackEntries[r]}return null!=e.detail&&e.hasOwnProperty("detail")&&(n.detail=e.detail),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y.QuotaFailure=function(){function e(e){if(this.violations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.violations=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.violations&&e.violations.length)for(var n=0;n<e.violations.length;++n)s.google.rpc.QuotaFailure.Violation.encode(e.violations[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.QuotaFailure;e.pos<n;){var o=e.uint32();o>>>3==1?(r.violations&&r.violations.length||(r.violations=[]),r.violations.push(s.google.rpc.QuotaFailure.Violation.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.violations&&e.hasOwnProperty("violations")){if(!Array.isArray(e.violations))return"violations: array expected";for(var t=0;t<e.violations.length;++t){var n=s.google.rpc.QuotaFailure.Violation.verify(e.violations[t]);if(n)return"violations."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.QuotaFailure)return e;var t=new s.google.rpc.QuotaFailure;if(e.violations){if(!Array.isArray(e.violations))throw TypeError(".google.rpc.QuotaFailure.violations: array expected");t.violations=[];for(var n=0;n<e.violations.length;++n){if("object"!==(0,o.default)(e.violations[n]))throw TypeError(".google.rpc.QuotaFailure.violations: object expected");t.violations[n]=s.google.rpc.QuotaFailure.Violation.fromObject(e.violations[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.violations=[]),e.violations&&e.violations.length){n.violations=[];for(var r=0;r<e.violations.length;++r)n.violations[r]=s.google.rpc.QuotaFailure.Violation.toObject(e.violations[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Violation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.subject="",e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.subject&&Object.hasOwnProperty.call(e,"subject")&&t.uint32(10).string(e.subject),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.QuotaFailure.Violation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.subject=e.string();break;case 2:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.subject&&e.hasOwnProperty("subject")&&!u.isString(e.subject)?"subject: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.QuotaFailure.Violation)return e;var t=new s.google.rpc.QuotaFailure.Violation;return null!=e.subject&&(t.subject=String(e.subject)),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.subject="",n.description=""),null!=e.subject&&e.hasOwnProperty("subject")&&(n.subject=e.subject),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),y.ErrorInfo=function(){function e(e){if(this.metadata={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reason="",e.prototype.domain="",e.prototype.metadata=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(10).string(e.reason),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(18).string(e.domain),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata"))for(var n=Object.keys(e.metadata),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(18).string(e.metadata[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.google.rpc.ErrorInfo;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.reason=e.string();break;case 2:i.domain=e.string();break;case 3:i.metadata===u.emptyObject&&(i.metadata={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.metadata[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.reason&&e.hasOwnProperty("reason")&&!u.isString(e.reason))return"reason: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!u.isObject(e.metadata))return"metadata: object expected";for(var t=Object.keys(e.metadata),n=0;n<t.length;++n)if(!u.isString(e.metadata[t[n]]))return"metadata: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.ErrorInfo)return e;var t=new s.google.rpc.ErrorInfo;if(null!=e.reason&&(t.reason=String(e.reason)),null!=e.domain&&(t.domain=String(e.domain)),e.metadata){if("object"!==(0,o.default)(e.metadata))throw TypeError(".google.rpc.ErrorInfo.metadata: object expected");t.metadata={};for(var n=Object.keys(e.metadata),r=0;r<n.length;++r)t.metadata[n[r]]=String(e.metadata[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.metadata={}),t.defaults&&(r.reason="",r.domain=""),null!=e.reason&&e.hasOwnProperty("reason")&&(r.reason=e.reason),null!=e.domain&&e.hasOwnProperty("domain")&&(r.domain=e.domain),e.metadata&&(n=Object.keys(e.metadata)).length){r.metadata={};for(var o=0;o<n.length;++o)r.metadata[n[o]]=e.metadata[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y.PreconditionFailure=function(){function e(e){if(this.violations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.violations=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.violations&&e.violations.length)for(var n=0;n<e.violations.length;++n)s.google.rpc.PreconditionFailure.Violation.encode(e.violations[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.PreconditionFailure;e.pos<n;){var o=e.uint32();o>>>3==1?(r.violations&&r.violations.length||(r.violations=[]),r.violations.push(s.google.rpc.PreconditionFailure.Violation.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.violations&&e.hasOwnProperty("violations")){if(!Array.isArray(e.violations))return"violations: array expected";for(var t=0;t<e.violations.length;++t){var n=s.google.rpc.PreconditionFailure.Violation.verify(e.violations[t]);if(n)return"violations."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.PreconditionFailure)return e;var t=new s.google.rpc.PreconditionFailure;if(e.violations){if(!Array.isArray(e.violations))throw TypeError(".google.rpc.PreconditionFailure.violations: array expected");t.violations=[];for(var n=0;n<e.violations.length;++n){if("object"!==(0,o.default)(e.violations[n]))throw TypeError(".google.rpc.PreconditionFailure.violations: object expected");t.violations[n]=s.google.rpc.PreconditionFailure.Violation.fromObject(e.violations[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.violations=[]),e.violations&&e.violations.length){n.violations=[];for(var r=0;r<e.violations.length;++r)n.violations[r]=s.google.rpc.PreconditionFailure.Violation.toObject(e.violations[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Violation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.prototype.subject="",e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.subject&&Object.hasOwnProperty.call(e,"subject")&&t.uint32(18).string(e.subject),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.PreconditionFailure.Violation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.string();break;case 2:r.subject=e.string();break;case 3:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!u.isString(e.type)?"type: string expected":null!=e.subject&&e.hasOwnProperty("subject")&&!u.isString(e.subject)?"subject: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.PreconditionFailure.Violation)return e;var t=new s.google.rpc.PreconditionFailure.Violation;return null!=e.type&&(t.type=String(e.type)),null!=e.subject&&(t.subject=String(e.subject)),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type="",n.subject="",n.description=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.subject&&e.hasOwnProperty("subject")&&(n.subject=e.subject),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),y.BadRequest=function(){function e(e){if(this.fieldViolations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fieldViolations=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.fieldViolations&&e.fieldViolations.length)for(var n=0;n<e.fieldViolations.length;++n)s.google.rpc.BadRequest.FieldViolation.encode(e.fieldViolations[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.BadRequest;e.pos<n;){var o=e.uint32();o>>>3==1?(r.fieldViolations&&r.fieldViolations.length||(r.fieldViolations=[]),r.fieldViolations.push(s.google.rpc.BadRequest.FieldViolation.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.fieldViolations&&e.hasOwnProperty("fieldViolations")){if(!Array.isArray(e.fieldViolations))return"fieldViolations: array expected";for(var t=0;t<e.fieldViolations.length;++t){var n=s.google.rpc.BadRequest.FieldViolation.verify(e.fieldViolations[t]);if(n)return"fieldViolations."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.BadRequest)return e;var t=new s.google.rpc.BadRequest;if(e.fieldViolations){if(!Array.isArray(e.fieldViolations))throw TypeError(".google.rpc.BadRequest.fieldViolations: array expected");t.fieldViolations=[];for(var n=0;n<e.fieldViolations.length;++n){if("object"!==(0,o.default)(e.fieldViolations[n]))throw TypeError(".google.rpc.BadRequest.fieldViolations: object expected");t.fieldViolations[n]=s.google.rpc.BadRequest.FieldViolation.fromObject(e.fieldViolations[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fieldViolations=[]),e.fieldViolations&&e.fieldViolations.length){n.fieldViolations=[];for(var r=0;r<e.fieldViolations.length;++r)n.fieldViolations[r]=s.google.rpc.BadRequest.FieldViolation.toObject(e.fieldViolations[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.FieldViolation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.field="",e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.field&&Object.hasOwnProperty.call(e,"field")&&t.uint32(10).string(e.field),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.BadRequest.FieldViolation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.field=e.string();break;case 2:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.field&&e.hasOwnProperty("field")&&!u.isString(e.field)?"field: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.BadRequest.FieldViolation)return e;var t=new s.google.rpc.BadRequest.FieldViolation;return null!=e.field&&(t.field=String(e.field)),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.field="",n.description=""),null!=e.field&&e.hasOwnProperty("field")&&(n.field=e.field),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),y.RequestInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.requestId="",e.prototype.servingData="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&t.uint32(10).string(e.requestId),null!=e.servingData&&Object.hasOwnProperty.call(e,"servingData")&&t.uint32(18).string(e.servingData),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.RequestInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.requestId=e.string();break;case 2:r.servingData=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.requestId&&e.hasOwnProperty("requestId")&&!u.isString(e.requestId)?"requestId: string expected":null!=e.servingData&&e.hasOwnProperty("servingData")&&!u.isString(e.servingData)?"servingData: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.RequestInfo)return e;var t=new s.google.rpc.RequestInfo;return null!=e.requestId&&(t.requestId=String(e.requestId)),null!=e.servingData&&(t.servingData=String(e.servingData)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.requestId="",n.servingData=""),null!=e.requestId&&e.hasOwnProperty("requestId")&&(n.requestId=e.requestId),null!=e.servingData&&e.hasOwnProperty("servingData")&&(n.servingData=e.servingData),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y.ResourceInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resourceType="",e.prototype.resourceName="",e.prototype.owner="",e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.resourceType&&Object.hasOwnProperty.call(e,"resourceType")&&t.uint32(10).string(e.resourceType),null!=e.resourceName&&Object.hasOwnProperty.call(e,"resourceName")&&t.uint32(18).string(e.resourceName),null!=e.owner&&Object.hasOwnProperty.call(e,"owner")&&t.uint32(26).string(e.owner),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(34).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.ResourceInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resourceType=e.string();break;case 2:r.resourceName=e.string();break;case 3:r.owner=e.string();break;case 4:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.resourceType&&e.hasOwnProperty("resourceType")&&!u.isString(e.resourceType)?"resourceType: string expected":null!=e.resourceName&&e.hasOwnProperty("resourceName")&&!u.isString(e.resourceName)?"resourceName: string expected":null!=e.owner&&e.hasOwnProperty("owner")&&!u.isString(e.owner)?"owner: string expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.ResourceInfo)return e;var t=new s.google.rpc.ResourceInfo;return null!=e.resourceType&&(t.resourceType=String(e.resourceType)),null!=e.resourceName&&(t.resourceName=String(e.resourceName)),null!=e.owner&&(t.owner=String(e.owner)),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resourceType="",n.resourceName="",n.owner="",n.description=""),null!=e.resourceType&&e.hasOwnProperty("resourceType")&&(n.resourceType=e.resourceType),null!=e.resourceName&&e.hasOwnProperty("resourceName")&&(n.resourceName=e.resourceName),null!=e.owner&&e.hasOwnProperty("owner")&&(n.owner=e.owner),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y.Help=function(){function e(e){if(this.links=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.links=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.links&&e.links.length)for(var n=0;n<e.links.length;++n)s.google.rpc.Help.Link.encode(e.links[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.Help;e.pos<n;){var o=e.uint32();o>>>3==1?(r.links&&r.links.length||(r.links=[]),r.links.push(s.google.rpc.Help.Link.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.links&&e.hasOwnProperty("links")){if(!Array.isArray(e.links))return"links: array expected";for(var t=0;t<e.links.length;++t){var n=s.google.rpc.Help.Link.verify(e.links[t]);if(n)return"links."+n}}return null},e.fromObject=function(e){if(e instanceof s.google.rpc.Help)return e;var t=new s.google.rpc.Help;if(e.links){if(!Array.isArray(e.links))throw TypeError(".google.rpc.Help.links: array expected");t.links=[];for(var n=0;n<e.links.length;++n){if("object"!==(0,o.default)(e.links[n]))throw TypeError(".google.rpc.Help.links: object expected");t.links[n]=s.google.rpc.Help.Link.fromObject(e.links[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.links=[]),e.links&&e.links.length){n.links=[];for(var r=0;r<e.links.length;++r)n.links[r]=s.google.rpc.Help.Link.toObject(e.links[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.Link=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.description="",e.prototype.url="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(10).string(e.description),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(18).string(e.url),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.Help.Link;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.description=e.string();break;case 2:r.url=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.description&&e.hasOwnProperty("description")&&!u.isString(e.description)?"description: string expected":null!=e.url&&e.hasOwnProperty("url")&&!u.isString(e.url)?"url: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.Help.Link)return e;var t=new s.google.rpc.Help.Link;return null!=e.description&&(t.description=String(e.description)),null!=e.url&&(t.url=String(e.url)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.description="",n.url=""),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),e}(),y.LocalizedMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.locale="",e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.locale&&Object.hasOwnProperty.call(e,"locale")&&t.uint32(10).string(e.locale),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.google.rpc.LocalizedMessage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.locale=e.string();break;case 2:r.message=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null!=e.locale&&e.hasOwnProperty("locale")&&!u.isString(e.locale)?"locale: string expected":null!=e.message&&e.hasOwnProperty("message")&&!u.isString(e.message)?"message: string expected":null},e.fromObject=function(e){if(e instanceof s.google.rpc.LocalizedMessage)return e;var t=new s.google.rpc.LocalizedMessage;return null!=e.locale&&(t.locale=String(e.locale)),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.locale="",n.message=""),null!=e.locale&&e.hasOwnProperty("locale")&&(n.locale=e.locale),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),y),v}();t.google=c;var d=s.cloud=function(){var e,t,n,r,c,d={};return d.appsheet=((c={}).monitoring=((r={}).v1=((n={}).FrontendMonitoringService=function(){function e(e,t,n){i.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.collectMonitoringData=function e(t,n){return this.rpcCall(e,s.cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest,s.cloud.appsheet.monitoring.v1.CollectMonitoringDataResponse,t,n)},"name",{value:"CollectMonitoringData"}),e}(),n.CollectMonitoringDataRequest=function(){function e(e){if(this.apiTimingEvents=[],this.structuredLogEvents=[],this.counterMetricEvents=[],this.distributionMetricEvents=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pageLoadSessionId="",e.prototype.appId="",e.prototype.sourceType=0,e.prototype.apiTimingEvents=u.emptyArray,e.prototype.structuredLogEvents=u.emptyArray,e.prototype.counterMetricEvents=u.emptyArray,e.prototype.distributionMetricEvents=u.emptyArray,e.prototype.commitHash="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.pageLoadSessionId&&Object.hasOwnProperty.call(e,"pageLoadSessionId")&&t.uint32(10).string(e.pageLoadSessionId),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(18).string(e.appId),null!=e.sourceType&&Object.hasOwnProperty.call(e,"sourceType")&&t.uint32(24).int32(e.sourceType),null!=e.apiTimingEvents&&e.apiTimingEvents.length)for(var n=0;n<e.apiTimingEvents.length;++n)s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent.encode(e.apiTimingEvents[n],t.uint32(34).fork()).ldelim();if(null!=e.structuredLogEvents&&e.structuredLogEvents.length)for(var r=0;r<e.structuredLogEvents.length;++r)s.cloud.appsheet.monitoring.v1.StructuredLogEvent.encode(e.structuredLogEvents[r],t.uint32(42).fork()).ldelim();if(null!=e.counterMetricEvents&&e.counterMetricEvents.length)for(var o=0;o<e.counterMetricEvents.length;++o)s.cloud.appsheet.monitoring.v1.CounterMetricEvent.encode(e.counterMetricEvents[o],t.uint32(50).fork()).ldelim();if(null!=e.distributionMetricEvents&&e.distributionMetricEvents.length)for(var i=0;i<e.distributionMetricEvents.length;++i)s.cloud.appsheet.monitoring.v1.DistributionMetricEvent.encode(e.distributionMetricEvents[i],t.uint32(58).fork()).ldelim();return null!=e.commitHash&&Object.hasOwnProperty.call(e,"commitHash")&&t.uint32(66).string(e.commitHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.pageLoadSessionId=e.string();break;case 2:r.appId=e.string();break;case 3:r.sourceType=e.int32();break;case 4:r.apiTimingEvents&&r.apiTimingEvents.length||(r.apiTimingEvents=[]),r.apiTimingEvents.push(s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent.decode(e,e.uint32()));break;case 5:r.structuredLogEvents&&r.structuredLogEvents.length||(r.structuredLogEvents=[]),r.structuredLogEvents.push(s.cloud.appsheet.monitoring.v1.StructuredLogEvent.decode(e,e.uint32()));break;case 6:r.counterMetricEvents&&r.counterMetricEvents.length||(r.counterMetricEvents=[]),r.counterMetricEvents.push(s.cloud.appsheet.monitoring.v1.CounterMetricEvent.decode(e,e.uint32()));break;case 7:r.distributionMetricEvents&&r.distributionMetricEvents.length||(r.distributionMetricEvents=[]),r.distributionMetricEvents.push(s.cloud.appsheet.monitoring.v1.DistributionMetricEvent.decode(e,e.uint32()));break;case 8:r.commitHash=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.pageLoadSessionId&&e.hasOwnProperty("pageLoadSessionId")&&!u.isString(e.pageLoadSessionId))return"pageLoadSessionId: string expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!u.isString(e.appId))return"appId: string expected";if(null!=e.sourceType&&e.hasOwnProperty("sourceType"))switch(e.sourceType){default:return"sourceType: enum value expected";case 0:case 1:}if(null!=e.apiTimingEvents&&e.hasOwnProperty("apiTimingEvents")){if(!Array.isArray(e.apiTimingEvents))return"apiTimingEvents: array expected";for(var t=0;t<e.apiTimingEvents.length;++t){var n=s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent.verify(e.apiTimingEvents[t]);if(n)return"apiTimingEvents."+n}}if(null!=e.structuredLogEvents&&e.hasOwnProperty("structuredLogEvents")){if(!Array.isArray(e.structuredLogEvents))return"structuredLogEvents: array expected";for(var r=0;r<e.structuredLogEvents.length;++r){var i=s.cloud.appsheet.monitoring.v1.StructuredLogEvent.verify(e.structuredLogEvents[r]);if(i)return"structuredLogEvents."+i}}if(null!=e.counterMetricEvents&&e.hasOwnProperty("counterMetricEvents")){if(!Array.isArray(e.counterMetricEvents))return"counterMetricEvents: array expected";for(var a=0;a<e.counterMetricEvents.length;++a){var l=s.cloud.appsheet.monitoring.v1.CounterMetricEvent.verify(e.counterMetricEvents[a]);if(l)return"counterMetricEvents."+l}}if(null!=e.distributionMetricEvents&&e.hasOwnProperty("distributionMetricEvents")){if(!Array.isArray(e.distributionMetricEvents))return"distributionMetricEvents: array expected";for(var c=0;c<e.distributionMetricEvents.length;++c){var d=s.cloud.appsheet.monitoring.v1.DistributionMetricEvent.verify(e.distributionMetricEvents[c]);if(d)return"distributionMetricEvents."+d}}return null!=e.commitHash&&e.hasOwnProperty("commitHash")&&!u.isString(e.commitHash)?"commitHash: string expected":null},e.fromObject=function(e){if(e instanceof s.cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest)return e;var t=new s.cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest;switch(null!=e.pageLoadSessionId&&(t.pageLoadSessionId=String(e.pageLoadSessionId)),null!=e.appId&&(t.appId=String(e.appId)),e.sourceType){case"MONITORING_SOURCE_TYPE_UNKNOWN":case 0:t.sourceType=0;break;case"EDITOR":case 1:t.sourceType=1}if(e.apiTimingEvents){if(!Array.isArray(e.apiTimingEvents))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.apiTimingEvents: array expected");t.apiTimingEvents=[];for(var n=0;n<e.apiTimingEvents.length;++n){if("object"!==(0,o.default)(e.apiTimingEvents[n]))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.apiTimingEvents: object expected");t.apiTimingEvents[n]=s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent.fromObject(e.apiTimingEvents[n])}}if(e.structuredLogEvents){if(!Array.isArray(e.structuredLogEvents))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.structuredLogEvents: array expected");t.structuredLogEvents=[];for(var r=0;r<e.structuredLogEvents.length;++r){if("object"!==(0,o.default)(e.structuredLogEvents[r]))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.structuredLogEvents: object expected");t.structuredLogEvents[r]=s.cloud.appsheet.monitoring.v1.StructuredLogEvent.fromObject(e.structuredLogEvents[r])}}if(e.counterMetricEvents){if(!Array.isArray(e.counterMetricEvents))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.counterMetricEvents: array expected");t.counterMetricEvents=[];for(var i=0;i<e.counterMetricEvents.length;++i){if("object"!==(0,o.default)(e.counterMetricEvents[i]))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.counterMetricEvents: object expected");t.counterMetricEvents[i]=s.cloud.appsheet.monitoring.v1.CounterMetricEvent.fromObject(e.counterMetricEvents[i])}}if(e.distributionMetricEvents){if(!Array.isArray(e.distributionMetricEvents))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.distributionMetricEvents: array expected");t.distributionMetricEvents=[];for(var a=0;a<e.distributionMetricEvents.length;++a){if("object"!==(0,o.default)(e.distributionMetricEvents[a]))throw TypeError(".cloud.appsheet.monitoring.v1.CollectMonitoringDataRequest.distributionMetricEvents: object expected");t.distributionMetricEvents[a]=s.cloud.appsheet.monitoring.v1.DistributionMetricEvent.fromObject(e.distributionMetricEvents[a])}}return null!=e.commitHash&&(t.commitHash=String(e.commitHash)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.apiTimingEvents=[],n.structuredLogEvents=[],n.counterMetricEvents=[],n.distributionMetricEvents=[]),t.defaults&&(n.pageLoadSessionId="",n.appId="",n.sourceType=t.enums===String?"MONITORING_SOURCE_TYPE_UNKNOWN":0,n.commitHash=""),null!=e.pageLoadSessionId&&e.hasOwnProperty("pageLoadSessionId")&&(n.pageLoadSessionId=e.pageLoadSessionId),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.sourceType&&e.hasOwnProperty("sourceType")&&(n.sourceType=t.enums===String?s.cloud.appsheet.monitoring.v1.MonitoringSourceType[e.sourceType]:e.sourceType),e.apiTimingEvents&&e.apiTimingEvents.length){n.apiTimingEvents=[];for(var r=0;r<e.apiTimingEvents.length;++r)n.apiTimingEvents[r]=s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent.toObject(e.apiTimingEvents[r],t)}if(e.structuredLogEvents&&e.structuredLogEvents.length){n.structuredLogEvents=[];for(var o=0;o<e.structuredLogEvents.length;++o)n.structuredLogEvents[o]=s.cloud.appsheet.monitoring.v1.StructuredLogEvent.toObject(e.structuredLogEvents[o],t)}if(e.counterMetricEvents&&e.counterMetricEvents.length){n.counterMetricEvents=[];for(var i=0;i<e.counterMetricEvents.length;++i)n.counterMetricEvents[i]=s.cloud.appsheet.monitoring.v1.CounterMetricEvent.toObject(e.counterMetricEvents[i],t)}if(e.distributionMetricEvents&&e.distributionMetricEvents.length){n.distributionMetricEvents=[];for(var a=0;a<e.distributionMetricEvents.length;++a)n.distributionMetricEvents[a]=s.cloud.appsheet.monitoring.v1.DistributionMetricEvent.toObject(e.distributionMetricEvents[a],t)}return null!=e.commitHash&&e.hasOwnProperty("commitHash")&&(n.commitHash=e.commitHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.CollectMonitoringDataResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.cloud.appsheet.monitoring.v1.CollectMonitoringDataResponse;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(0,o.default)(e)||null===e?"object expected":null},e.fromObject=function(e){return e instanceof s.cloud.appsheet.monitoring.v1.CollectMonitoringDataResponse?e:new s.cloud.appsheet.monitoring.v1.CollectMonitoringDataResponse},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.PerformanceResourceTimingEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.eventId="",e.prototype.urlPath="",e.prototype.recordedTime=null,e.prototype.startTime=0,e.prototype.duration=0,e.prototype.redirectStart=0,e.prototype.redirectEnd=0,e.prototype.fetchStart=0,e.prototype.domainLookupStart=0,e.prototype.domainLookupEnd=0,e.prototype.connectStart=0,e.prototype.connectEnd=0,e.prototype.secureConnectionStart=0,e.prototype.requestStart=0,e.prototype.responseStart=0,e.prototype.responseEnd=0,e.prototype.transferSize=0,e.prototype.encodedBodySize=0,e.prototype.decodedBodySize=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.eventId&&Object.hasOwnProperty.call(e,"eventId")&&t.uint32(10).string(e.eventId),null!=e.urlPath&&Object.hasOwnProperty.call(e,"urlPath")&&t.uint32(18).string(e.urlPath),null!=e.recordedTime&&Object.hasOwnProperty.call(e,"recordedTime")&&s.google.protobuf.Timestamp.encode(e.recordedTime,t.uint32(26).fork()).ldelim(),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(33).double(e.startTime),null!=e.duration&&Object.hasOwnProperty.call(e,"duration")&&t.uint32(41).double(e.duration),null!=e.redirectStart&&Object.hasOwnProperty.call(e,"redirectStart")&&t.uint32(49).double(e.redirectStart),null!=e.redirectEnd&&Object.hasOwnProperty.call(e,"redirectEnd")&&t.uint32(57).double(e.redirectEnd),null!=e.fetchStart&&Object.hasOwnProperty.call(e,"fetchStart")&&t.uint32(65).double(e.fetchStart),null!=e.domainLookupStart&&Object.hasOwnProperty.call(e,"domainLookupStart")&&t.uint32(73).double(e.domainLookupStart),null!=e.domainLookupEnd&&Object.hasOwnProperty.call(e,"domainLookupEnd")&&t.uint32(81).double(e.domainLookupEnd),null!=e.connectStart&&Object.hasOwnProperty.call(e,"connectStart")&&t.uint32(89).double(e.connectStart),null!=e.connectEnd&&Object.hasOwnProperty.call(e,"connectEnd")&&t.uint32(97).double(e.connectEnd),null!=e.secureConnectionStart&&Object.hasOwnProperty.call(e,"secureConnectionStart")&&t.uint32(105).double(e.secureConnectionStart),null!=e.requestStart&&Object.hasOwnProperty.call(e,"requestStart")&&t.uint32(113).double(e.requestStart),null!=e.responseStart&&Object.hasOwnProperty.call(e,"responseStart")&&t.uint32(121).double(e.responseStart),null!=e.responseEnd&&Object.hasOwnProperty.call(e,"responseEnd")&&t.uint32(129).double(e.responseEnd),null!=e.transferSize&&Object.hasOwnProperty.call(e,"transferSize")&&t.uint32(137).double(e.transferSize),null!=e.encodedBodySize&&Object.hasOwnProperty.call(e,"encodedBodySize")&&t.uint32(145).double(e.encodedBodySize),null!=e.decodedBodySize&&Object.hasOwnProperty.call(e,"decodedBodySize")&&t.uint32(153).double(e.decodedBodySize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.eventId=e.string();break;case 2:r.urlPath=e.string();break;case 3:r.recordedTime=s.google.protobuf.Timestamp.decode(e,e.uint32());break;case 4:r.startTime=e.double();break;case 5:r.duration=e.double();break;case 6:r.redirectStart=e.double();break;case 7:r.redirectEnd=e.double();break;case 8:r.fetchStart=e.double();break;case 9:r.domainLookupStart=e.double();break;case 10:r.domainLookupEnd=e.double();break;case 11:r.connectStart=e.double();break;case 12:r.connectEnd=e.double();break;case 13:r.secureConnectionStart=e.double();break;case 14:r.requestStart=e.double();break;case 15:r.responseStart=e.double();break;case 16:r.responseEnd=e.double();break;case 17:r.transferSize=e.double();break;case 18:r.encodedBodySize=e.double();break;case 19:r.decodedBodySize=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.eventId&&e.hasOwnProperty("eventId")&&!u.isString(e.eventId))return"eventId: string expected";if(null!=e.urlPath&&e.hasOwnProperty("urlPath")&&!u.isString(e.urlPath))return"urlPath: string expected";if(null!=e.recordedTime&&e.hasOwnProperty("recordedTime")){var t=s.google.protobuf.Timestamp.verify(e.recordedTime);if(t)return"recordedTime."+t}return null!=e.startTime&&e.hasOwnProperty("startTime")&&"number"!=typeof e.startTime?"startTime: number expected":null!=e.duration&&e.hasOwnProperty("duration")&&"number"!=typeof e.duration?"duration: number expected":null!=e.redirectStart&&e.hasOwnProperty("redirectStart")&&"number"!=typeof e.redirectStart?"redirectStart: number expected":null!=e.redirectEnd&&e.hasOwnProperty("redirectEnd")&&"number"!=typeof e.redirectEnd?"redirectEnd: number expected":null!=e.fetchStart&&e.hasOwnProperty("fetchStart")&&"number"!=typeof e.fetchStart?"fetchStart: number expected":null!=e.domainLookupStart&&e.hasOwnProperty("domainLookupStart")&&"number"!=typeof e.domainLookupStart?"domainLookupStart: number expected":null!=e.domainLookupEnd&&e.hasOwnProperty("domainLookupEnd")&&"number"!=typeof e.domainLookupEnd?"domainLookupEnd: number expected":null!=e.connectStart&&e.hasOwnProperty("connectStart")&&"number"!=typeof e.connectStart?"connectStart: number expected":null!=e.connectEnd&&e.hasOwnProperty("connectEnd")&&"number"!=typeof e.connectEnd?"connectEnd: number expected":null!=e.secureConnectionStart&&e.hasOwnProperty("secureConnectionStart")&&"number"!=typeof e.secureConnectionStart?"secureConnectionStart: number expected":null!=e.requestStart&&e.hasOwnProperty("requestStart")&&"number"!=typeof e.requestStart?"requestStart: number expected":null!=e.responseStart&&e.hasOwnProperty("responseStart")&&"number"!=typeof e.responseStart?"responseStart: number expected":null!=e.responseEnd&&e.hasOwnProperty("responseEnd")&&"number"!=typeof e.responseEnd?"responseEnd: number expected":null!=e.transferSize&&e.hasOwnProperty("transferSize")&&"number"!=typeof e.transferSize?"transferSize: number expected":null!=e.encodedBodySize&&e.hasOwnProperty("encodedBodySize")&&"number"!=typeof e.encodedBodySize?"encodedBodySize: number expected":null!=e.decodedBodySize&&e.hasOwnProperty("decodedBodySize")&&"number"!=typeof e.decodedBodySize?"decodedBodySize: number expected":null},e.fromObject=function(e){if(e instanceof s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent)return e;var t=new s.cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent;if(null!=e.eventId&&(t.eventId=String(e.eventId)),null!=e.urlPath&&(t.urlPath=String(e.urlPath)),null!=e.recordedTime){if("object"!==(0,o.default)(e.recordedTime))throw TypeError(".cloud.appsheet.monitoring.v1.PerformanceResourceTimingEvent.recordedTime: object expected");t.recordedTime=s.google.protobuf.Timestamp.fromObject(e.recordedTime)}return null!=e.startTime&&(t.startTime=Number(e.startTime)),null!=e.duration&&(t.duration=Number(e.duration)),null!=e.redirectStart&&(t.redirectStart=Number(e.redirectStart)),null!=e.redirectEnd&&(t.redirectEnd=Number(e.redirectEnd)),null!=e.fetchStart&&(t.fetchStart=Number(e.fetchStart)),null!=e.domainLookupStart&&(t.domainLookupStart=Number(e.domainLookupStart)),null!=e.domainLookupEnd&&(t.domainLookupEnd=Number(e.domainLookupEnd)),null!=e.connectStart&&(t.connectStart=Number(e.connectStart)),null!=e.connectEnd&&(t.connectEnd=Number(e.connectEnd)),null!=e.secureConnectionStart&&(t.secureConnectionStart=Number(e.secureConnectionStart)),null!=e.requestStart&&(t.requestStart=Number(e.requestStart)),null!=e.responseStart&&(t.responseStart=Number(e.responseStart)),null!=e.responseEnd&&(t.responseEnd=Number(e.responseEnd)),null!=e.transferSize&&(t.transferSize=Number(e.transferSize)),null!=e.encodedBodySize&&(t.encodedBodySize=Number(e.encodedBodySize)),null!=e.decodedBodySize&&(t.decodedBodySize=Number(e.decodedBodySize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.eventId="",n.urlPath="",n.recordedTime=null,n.startTime=0,n.duration=0,n.redirectStart=0,n.redirectEnd=0,n.fetchStart=0,n.domainLookupStart=0,n.domainLookupEnd=0,n.connectStart=0,n.connectEnd=0,n.secureConnectionStart=0,n.requestStart=0,n.responseStart=0,n.responseEnd=0,n.transferSize=0,n.encodedBodySize=0,n.decodedBodySize=0),null!=e.eventId&&e.hasOwnProperty("eventId")&&(n.eventId=e.eventId),null!=e.urlPath&&e.hasOwnProperty("urlPath")&&(n.urlPath=e.urlPath),null!=e.recordedTime&&e.hasOwnProperty("recordedTime")&&(n.recordedTime=s.google.protobuf.Timestamp.toObject(e.recordedTime,t)),null!=e.startTime&&e.hasOwnProperty("startTime")&&(n.startTime=t.json&&!isFinite(e.startTime)?String(e.startTime):e.startTime),null!=e.duration&&e.hasOwnProperty("duration")&&(n.duration=t.json&&!isFinite(e.duration)?String(e.duration):e.duration),null!=e.redirectStart&&e.hasOwnProperty("redirectStart")&&(n.redirectStart=t.json&&!isFinite(e.redirectStart)?String(e.redirectStart):e.redirectStart),null!=e.redirectEnd&&e.hasOwnProperty("redirectEnd")&&(n.redirectEnd=t.json&&!isFinite(e.redirectEnd)?String(e.redirectEnd):e.redirectEnd),null!=e.fetchStart&&e.hasOwnProperty("fetchStart")&&(n.fetchStart=t.json&&!isFinite(e.fetchStart)?String(e.fetchStart):e.fetchStart),null!=e.domainLookupStart&&e.hasOwnProperty("domainLookupStart")&&(n.domainLookupStart=t.json&&!isFinite(e.domainLookupStart)?String(e.domainLookupStart):e.domainLookupStart),null!=e.domainLookupEnd&&e.hasOwnProperty("domainLookupEnd")&&(n.domainLookupEnd=t.json&&!isFinite(e.domainLookupEnd)?String(e.domainLookupEnd):e.domainLookupEnd),null!=e.connectStart&&e.hasOwnProperty("connectStart")&&(n.connectStart=t.json&&!isFinite(e.connectStart)?String(e.connectStart):e.connectStart),null!=e.connectEnd&&e.hasOwnProperty("connectEnd")&&(n.connectEnd=t.json&&!isFinite(e.connectEnd)?String(e.connectEnd):e.connectEnd),null!=e.secureConnectionStart&&e.hasOwnProperty("secureConnectionStart")&&(n.secureConnectionStart=t.json&&!isFinite(e.secureConnectionStart)?String(e.secureConnectionStart):e.secureConnectionStart),null!=e.requestStart&&e.hasOwnProperty("requestStart")&&(n.requestStart=t.json&&!isFinite(e.requestStart)?String(e.requestStart):e.requestStart),null!=e.responseStart&&e.hasOwnProperty("responseStart")&&(n.responseStart=t.json&&!isFinite(e.responseStart)?String(e.responseStart):e.responseStart),null!=e.responseEnd&&e.hasOwnProperty("responseEnd")&&(n.responseEnd=t.json&&!isFinite(e.responseEnd)?String(e.responseEnd):e.responseEnd),null!=e.transferSize&&e.hasOwnProperty("transferSize")&&(n.transferSize=t.json&&!isFinite(e.transferSize)?String(e.transferSize):e.transferSize),null!=e.encodedBodySize&&e.hasOwnProperty("encodedBodySize")&&(n.encodedBodySize=t.json&&!isFinite(e.encodedBodySize)?String(e.encodedBodySize):e.encodedBodySize),null!=e.decodedBodySize&&e.hasOwnProperty("decodedBodySize")&&(n.decodedBodySize=t.json&&!isFinite(e.decodedBodySize)?String(e.decodedBodySize):e.decodedBodySize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.StructuredLogEvent=function(){function e(e){if(this.payload={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.frontendLogLabel=0,e.prototype.payload=u.emptyObject,e.prototype.recordedTime=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.frontendLogLabel&&Object.hasOwnProperty.call(e,"frontendLogLabel")&&t.uint32(8).int32(e.frontendLogLabel),null!=e.payload&&Object.hasOwnProperty.call(e,"payload"))for(var n=Object.keys(e.payload),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]).uint32(18).string(e.payload[n[r]]).ldelim();return null!=e.recordedTime&&Object.hasOwnProperty.call(e,"recordedTime")&&s.google.protobuf.Timestamp.encode(e.recordedTime,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.cloud.appsheet.monitoring.v1.StructuredLogEvent;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.frontendLogLabel=e.int32();break;case 2:i.payload===u.emptyObject&&(i.payload={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.payload[n]=r;break;case 3:i.recordedTime=s.google.protobuf.Timestamp.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.frontendLogLabel&&e.hasOwnProperty("frontendLogLabel")&&0!==e.frontendLogLabel)return"frontendLogLabel: enum value expected";if(null!=e.payload&&e.hasOwnProperty("payload")){if(!u.isObject(e.payload))return"payload: object expected";for(var t=Object.keys(e.payload),n=0;n<t.length;++n)if(!u.isString(e.payload[t[n]]))return"payload: string{k:string} expected"}if(null!=e.recordedTime&&e.hasOwnProperty("recordedTime")){var r=s.google.protobuf.Timestamp.verify(e.recordedTime);if(r)return"recordedTime."+r}return null},e.fromObject=function(e){if(e instanceof s.cloud.appsheet.monitoring.v1.StructuredLogEvent)return e;var t=new s.cloud.appsheet.monitoring.v1.StructuredLogEvent;switch(e.frontendLogLabel){case"LOG_LABEL_UNKNOWN":case 0:t.frontendLogLabel=0}if(e.payload){if("object"!==(0,o.default)(e.payload))throw TypeError(".cloud.appsheet.monitoring.v1.StructuredLogEvent.payload: object expected");t.payload={};for(var n=Object.keys(e.payload),r=0;r<n.length;++r)t.payload[n[r]]=String(e.payload[n[r]])}if(null!=e.recordedTime){if("object"!==(0,o.default)(e.recordedTime))throw TypeError(".cloud.appsheet.monitoring.v1.StructuredLogEvent.recordedTime: object expected");t.recordedTime=s.google.protobuf.Timestamp.fromObject(e.recordedTime)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.payload={}),t.defaults&&(r.frontendLogLabel=t.enums===String?"LOG_LABEL_UNKNOWN":0,r.recordedTime=null),null!=e.frontendLogLabel&&e.hasOwnProperty("frontendLogLabel")&&(r.frontendLogLabel=t.enums===String?s.cloud.appsheet.monitoring.v1.FrontendLogLabel[e.frontendLogLabel]:e.frontendLogLabel),e.payload&&(n=Object.keys(e.payload)).length){r.payload={};for(var o=0;o<n.length;++o)r.payload[n[o]]=e.payload[n[o]]}return null!=e.recordedTime&&e.hasOwnProperty("recordedTime")&&(r.recordedTime=s.google.protobuf.Timestamp.toObject(e.recordedTime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.FrontendLogLabel=(e={},(t=Object.create(e))[e[0]="LOG_LABEL_UNKNOWN"]=0,t),n.MonitoringSourceType=function(){var e={},t=Object.create(e);return t[e[0]="MONITORING_SOURCE_TYPE_UNKNOWN"]=0,t[e[1]="EDITOR"]=1,t}(),n.CounterMetricEvent=function(){function e(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.value=0,e.prototype.labels=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(16).int32(e.value),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(18).string(e.labels[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.cloud.appsheet.monitoring.v1.CounterMetricEvent;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.name=e.string();break;case 2:i.value=e.int32();break;case 3:i.labels===u.emptyObject&&(i.labels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.labels[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")&&!u.isInteger(e.value))return"value: integer expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!u.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return"labels: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.cloud.appsheet.monitoring.v1.CounterMetricEvent)return e;var t=new s.cloud.appsheet.monitoring.v1.CounterMetricEvent;if(null!=e.name&&(t.name=String(e.name)),null!=e.value&&(t.value=0|e.value),e.labels){if("object"!==(0,o.default)(e.labels))throw TypeError(".cloud.appsheet.monitoring.v1.CounterMetricEvent.labels: object expected");t.labels={};for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.labels={}),t.defaults&&(r.name="",r.value=0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),e.labels&&(n=Object.keys(e.labels)).length){r.labels={};for(var o=0;o<n.length;++o)r.labels[n[o]]=e.labels[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n.DistributionMetricEvent=function(){function e(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.value=0,e.prototype.labels=u.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(18).string(e.labels[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new s.cloud.appsheet.monitoring.v1.DistributionMetricEvent;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.name=e.string();break;case 2:i.value=e.double();break;case 3:i.labels===u.emptyObject&&(i.labels={});var c=e.uint32()+e.pos;for(n="",r="";e.pos<c;){var d=e.uint32();switch(d>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&d)}}i.labels[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(0,o.default)(e)||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value)return"value: number expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!u.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return"labels: string{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof s.cloud.appsheet.monitoring.v1.DistributionMetricEvent)return e;var t=new s.cloud.appsheet.monitoring.v1.DistributionMetricEvent;if(null!=e.name&&(t.name=String(e.name)),null!=e.value&&(t.value=Number(e.value)),e.labels){if("object"!==(0,o.default)(e.labels))throw TypeError(".cloud.appsheet.monitoring.v1.DistributionMetricEvent.labels: object expected");t.labels={};for(var n=Object.keys(e.labels),r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.labels={}),t.defaults&&(r.name="",r.value=0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),e.labels&&(n=Object.keys(e.labels)).length){r.labels={};for(var o=0;o<n.length;++o)r.labels[n[o]]=e.labels[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),n),r),c),d}();t.cloud=d,e.exports=s},175042:()=>{}}]);
//# sourceMappingURL=/cloud-sources/prod/5b72e375323b98e00e4b6133c7712bad4ae0dcc44b958a03c1abe69d3742bd29.map/